(function(e){var m=window.AmazonUIPageJS||window.P,g=m._namespace||m.attributeErrors,b=g?g("DetailPageImageBlockSubAssets@controller","DetailPageImageBlockSubAssets"):m;b.guardFatal?b.guardFatal(e)(b,window):b.execute(function(){e(b,window)})})(function(e,m,g){e.when("A","imageBlockUtils").register("ImageBlockModel",function(b,c){function p(b,a,q,f,d,k){c.isDefined(b)&&(h.type=b);c.isDefined(a)&&(h.index=a);c.isDefined(q)&&(h.thumbnailIndex=q);c.isDefined(f)&&(h.variant=f);c.isDefined(d)&&(h.color=
d);h.shoppableScene=k||null}function l(b){p("image",0,0,"MAIN",b||a.landingAsinColor||a.defaultColor,null)}function f(a){a=a.data;d=b.copy(h);p(a.type,a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)}function k(a){f(a);a=b.copy(a);a.data=b.copy(h);n.dispatch("updateView",a)}function e(){d=b.copy(h);l(h.color)}var a,n,h={},d={},m,r;return function(c,g){n=g;a=c;n.register("updateSelection",k);n.register("updateModel",f);n.register("resetModel",e);this.init=function(){l()};this.getCurrentItem=
function(){return b.copy(h)};this.getPreviousItem=function(){return b.copy(d)};this.setCurrentEvent=function(a){m=a};this.getCurrentEvent=function(){return m};this.setImmersiveViewModalInstance=function(a){r=a};this.getImmersiveViewModalInstance=function(){return r};this.updateTitle=function(b){a.title=b};this.setToPreviousItem=function(){p(d.type,d.index,d.thumbnailIndex,d.variant,d.color,d.shoppableScene)};this.setToCurrentItem=function(a){p(a.type,a.index,a.thumbnailIndex,a.variant,a.color,a.shoppableScene)}}});
"use strict";e.when("imageBlockUtils").register("ImageBlockState",function(b){return function(c,e,l){this.getImageHash=function(f){var k=l.getCurrentItem();f=b.getIndexForVariant(k.color,f||"MAIN",c);return b.getImageHash(k.color,f,c)};this.onImageUpdateForTwister=function(b){e.register("updateSelection",function(c){"swatchClick"===c.type&&"function"===typeof b&&b()})}}});"use strict";e.when("jQuery","ImageBlockModel","ImageBlockView","imageBlockUtils","ImageBlockState").register("ImageBlockController",
function(b,c,e,l,f){var k={};return function(g){var a=this;a.dispatch=function(a,c){var d=k[a];l.isDefined(d)&&b.each(d,function(a,b){b.call(m,c)})};a.register=function(a,b){l.isDefined(k[a])||(k[a]=[]);"function"===typeof b&&k[a].push(b)};a.model=new c(g,a);a.view=new e(g,a,a.model);a.api=new f(g,a,a.model);a.init=function(){a.model.init();a.view.init()};a.init()}});"use strict";e.when("jQuery","ImageBlockController","ImageBlockATF","ImageBlockBTF").register("ImageBlock",function(b,c,g,l){b=b.extend(!0,
{},g,l);var f=new c(b);e.register("ImageBlockAPI",function(){return f.api});return f})});
/* ******** */
(function(E){var t=window.AmazonUIPageJS||window.P,W=t._namespace||t.attributeErrors,m=W?W("DetailPageImageBlockSubAssets@baseViews","DetailPageImageBlockSubAssets"):t;m.guardFatal?m.guardFatal(E)(m,window):m.execute(function(){E(m,window)})})(function(E,t,W){E.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAdditionalAltImageView",function(m,a,f,ha,k,N,H){function L(d,b,p,c,n){if(!f.isjQueryObjDefined(d.find(".a-button-selected"))){var x=
G.getCurrentItem();if(!c||"chromeless-video"!==x.type||!g.autoplayVideo){c=0;"image"===x.type&&(c=Math.max(f.getIndexForVariant(x.color,x.variant,g),0));var l=0;f.isDefined(g.heroImage[x.color])&&(l=g.heroImage[x.color].length);n=c-(b>=g.maxAlts?g.maxAlts-n-l:0);b=0<=n?b+n:c+l;b>=p&&(c=0,b=l);p=f.getImageHash(x.color,c,g);-1!==p&&(v.dispatch("updateModel",{data:{index:c,thumbnailIndex:b,variant:p.variant,type:"image",shoppableScene:p.shoppableScene}}),p=d.find(".item").get(b),f.selectGivenThumbnail(a(p),
d))}}}function I(a){if(!g.useChildVideos)return f.lazyLoadingRequired(G.getCurrentItem(),G,g)?void 0:g.videos;if(g.colorToVideo[a])return g.colorToVideo[a];var b=g.colorToAsin[a];if(b&&b.asin){var d={};d.params={asin:b.asin,productGroupID:g.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:g.useChromelessVideoPlayer,isUDP:g.isUDP};g.isDPXFeatureEnabled||(d.success=function(b){videosOnTwisterRefresh(b)},ha.load(VIDEO_AJAX_ENDPOINT,d));return g.colorToVideo&&g.colorToVideo[a]}}function q(c,
b,p){if((2===g.unrolledImageBlockTreatment||3===g.unrolledImageBlockTreatment)&&p)return c;var x=I(b),n=f.isDefined(x)&&0<x.length&&g.alwaysIncludeVideo?1:0;b=g.colorImages&&g.colorImages[b];var x=c,l=0;f.isDefined(b)&&(a.each(b,function(b,h){if(l>=g.maxAlts-n&&c<g.maxAlts+g.additionalNumberOfImageAlts){if(2===g.unrolledImageBlockTreatment||3===g.unrolledImageBlockTreatment){var u=a(".thumbItemUnrolled");u[c]?u[c].querySelector("img").src=h.thumb:a('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+
b+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+(c+1)+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+(c+1)+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+(c+1)+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+h.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a(".regularAltImageViewLayout"))}else f.createThumbnail({type:"image",
index:b,thumbnailIndex:c,variant:h.variant,shoppableScene:h.shoppableScene},h.thumb,d,"imageThumbnail");c++}l++}),N.isEnabled&&H.logAltImgRequestPlacedOnThumbnails(a,N,G),L(d,x,c,p,n));return c}function D(a,b){g.useIV&&f.isDefined(b.hiRes)&&a.css("cursor","pointer")}function F(d,b){if("image"===d.type){var c=a("#image-canvas-caption #canvasCaption"),x,n=g.staticStrings,l=g.colorImages,w=d.color,h=d.index;f.isShoppableScenesEnabled()&&d.shoppableScene?x=n.clickSceneTagsToShopProducts:b&&g.useIV?x=
n.clickToExpand:l[w]&&l[w][h].hiRes&&g.useHoverZoom?(x=g.useHoverZoomIpad?n.touchToZoom:g.useClickZoom?n.clickToZoom:n.rollOverToZoom,g.hoverZoomIndicator&&(x="\x3cimg src\x3d'"+g.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+x)):g.useIV&&(x=n.clickToExpand);c.html(x)}}function A(d,b){var c="a-dynamic-image";if(!g.acEnabled){var x;a.each(d.main,function(b,u){f.isDefined(x)||(x=parseFloat(u[1]/u[0])<=parseFloat(g.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});c+=x}var n=f.getMaxDimensionsOfMainImage(d.main,
w,g),l=n[0],v=n[1],n=a("\x3cdiv\x3e\x3c/div\x3e"),l={"max-height":l,"max-width":v};n.addClass(c).css(l).attr({"data-old-hires":d.hiRes,"data-a-manual-replacement":"true",onload:b}).data("a-dynamic-image",d.main);return n}function r(f,b,a){var d="desktop-dp-atf-ib-shoppablescenes-tags-"+f;"function"==typeof uet&&uet("bb",d,{wb:1});a.attr("data-a-image-name","shoppable-scene:"+f);a=y.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");
a.addClass("celwidget").attr("cel_widget_id",d);a.children("span").css("display","inline-block");v.dispatch("initialize-shoppable-scene",{index:f,shoppableScene:b.shoppableScene,imageSource:b.hiRes||b.large||b.lowRes,$tagPlaceholder:a.find(".mirai-scene-tag-placeholder"),$viewProductsButton:a.find(".mirai-scene-view-products-button")});"MutationObserver"in t&&(new MutationObserver(function(a,d){a.forEach(function(a){"childList"===a.type&&a.target.classList.contains("mirai-scene-image-block-tag-container")&&
1===a.addedNodes.length&&"IMG"===a.addedNodes[0].tagName&&""!==a.addedNodes[0].src&&(a=a.addedNodes[0],"function"!==typeof a.onload&&(a.onload=function(){m.trigger("shoppable-scene-image-loaded",{index:f,shoppableScene:b.shoppableScene})}),d.disconnect())})})).observe(a.find(".mirai-scene-image-block-tag-container")[0],{subtree:!0,childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",d,{wb:1});return a}function z(a,b,d){d=A(a,d);a=f.isShoppableScenesEnabled()&&a.shoppableScene?r(b,a,d):y.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");
a.addClass("image item itemNo"+b+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":b+1});a.find(".placeHolder").replaceWith(d);y.find(".list").append(a);m.loadImageManually(d);return a}function J(a){var b=w.css("height");null!==b&&a.find(".imgTagWrapper").css("height",b);a.addClass("selected");g.imgTagWrapperClasses&&a.find(".imgTagWrapper").addClass(g.imgTagWrapperClasses)}function M(d,
b,c,x){if((2===g.unrolledImageBlockTreatment||3===g.unrolledImageBlockTreatment)&&!x&&"unavailable"!==d.type){d=g.colorImages&&g.colorImages[c];b=a(".unrolledImg");c=I(c);var l=f.isDefined(c)&&0<c.length&&g.alwaysIncludeVideo?1:0;b.length>g.maxAlts&&b.each(function(b){b>=g.maxAlts&&a(this).remove()});f.isDefined(d)&&a.each(d,function(b,d){b<g.maxAlts-l+g.additionalNumberOfImageAlts&&b>=g.maxAlts-l&&a('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+
(b+l+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+(b+l)+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+(b+l)+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+
d.large+'" data-a-hires\x3d"'+d.hiRes+'"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a(".unrolledScrollBox .list-unrolled"))})}else if("image"===d.type||"unavailable"===d.type||"lazy-loaded"===d.type){c=f.getImageHash(d.color,d.index,g);if(-1===c)return b={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},f.lazyLoadingRequired(d,G,g)||(v.dispatch("updateModel",b),f.showUnavailable(d.color)),-1;x=y.find(".item.itemNo"+d.thumbnailIndex);f.isjQueryObjDefined(x)||
(x=z(c,d.thumbnailIndex,b));J(x);v.dispatch("loadMagnifier");F(d);D(x,c);m.trigger("dp:image-block:update",c)}}function l(a){var b=G.getCurrentItem().color;g.colorImages[b]||(g.colorImages[b]=a);a={type:"updatedData",data:G.getCurrentItem()};v.dispatch("updateView",a);(b=g.colorToAsin[b])&&b.asin&&E.register(f.rankedImagesReadyEvent(b.asin))}function c(){var d=y.find(".item .imgTagWrapper"),b=f.getContainerHeight(w,g.holderRatio,g.holderMaxHeight);0<b&&(w.height(b),d.height(b));y.find("img.a-dynamic-image").each(function(){var b=
a(this);b.data("a-manual-replacement")&&m.loadDynamicImage(this);var d=b.data("a-dynamic-image"),d=f.getMaxDimensionsOfMainImage(d,w,g);b.css({"max-height":d[0]+"px","max-width":d[1]+"px"})})}function x(a){F(G.getCurrentItem(),"mouseenter"===a.type)}var S,g,G,v,d,y,w,T;return function(k,b,p,r){S=this;g=k;G=b;v=r;m.on("triggerImageAjax",l);g.colorImages[g.landingAsinColor]=g.colorImages[g.defaultColor];S.render=function(b,c,x,h,u,e,B){y=x;d=h;w=u;T=q(c,b,e);e||(c=G.getCurrentItem(),f.lazyLoadingRequired(c,
G,g)&&v.dispatch("updateModel",{data:{type:"lazy-loaded"}}));c=G.getCurrentItem();x=!e;f.lazyLoadingRequired(c,G,g)||(a("#imageBlock").css("opacity","1"),y.css("opacity","1"),f.spinner(y,!1),y.find("li").removeClass("selected"),a("#image-canvas-caption #canvasCaption").empty(),f.hideUnavailable(),x&&y.find(".list .item").remove());M(G.getCurrentItem(),B,b,e);return T};S.update=function(b){};g.overrideAltImageClickAction&&f.addTag("clickEnabledOnAltImages");v.register("imageHover",x);v.register("resize",
c)}});"use strict";E.when("A","jQuery","imageBlockUtils").register("ImageBlockAltImageIngressView",function(m,a,f){var t,k,N,H;return function(a,I,q,D){t=this;k=a;N=D;t.render=function(a,q,r,z,D,M,l){H=z;t=this;r=k.maxAlts;z=q;D=k.colorImages[a]?k.colorImages[a].length:0;D+=f.getVideosCount(a,k);a=k.heroImage[a];M=0;a&&(M=a.length);a=D+M;a>r&&(r=a-r,a=H.find(".altIngressTemplate").clone().removeClass("altIngressTemplate").removeClass("aok-hidden").addClass("item"),r+="+",z={type:"ingress",index:0,
thumbnailIndex:q,variant:""},a.find("#altIngressText").append(r),m.declarative.create(a,"thumb-action",z),H.append(a),z=q++);return z};t.update=function(a){"ingress"===a.data.type&&"click"===a.type&&N.dispatch("imageClick",a)}}});"use strict";E.when("A","jQuery","imageBlockUtils","ImageBlockHeroUtils").register("ImageBlockHeroImageView",function(m,a,f,t){function k(c,l,g,k){if(!f.isjQueryObjDefined(c.find(".a-button-selected"))){var v=z.getCurrentItem();if(!k||"chromeless-video"!==v.type||!r.autoplayVideo){k=
0;if("hero-image"===v.type){k=H(v.color,v.variant);if(-1===k)return;k=-1!==k?k:0}var d=l+k;d>=g&&(k=0,d=l);l=t.getHeroImageHash(r,v.color,k);-1!==l&&(J.dispatch("updateModel",{data:{index:k,thumbnailIndex:d,variant:l.variant,type:"hero-image"}}),l=c.find(".item").get(d),f.selectGivenThumbnail(a(l),c))}}}function N(c,l,g){if("hero-video"===z.getCurrentItem().type)return c;l=r.heroImage&&r.heroImage[l];var m=c;f.isDefined(l)&&(a.each(l,function(a,d){c<r.maxAlts&&(f.createThumbnail({type:"hero-image",
index:a,thumbnailIndex:c,variant:d.variant},d.thumb,M,"imageThumbnail"),c++)}),k(M,m,c,g));return c}function H(c,l){var g=r.heroImage;if(1>g.length||!f.isDefined(g[c])||!f.isDefined(l))return-1;var k=-1;a.each(g[c],function(a,d){d.variant===l&&(k=a)});return k}function L(){if(l.length&&r.repositionHeroImage){var a=t.getHeroDimParams(r,z.getCurrentItem()),c;f.isDefined(a)&&(c=f.isDefined(a.xPos)?a.xPos+"px "+a.yPos+"px ":"center "+a.yPos+"px ",l.css({"background-position":c,"background-size":a.width+
"px "+a.height+"px ","max-width":a.width+"px ","min-height":a.height+"px ",filter:"","-ms-filter":""}))}}function I(a,c,g,k){if(l.length&&a&&c){if("function"===typeof g||k){var v=new Image;v.onload=k?function(){l.css("background-image",'url("'+a+'")')}:g;v.src=a}g=c[1];var v=c[0],d;k||l.css({"background-image":'url("'+a+'")'});r.repositionHeroImage&&(c=t.getHeroDimParams(r,z.getCurrentItem(),c),f.isDefined(c)&&(g=c.width,v=c.height,d=f.isDefined(c.xPos)?c.xPos+"px "+c.yPos+"px ":"center "+c.yPos+
"px "));l.css({"background-position":d,"background-size":g+"px "+v+"px ","max-width":g+"px ","min-height":v+"px ",filter:"","-ms-filter":""})}}function q(c,f,l,k){c=t.getHeroImageHash(r,c,f);if(-1===c)return-1;f=a.map(c.main,function(a,d){return d})[0];I(f,c.main[f],l,k)}function D(a,c,f){if("hero-image"!==a.type)return-1;var l=H(a.color,z.getCurrentItem().variant),l=-1!==l?l:0;if(-1===t.getHeroImageHash(r,a.color,l))return-1;var k=z.getCurrentItem();a.thumbnailIndex=k.thumbnailIndex;a.type=k.type;
a.variant=k.variant;a.index=l;F(a,c,f)}function F(a,f,g){var k=t.getHeroImageHash(r,a.color,a.index),v;v=a&&c&&m.equals(a,c)?!0:!1;c||(c=a);if(!v&&a||f)q(a.color,a.index,f,g),c=a;l.removeClass("hide-background");m.trigger("dp:image-block:update",k)}var A,r,z,J,M,l,c={};return function(c,k,g,m){A=this;r=c;z=k;J=m;r.heroImage[r.landingAsinColor]=r.heroImage[r.defaultColor];A.render=function(c,d,f,g,k,m,b){M=g;l=a("#heroImage");c=N(d,c,m);D(z.getCurrentItem(),b,m);return c};A.update=function(a){var c=
a.data;"ingress"!==c.type&&l.addClass("hide-background");"swatchHover"===a.type?a.captured||(c.type=z.getCurrentItem().type,-1!==D(c)&&(a.captured=!0)):"hero-image"===c.type&&(F(c),"click"!==a.type&&r.usePeekHover||f.selectGivenThumbnail(a.$declarativeParent,M))};J.register("resize",L)}});"use strict";E.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockMagnifierView",function(m,a,f,E,k,N){function H(a){M?a.css("cursor","url('"+F.staticImages.zoomIn+
"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in"))}function L(a){var c=a.match(/\._((\w|,|\.)+)_\.(gif|jpg|png)$/i);a={};if(f.isDefined(c))for(var c=c[1].split("_"),k=0;k<c.length;k++){var m=c[k].match(/^([A-Z]+)(\d+(\.\d+)?)$/);f.isDefined(m)&&(a[m[1]]=parseInt(m[2],10))}return a}function I(l,c){function x(){var a;c.useClickZoom?(a=c.offsetInClickZoom,a=[Math.min(1,Math.max(0,A[0]-(C[0]+a))/(C[2]-2*a)),Math.min(1,Math.max(0,A[1]-(C[1]+a))/(C[3]-
2*a))]):a=p&&p.updatePosition();if(a&&b&&b.detailSize){var e=[b.detailSize[0]-b.rect.width,b.detailSize[1]-b.rect.height];m.capabilities.rtl?b.detailImage.get(0).style.right=-(a[0]*e[0])+"px":b.detailImage.get(0).style.left=-(a[0]*e[0])+"px";b.detailImage.get(0).style.top=-(a[1]*e[1])+"px"}}function r(a){return a.offsetParent().hasClass("a-dynamic-image-container")}function g(e){var b=B?e.originalEvent.touches[0]||e.originalEvent.changedTouches[0]:"";A=B?[b.pageX,b.pageY]:[e.pageX,e.pageY];if(m.capabilities.rtl){var h=
a(t).width();A=B?[h-b.pageX,b.pageY]:[h-e.pageX,e.pageY]}}function q(a){B&&a.preventDefault();g(a);c.useClickZoom?a=[C[0],C[1],C[0]+C[2],C[1]+C[3]]:(a=p?p.offset:l.offsetParent().offset(),a=F.acEnabled?[a.left,a.top,D.width()+a.left,D.height()+a.top]:[n[0]+a.left,n[1]+a.top,n[0]+n[2]+a.left,n[1]+n[3]+a.top]);A[0]<a[0]||A[1]<a[1]||A[0]>=a[2]||A[1]>=a[3]||F.acEnabled&&!r(l)?(c.fadeMagnifier?Y||(Y=!0,Z=setTimeout(function(){v(!0)},500)):c.useClickZoom||v(),J&&(J=!1,clearTimeout(da))):(J||(J=!0,da=setTimeout(function(){E.postCountMetric("dppc_hoverZoomOpened");
k.isEnabled&&N.logHoverZoomRequestServed(k)},1E3)),c.fadeMagnifier&&Y&&(Y=!1,clearTimeout(Z)),x())}function v(e){e&&w.suppressMagnifier(!0);if(h&&(b&&b.hide(),p&&(p.destroy(),p=null),h=!1,B?(l.unbind("touchmove.magnifier touchstart.magnifier touchend.magnifier"),a(document).trigger("disengaged.magnifier")):a(document).unbind("mousemove.magnifier").trigger("disengaged.magnifier"),y(),e))l.one("click.magnifier touchstart.magnifier",function(a){d(a,!0)})}function d(d,f){f&&w.suppressMagnifier(!1);if(!h&&
!u&&(0===O&&(E.postCountMetric("dppc_hoverTime",new Date-(t.ue&&t.ue.t0||0)),O=1),ba[e]||(E.postCountMetric("dppc_hoverMain"),ba[e]=1),n=[l.position().left,l.position().top,l.width(),l.height()],e&&(g(d),b?b.refit().show():b=new U,c.useClickZoom||(p=p||new K),C=b.getWindowSize(),x()),h=!0,B?(l.unbind("touchstart.magnifier touchmove.magnifier").bind("touchmove.magnifier",q).bind("touchend.magnifier",v),a(document).trigger("engaged.magnifier")):(F.acEnabled?D.unbind("mousemove.magnifier"):l.unbind("mousemove.magnifier"),
a(document).trigger("engaged.magnifier").bind("mousemove.magnifier",q)),f)){var k=a("#zoomWindow");if(0<k.length)k.one("click.magnifier touchend.magnifier",function(a){v(!0)})}}function y(){c.useHoverZoom&&(B?l.bind("touchstart.magnifier touchmove.magnifier",d):F.acEnabled?r(l)&&D.bind("mousemove.magnifier",d):l.bind("mousemove.magnifier",d))}var w=this,D=l.offsetParent(),z={detailImageUrl:l.attr("data-old-hires"),location:"over",locationElement:l,prelaod:"ready",zIndex:50,offsetInClickZoom:50};c=
a.extend(z,c);c.adjustment=[10,0,-10,0];var b=null,p=null,A=null,n=null,C=null,I={"null":1,"":1,undefined:1},h=!1,u=!1,e=c.detailImageUrl,B=c.useHoverZoomIpad||0,O=0,ba={},K=function(){function e(a){var h=Math.round(Math.min(l.width(),b.rect.width/a));a=Math.round(Math.min(l.height(),b.rect.height/a));B.css({width:h,height:a});d=[h,a]}var h=this,d=[0,0],f=(b.detailSize&&b.detailSize[0]||5E8)/n[2],u=(b.detailSize&&b.detailSize[1]||5E8)/n[3],f=u>f?u:f;a("#magnifierLens").remove();var B=a("\x3cdiv id\x3d'magnifierLens' /\x3e").css({position:"absolute"});
c.generalImageUrls.zoomLensBackground&&B.css({backgroundImage:"url("+c.generalImageUrls.zoomLensBackground+")"});F.showMagnifierOnHover?H(B):B.css("cursor","pointer");h.updatePosition=function(){var a=[n[2]-d[0],n[3]-d[1]],e=0>=a[0]?.5:Math.max(0,Math.min(1,(A[0]-d[0]/2-n[0]-h.offset.left)/a[0])),b=0>=a[1]?.5:Math.max(0,Math.min(1,(A[1]-d[1]/2-n[1]-h.offset.top)/a[1])),c=n[0]+Math.round(e*a[0]),a=n[1]+Math.round(b*a[1]);B.get(0).style.left=c+"px";B.get(0).style.top=a+"px";return[e,b]};h.destroy=function(){B.remove()};
h.offset=l.offsetParent().offset();e(f);h.updatePosition();B.appendTo(l.parent());b.detailImage[0].complete||b.detailImage.load(function(){var a=b.detailImage.width()/n[2];e(a);h.updatePosition()})};K.preload=function(){w.preload(c.generalImageUrls.lensBackgroundUrl)};var U=function(){function b(){var e={};if("over"===c.location){var e=c.useClickZoom,h={},B=a("#leftCol"),O=a("#centerCol"),k=a("#rightCol"),K=a("#hover-zoom-end"),n=a("#actionPanelContainer"),w=f.isjQueryObjDefined(B)?B.outerHeight():
O.outerHeight();h.top=f.isjQueryObjDefined(B)?B.offset().top:O.offset().top;h.bottom=w+h.top;h.right=f.isjQueryObjDefined(k)?k.offset().left:n.offset().left;h.left=e?0:B.offset().left+B.outerWidth();f.isjQueryObjDefined(K)&&K.offset().top>h.bottom&&(h.bottom=K.offset().top);e=h}else"right"===c.location&&(e=l.offset(),e={left:e.left+l.outerWidth(),top:e.top,right:e.left+l.outerWidth()+400,bottom:e.top+400});c.minHeightElement&&(e.bottom=Math.max(e.bottom,e.top+a(c.minHeightElement).outerHeight()));
e.bottom=Math.min(e.bottom,a(t).scrollTop()+a(t).height());e.left+=u[0];e.top+=u[1];e.right+=u[2];e.bottom+=u[3];e.width=e.right-e.left;e.height=e.bottom-e.top;c.enhancedHoverOverlay&&f.isDefined(t.pageXOffset)&&(h=a(t).width(),e.width=h-e.left+t.pageXOffset-18,e.height-=14);g.css({left:e.left,top:e.top,width:e.width,height:e.height});d.rect=e;return d}function h(a){var e=new Image;d.detailSize=[0,0];e.onload=function(){d.detailSize=[e.width,e.height];x()};e.src=a.attr("src");if(0<e.width&&0<e.height)d.detailSize=
[e.width,e.height];else if(c.detailImageSize)d.detailSize=c.detailImageSize;else{a=L(e.src);var b=n[2]/n[3];a.SS||a.AA?(a=a.SS||a.AA,d.detailSize=[a,a]):a.SX?d.detailSize=[a.SX,Math.round(a.SX/b)]:a.SY?d.detailSize=[Math.round(a.SY*b),a.SY]:a.SL&&(d.detailSize=1<=b?[a.SL,Math.round(a.SL/b)]:[Math.round(a.SL*b),a.SL])}}var d=this,u=c.adjustment;a("#zoomWindow").remove();var B={overflow:"hidden",position:"absolute",backgroundColor:"white",zIndex:c.zIndex};c.enhancedHoverOverlay&&(B.boxShadow="0 6px 8px 2px rgba(0,0,0,.25)",
B.border="1px solid #949494",B.borderColor="rgb(148,148,148)");var g=a("\x3cdiv id\x3d'zoomWindow' /\x3e").css(B);c.fadeMagnifier&&g.fadeIn(200);c.useClickZoom&&(M?g.css("cursor",'url("'+c.zoomOutIcon+'"), auto'):(g.css("cursor","-webkit-zoom-out"),g.css("cursor","-moz-zoom-out"),g.css("cursor","zoom-out")));d.updateImage=function(e){e=a("\x3cimg id\x3d'detailImg' src\x3d'"+e+"'/\x3e").css("position","absolute");d.detailImage&&d.detailImage.remove();g.append(e);a(document).trigger("updated.magnifier");
d.detailImage=e;h(d.detailImage)};d.refit=function(){b();h(d.detailImage);return d};c.fadeMagnifier?(d.show=function(){g.fadeIn(200);return d},d.hide=function(){g.fadeOut(200);return d}):(d.show=function(){g.show();return d},d.hide=function(){g.hide();return d});d.destroy=function(){g.remove();return d};d.getWindowSize=function(){return[d.rect.left,d.rect.top,d.rect.width,d.rect.height]};d.updateImage(e);b();g.appendTo(document.body)},Y=!1,Z,J=!1,da;w.preload=function(e){e=a.makeArray(e);for(var b=
e.length,h=0;h<b;h++)e[h]instanceof Array?w.preload(e[h]):"string"===typeof e[h]&&e[h]&&!I[e[h]]&&(I[e[h]]=new Image,I[e[h]].src=e[h])};w.changeImage=function(d,u){h&&v();e=u;l.attr("src",d);w.preload(d);n=[l.position().left,l.position().top,l.width(),l.height()];u&&("immediately"===c.preload?w.preload(u,!0):a(t).ready(function(){w.preload(u)}),b?b.updateImage(u):l.attr("data-old-hires",u))};w.destroy=function(){F.acEnabled?D.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier"):
l.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier");a(document).unbind("mousemove.magnifier");p&&p.destroy();p=null;b&&b.destroy();b=null};w.detailImage=function(){return b.detailImage};w.suppressMagnifier=function(a){u=a};w.isEngaged=function(){return h};w.engageMagnifier=d;w.disengageMagnifier=v;l[0].complete?y():l.one("load",y);w.preload(l.attr("src"));t.performance&&performance.now&&t.ue&&ue.count&&ue.count("MagnifierImageDownload",performance.now());if(c.preload){var fa=
c.detailImageUrl,z=function(){w.preload(fa,!0);c.useClickZoom||K.preload()},V=c.preload;V.constructor!==Array&&(V=[V]);for(var ca=0;ca<V.length;ca++)if("immediately"===V[ca])z();else if(a(t)[V[ca]])a(t)[V[ca]](z);else a(t).bind(V[ca],z)}return w}function q(){if(F.useHoverZoom){var l={adjustment:[0,0,1,1],generalImageUrls:F.staticImages,location:"over",minHeightElement:"#imageBlock",preload:"ready",zIndex:199,useHoverZoomIpad:F.useHoverZoomIpad,useHoverZoom:F.useHoverZoom,useClickZoom:F.useClickZoom,
fadeMagnifier:F.fadeMagnifier,zoomOutIcon:F.staticImages.zoomOutCur,enhancedHoverOverlay:F.enhancedHoverOverlay||F.atfEnhancedHoverOverlay};z&&(z.destroy(),z=W);var c=J.find(".image.item.selected:not(.mirai-shoppable-scene) img[data-old-hires]").not("[data-old-hires\x3d'']");f.isjQueryObjDefined(c)?F.useClickZoom?(c.one("click.loadmagnifier touchstart.loadmagnifier",function(a){z=new I(c,l);z.engageMagnifier(a,!0)}),M?c.css("cursor",'url("'+F.staticImages.zoomInCur+'"), auto'):(c.css("cursor","-webkit-zoom-in"),
c.css("cursor","-moz-zoom-in"),c.css("cursor","zoom-in"))):z=new I(c,l):k.isEnabled&&N.logHoverZoomApplicability(a,k)}}var D,F,A,r,z,J,M=navigator.userAgent.match(/msie|trident/i);return function(a,c,f,m){D=this;F=a;A=c;k.refToModel=A;r=m;D.render=function(a,c,f,d,l,k){J=f;z&&(z.destroy(),z=W)};D.update=function(a){};r.register("loadMagnifier",q);r.register("resize",q)}});"use strict";E.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockTwisterView",function(m,a,f,E){function k(a,
k,m){a=(a=m?m:f.getColorFromState(k.getState().hovered_variations,L))&&""!==a?a:L.defaultColor;q.dispatch("updateView",{type:"swatchHover",data:{color:a}});E.postCountMetric("swatchHover")}function N(a,k,m,r){a=(a=r?r:f.getColorFromState(k.getState().selected_variations,L))&&""!==a?a:L.defaultColor;a===I.getCurrentItem().color?"function"===typeof m&&m():(q.dispatch("updateSelection",{type:"swatchClick",data:{color:a},onload:function(){var a={hasComponents:!0,components:[{name:"mainImage"}]};"function"===
typeof t.markFeatureRender&&t.markFeatureRender("imageblock",a);m()}}),E.postCountMetric("swatchClick"))}var H,L,I,q;return function(a,f,t,r){H=this;L=a;I=f;q=r;m.on("image-block-twister-swatch-hover",k);m.on("image-block-twister-swatch-click",N);H.render=function(a,f,k,l,c){};H.update=function(a){}}});"use strict";E.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAltImageView",function(m,a,f,ha,k,N,H){function L(e,
b,h,c){if(!f.isjQueryObjDefined(e.find(".a-button-selected"))){var u=y.getCurrentItem();if(!c||"chromeless-video"!==u.type||!d.autoplayVideo)if(c=0,"image"===u.type&&(c=Math.max(F(u.color,u.variant),0)),!(u.thumbnailIndex>=d.maxAlts&&0!=c)){var g=b+c;g>=h&&(c=0,g=b);b=f.getImageHash(u.color,c,d);-1!==b&&(w.dispatch("updateModel",{data:{index:c,thumbnailIndex:g,variant:b.variant,type:"image",shoppableScene:b.shoppableScene}}),b=e.find(".item").get(g),f.selectGivenThumbnail(a(b),e))}}}function I(e,
h,c){if((2===d.unrolledImageBlockTreatment||3===d.unrolledImageBlockTreatment)&&c)return e;var u=d.colorImages&&d.colorImages[h];h=e;2!==d.unrolledImageBlockTreatment&&3!==d.unrolledImageBlockTreatment||a(".thumbItemUnrolled").each(function(e){(!a(this)[0].classList.contains("thumbTypeimage")||e>=u.length||e>=d.maxAlts)&&a(this).remove()});f.isDefined(u)&&(a.each(u,function(h,c){if(e<d.maxAlts)if(2===d.unrolledImageBlockTreatment||3===d.unrolledImageBlockTreatment){e++;var g=a(".thumbItemUnrolled");
g[h]?g[h].querySelector("img").src=c.thumb:a('\x3cli class\x3d"thumbItemUnrolled thumbTypeimage thumbIndex'+h+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+e+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+e+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+e+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+
c.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a(".regularAltImageViewLayout"))}else{var g={type:"image",index:h,thumbnailIndex:e,variant:c.variant,shoppableScene:c.shoppableScene},B=f.createThumbnail(g,c.thumb,b,"imageThumbnail");d.collapsibleThumbnails&&f.updateImageThumbnailOverlay(B,g,u);e++}}),N.isEnabled&&H.logAltImgRequestPlacedOnThumbnails(a,N,y),L(b,h,e,c));return e}function q(a,b){d.useIV&&f.isDefined(b.hiRes)&&a.css("cursor","pointer")}function D(e,
b){if("image"===e.type){var h=a("#image-canvas-caption #canvasCaption"),c,u=d.staticStrings,g=d.colorImages,k=e.color,l=e.index;f.isShoppableScenesEnabled()&&e.shoppableScene?c=u.clickSceneTagsToShopProducts:b&&d.useIV?c=u.clickToExpand:g[k]&&g[k][l].hiRes&&d.useHoverZoom?(c=d.useHoverZoomIpad?u.touchToZoom:d.useClickZoom?u.clickToZoom:u.rollOverToZoom,d.hoverZoomIndicator&&(c="\x3cimg src\x3d'"+d.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+c)):d.useIV&&(c=u.clickToExpand);h.html(c)}}function F(a,
b){return f.getIndexForVariant(a,b,d)}function A(a,b,c){var f=b.thumbnailIndex,g=d.colorToAsin[b.color]&&d.colorToAsin[b.color].asin;b="altImageHover"===c&&n&&n.altImageIdx===f&&n.asin===g&&"swatchClick"===n.event?!0:"swatchHover"===c?n&&n.asin===g&&n.event===c:n&&n.altImageIdx===f&&n.asin===g&&n.event===c;if(!b){var k="#",l=a.find(".imgTagWrapper img").get(0);l&&(k=l.src);a=new Image;a.onload=function(){if(l){l.src=k;var a=l.width,e=l.height,b=l.naturalWidth,d=l.naturalHeight;try{var B=(Math.abs(a/
b*d-e)/e).toFixed(2);.01<B&&(t.ue&&((("landing"!==c||h||u)&&"swatchClick"!==c||t.ue.count("imageBlock-PC-hi_res_image_distortion",1),"landing"===c||"swatchClick"===c)?t.ue.count("imageBlock-PC-hi_res_landing_image_distortion",1):"swatchHover"!==c||u?"altImageHover"!==c||h||(t.ue.count("imageBlock-PC-hi_res_alt_image_distortion",1),h=!0):(t.ue.count("imageBlock-PC-hi_res_swatch_hover_image_distortion",1),u=!0)),t.ueLogError&&(a={logLevel:"WARN",attribution:"imageBlock-PC-hi_res_image_distortion"},
t.ueLogError("swatchHover"===c?{message:"[ImageBlock Hi-Res: Size distortion for ASIN: "+g+" Event:"+c+" Diff:"+B.toString()+"]"}:{message:"[ImageBlock Hi-Res: Size distortion for ASIN: "+g+" at altImageIdx "+f+" Event:"+c+" Diff:"+B.toString()+"]"},a)))}catch(m){t.ueLogError&&(a={logLevel:"WARN",attribution:"imageBlock-PC-hi_res_log_distortion_catch_exception"},t.ueLogError(m,a))}}};"#"!==k&&(a.src=k);n.altImageIdx=f;n.asin=g;n.event=c}}function r(e,b){var h="a-dynamic-image";if(!d.acEnabled){var c;
a.each(e.main,function(a,e){f.isDefined(c)||(c=parseFloat(e[1]/e[0])<=parseFloat(d.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});h+=c}var u=f.getMaxDimensionsOfMainImage(e.main,Q,d),g=u[0],l=u[1],u=a("\x3cdiv\x3e\x3c/div\x3e"),g={"max-height":g,"max-width":l};u.addClass(h).css(g).attr({"data-old-hires":e.hiRes,"data-a-manual-replacement":"true",onload:b}).data("a-dynamic-image",e.main);return u}function z(a,b,h){var c="desktop-dp-atf-ib-shoppablescenes-tags-"+a;"function"==typeof uet&&
uet("bb",c,{wb:1});h.attr("data-a-image-name","shoppable-scene:"+a);h=p.find(".mirai-scene-image-block-template").clone().removeClass("mirai-scene-image-block-template aok-hidden").addClass("mirai-shoppable-scene");h.addClass("celwidget").attr("cel_widget_id",c);h.children("span").css("display","inline-block");w.dispatch("initialize-shoppable-scene",{index:a,shoppableScene:b.shoppableScene,imageSource:b.hiRes||b.large||b.lowRes,$tagPlaceholder:h.find(".mirai-scene-tag-placeholder"),$viewProductsButton:h.find(".mirai-scene-view-products-button")});
"MutationObserver"in t&&(new MutationObserver(function(h,c){h.forEach(function(h){"childList"===h.type&&h.target.classList.contains("mirai-scene-image-block-tag-container")&&1===h.addedNodes.length&&"IMG"===h.addedNodes[0].tagName&&""!==h.addedNodes[0].src&&(h=h.addedNodes[0],"function"!==typeof h.onload&&(h.onload=function(){m.trigger("shoppable-scene-image-loaded",{index:a,shoppableScene:b.shoppableScene})}),c.disconnect())})})).observe(h.find(".mirai-scene-image-block-tag-container")[0],{subtree:!0,
childList:!0,attributes:!1});"function"==typeof uet&&uet("cf",c,{wb:1});return h}function J(a,b,h){h=r(a,h);a=f.isShoppableScenesEnabled()&&a.shoppableScene?z(b,a,h):p.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate");a.addClass("image item itemNo"+b+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational","data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":b+1});a.find(".placeHolder").replaceWith(h);p.find(".list").append(a);
m.loadImageManually(h);m.trigger("dp:image-block:imageBlockImageLoad",b);return a}function M(a){var b=Q.css("height");null!==b&&a.find(".imgTagWrapper").css("height",b);a.addClass("selected");d.imgTagWrapperClasses&&a.find(".imgTagWrapper").addClass(d.imgTagWrapperClasses)}function l(a){if(a.isUserGenerated){var b=y.getPreviousItem(),h=a.variant;f.isDefined(h)&&b.thumbnailIndex!==a.thumbnailIndex&&(N.isEnabled&&H.logAltImgRequestServed(N),k.postCountMetric("ImageThumbnailSelectedVariant:"+h),0===
h.indexOf("IG")&&(k.postCountMetric("IGImageSelectedVariant:"+h),k.postCountMetric("IGImageSelectedEvent:"+a.interaction)))}}function c(b,c,g,n){if((2===d.unrolledImageBlockTreatment||3===d.unrolledImageBlockTreatment)&&!n&&"unavailable"!==b.type){if(b=d.colorImages&&d.colorImages[g],a(".unrolledImg").each(function(b){a(this).remove()}),f.isDefined(b)&&(a.each(b,function(b,h){if(b<d.maxAlts){var e=a(".unrolledImg");e[b]?a(".unrolledImg #unrolledImgNo"+b+" img").replaceWith('\x3cimg alt\x3d"" src\x3d"'+
h.large+'" data-a-hires\x3d"'+h.hiRes+'" data-a-manual-replacement\x3d"true"\x3e'):b>=e.length&&a('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+(b+1)+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+b+' unrolledImg imgMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d""\x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e \x3cdiv id\x3d"unrolledImgNo'+
b+'"\x3e \x3cdiv class\x3d"a-image-container a-dynamic-image-container greyBackground" style\x3d"width:100%; height:600px;"\x3e \x3cimg alt\x3d"" src\x3d"'+h.large+'" data-a-hires\x3d"'+h.hiRes+'" data-a-manual-replacement\x3d"true"\x3e \x3c/div\x3e \x3c/div\x3e\x3c/div\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a(".unrolledScrollBox .list-unrolled"))}}),m.loadHiResImage(document.querySelectorAll(".unrolledImg.imgMedia img")),g=f.isDefined(c)))k.postCountMetric("mainImageUpdateOnTwisterVariationClick"),
c()}else if("image"===b.type||"unavailable"===b.type||"lazy-loaded"===b.type){(g=f.isDefined(c))&&k.postCountMetric("mainImageUpdateOnTwisterVariationClick");n=f.getImageHash(b.color,b.index,d);if(-1===n)return c={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},f.lazyLoadingRequired(b,y,d)||(w.dispatch("updateModel",c),f.showUnavailable(b.color)),-1;var K=p.find(".item.itemNo"+b.thumbnailIndex);f.isjQueryObjDefined(K)||(K=J(n,b.thumbnailIndex,c),g?(u=h=!1,A(K,b,"swatchClick")):A(K,
b,"altImageHover"));M(K);w.dispatch("loadMagnifier");D(b);q(K,n);l(b);m.trigger("dp:image-block:update",n)}}function x(a){var b=Math.max(F(a.color,y.getCurrentItem().variant),0),b=f.getImageHash(a.color,b,d);if(-1===b)return f.lazyLoadingRequired(a,y,d)||f.showUnavailable(a.color),-1;var h=p.find(".swatchHoverExp"),c=r(b);h.find(".imgTagWrapper").html(c);m.loadImageManually(c);k.postCountMetric("mainImageUpdateOnTwisterVariationHover");M(h);A(h,a,"swatchHover");m.trigger("dp:image-block:update",b)}
function S(b,h){f.lazyLoadingRequired(b,y,d)||(a("#imageBlock").css("opacity","1"),p.css("opacity","1"),f.spinner(p,!1),p.find("li").removeClass("selected"),a("#image-canvas-caption #canvasCaption").empty(),f.hideUnavailable(),h&&p.find(".list .item").remove())}function g(){var b=p.find(".item .imgTagWrapper"),h=f.getContainerHeight(Q,d.holderRatio,d.holderMaxHeight);0<h&&(Q.height(h),b.height(h));p.find("img.a-dynamic-image").each(function(){var b=a(this);b.data("a-manual-replacement")&&m.loadDynamicImage(this);
var h=b.data("a-dynamic-image"),h=f.getMaxDimensionsOfMainImage(h,Q,d);b.css({"max-height":h[0]+"px","max-width":h[1]+"px"})})}function G(a){D(y.getCurrentItem(),"mouseenter"===a.type)}var v,d,y,w,T,P,b,p,Q,n={},C,R=null,h=!1,u=!1;m.on("triggerImageAjax",function(a){var b=y.getCurrentItem().color;d.colorImages[b]||(d.colorImages[b]=a);a={type:"updatedData",data:y.getCurrentItem()};w.dispatch("updateView",a);(b=d.colorToAsin[b])&&b.asin&&E.register(f.rankedImagesReadyEvent(b.asin))});return function(h,
u,l,n){v=this;d=h;y=u;w=n;d.colorImages[d.landingAsinColor]=d.colorImages[d.defaultColor];v.render=function(h,e,u,g,l,k,n,m){p=2!==d.unrolledImageBlockTreatment&&3!==d.unrolledImageBlockTreatment?u:a(".unrolledScrollBox");b=g;Q=l;C=I(e,h,k);k?0===e&&A(p.find(".item.itemNo0"),y.getCurrentItem(),"landing"):(e=y.getCurrentItem(),f.lazyLoadingRequired(e,y,d)&&w.dispatch("updateModel",{data:{type:"lazy-loaded"}}));S(y.getCurrentItem(),!k);2===d.unrolledImageBlockTreatment||3===d.unrolledImageBlockTreatment?
"swatchClick"===m&&d&&d.colorImages?(R=d.colorImages[h],c(y.getCurrentItem(),n,h,k)):"updatedData"===m&&d&&d.colorImages&&d.colorImages[h]!==R&&(R=d.colorImages[h],c(y.getCurrentItem(),n,h,k)):c(y.getCurrentItem(),n,h,k);return C};f.isImageBlockGridViewHoverDelayEnabled()?v.update=function(a){var h=a.data;y.setCurrentEvent(a);"ingress"!==h.type&&"swatchHover"!==a.type&&(y.setToPreviousItem(),"mouseenter"===a.type?(P&&clearTimeout(P),P=setTimeout(function(){y.setToCurrentItem(h);S(a.data,!1)},f.getHoveringDelayTimer())):
"mouseleave"===a.type?P&&clearTimeout(P):"click"===a.type&&(y.setToCurrentItem(h),S(a.data,!1)));"swatchHover"===a.type?("ingress"!==h.type&&S(a.data,!1),h.color===y.getCurrentItem().color?c(y.getCurrentItem(),null,h.color,!0):a.captured||-1===x(h)||(a.captured=!0)):"image"===h.type&&(h.interaction=a.type,h.isUserGenerated=!0,"mouseenter"===a.type?(k.postCountMetric("dpcc_imageThumbHovered_"+(h.thumbnailIndex+1)+"_"+C),T&&clearTimeout(T),T=setTimeout(function(){c(h,null,h.color,!0);d.usePeekHover||
f.selectGivenThumbnail(a.$declarativeParent,b)},f.getHoveringDelayTimer())):"mouseleave"===a.type?T&&clearTimeout(T):"click"===a.type&&(c(h,null,h.color,!0),f.selectGivenThumbnail(a.$declarativeParent,b),k.postCountMetric("dpcc_imageThumbClicked_total"),k.postCountMetric("dpcc_imageThumbClicked_"+(h.thumbnailIndex+1)+"_"+C)))}:v.update=function(a){var h=a.data;y.setCurrentEvent(a);"ingress"!==h.type&&S(a.data,!1);"swatchHover"===a.type?h.color===y.getCurrentItem().color?c(y.getCurrentItem(),null,
h.color,!0):a.captured||-1===x(h)||(a.captured=!0):"image"===h.type&&(h.interaction=a.type,h.isUserGenerated=!0,"mouseenter"===a.type&&k.postCountMetric("dpcc_imageThumbHovered_"+(h.thumbnailIndex+1)+"_"+C),c(h,null,h.color,!0),d.usePeekHover&&"click"!==a.type||(f.selectGivenThumbnail(a.$declarativeParent,b),"click"===a.type&&(k.postCountMetric("dpcc_imageThumbClicked_total"),k.postCountMetric("dpcc_imageThumbClicked_"+(h.thumbnailIndex+1)+"_"+C))))};d.overrideAltImageClickAction&&f.addTag("clickEnabledOnAltImages");
w.register("imageHover",G);w.register("resize",g)}});E.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockShoppableSceneView",function(m,a,f,t){function k(f,l){var c=a("\x3cimg src\x3d'"+(l?r.staticImages.shoppableSceneDotHighlighted:r.staticImages.shoppableSceneDot)+"' alt\x3d''\x3e");c.css({display:l?"none":"inline-block"});c.addClass("mirai-scene-tag").addClass(l?"active-tag":"inactive-tag");return c}function N(f){var l=a("\x3cspan\x3e");m.each(f.tags,function(c){var f=a("\x3cdiv\x3e").css({position:"absolute",
left:100*c.left+"%",top:100*c.top+"%",height:"auto",width:"auto"});f.append(k(c,!1));f.append(k(c,!0));f.bind("mouseenter",function(){H(a(this).find(".mirai-scene-tag[style*\x3d'display: inline-block']"))});m.declarative.create(f,"scenes-show-details-tags-ib",{tagId:c.link});l.append(f)});return l.children()}function H(a){a.addClass("mirai-scene-dot-pulsate");m.delay(function(){a.removeClass("mirai-scene-dot-pulsate")},4E3)}function L(a,f){a.css({display:"none"});f.css({display:"inline-block"})}function I(a,
f,c){a.eq(c).css({display:"inline-block"});f.eq(c).css({display:"none"})}function q(a){E.when("mirai-multi-scene-view").execute("mirai-scene-protected-image-selection",function(){m.trigger("mirai:scene-details-change",{physicalId:a})})}function D(){var f=a("\x3cspan class\x3d'mirai-scene-view-products-button-content'\x3e"),k=a("\x3cimg class\x3d'item-tag'\x3e").attr("src",r.staticImages.shoppableSceneViewProductsButton).addClass("item-tag"),c=a("\x3cspan class\x3d'mirai-scene-view-products-button-text'\x3e");
c.html(r.staticStrings.shoppableSceneViewProductsButton);return f.append(k).append(c)[0].outerHTML}function F(a){function f(){a.$tagPlaceholder.replaceWith(k);var c=k.find(".mirai-scene-tag.active-tag"),g=k.find(".mirai-scene-tag.inactive-tag");I(c,g,0);H(k.find(".mirai-scene-tag[style*\x3d'display: inline-block']"));J=!0;a.$viewProductsButton.removeClass("aok-hidden");"function"==typeof uex&&uex("ld","desktop-dp-atf-ib-shoppablescenes-tags-"+a.index,{wb:1});v=!0;t.postCountMetric("miraiShoppableScenes_imageLoadedCount")}
if(a.shoppableScene){var c=a.$viewProductsButton.find(".a-button-text");if(0===c.children().length){c.append(D());m.declarative.create(a.$viewProductsButton,"scenes-show-details-view-products-ib",{tagId:a.shoppableScene.tags[0].link});var k=N(a.shoppableScene),q=k.find(".mirai-scene-tag.active-tag"),g=k.find(".mirai-scene-tag.inactive-tag"),z=a.shoppableScene.physicalId,v=!1;m.on("mirai:index:change",function(a){a.scenePhysicalId===z&&(a=a.selectedIndices[0],L(q,g),I(q,g,a),H(k.find(".mirai-scene-tag[style*\x3d'display: inline-block']").eq(a)),
J=!0)});m.on("mirai:scene-details-change",function(a){a.physicalId!==z||J||(L(q,g),I(q,g,0),H(k.find(".mirai-scene-tag[style*\x3d'display: inline-block']")),J=!0)});m.on("mirai:no-products-active",function(a){a.scenePhysicalId===z&&L(q,g)});m.on("mirai:set-first-product-active",function(a){a.scenePhysicalId===z&&(L(q,g),I(q,g,0))});m.on("a:image:load:shoppable-scene:"+a.index,function(){v||(f(),t.postCountMetric("miraiShoppableScenes_imageLoadedViaAuiListenerCount"))});m.on("shoppable-scene-image-loaded",
function(c){c.index!=a.index||v||(f(),t.postCountMetric("miraiShoppableScenes_imageLoadedViaMiraiListenerCount"))});E.when("mirai-multi-scene-view").execute("mirai-scene-protected-side-sheet-initialization",function(){m.trigger("mirai:scene-side-sheet-init",{icons:r.staticImages,strings:r.staticStrings});m.trigger("mirai:scene-details-init",{scene:a.shoppableScene,imageSource:a.imageSource})})}}}var A,r,z,J=!1;return function(a,k,c,m){A=this;r=a;z=m;f.isShoppableScenesEnabled()?(z.register("initialize-shoppable-scene",
F),A.render=function(a,c,f,k,d,l,m){},A.update=function(a){"mouseenter"===a.type&&(a.data.shoppableScene?q(a.data.shoppableScene.physicalId):J=!1)}):(a=function(){},A.render=a,A.update=a)}});E.now().register("ShoppableSceneWeblabProvider",function(){return{isEnabled:!0}});"use strict";E.when("A","jQuery","Airy","postMetric","ImageBlockATF","ImageBlockBTF","logFailedInteractionMetric","postEarlyMetric","ShoppableSceneWeblabProvider").register("imageBlockUtils",function(m,a,f,E,k,N,H,L,I){function q(a){return null!==
a&&"undefined"!==typeof a}function D(b){var c=0;a.each(b,function(a,b){var h=parseInt(b[1],10);h>c&&(c=h)});return c}function F(b){var c=0;a.each(b,function(a,b){var h=parseInt(b[0],10);h>c&&(c=h)});return c}function A(a,b,e){b=b.width();if(e.naturalMainImageSize)return b;a=D(a);0<a&&(b=Math.min(b,a));return b}function r(a,b,e){b=b.height();if(e.naturalMainImageSize)return b;a=F(a);0<a&&(b=Math.min(b,a));return b}function z(b){var c;a.each(b,function(a,b){q(c)||(c=b[1]/b[0])});return c||1}function J(b,
c,e,d,g,k,n,m,p,r,q,t,v,z,x){var C=a.extend({},e.foresterMetadataParams);null!==d&&(C.method+="."+d);var A=[];c.disabledViewIds&&(A=c.disabledViewIds);x=x&&x.videoBackgroundChromefulMainView?x.videoBackgroundChromefulMainView:"black";"unrolled-video-add"===z&&(x="transparent");return f.embed({parentElement:b[0],streamingUrls:c.url,contentId:c.mediaObjectId,contentMinAge:Number(c.minimumAge||"")||0,contentTitle:c.title,swfUrl:e.swfUrl,foresterMetadataParams:C,backgroundColor:x,flashParams:{wmode:"transparent"},
slateImages:{preloadSlate:c.slateUrl,postMediaSlate:c.slateUrl},videoAds:e.videoAds,bindings:{play:function(){if("ImmersiveView"===d)y||(y=!0,E.postCountMetric("dppc_chromefulVideoPlayedIV"));else if(w||(w=!0,E.postCountMetric("dppc_chromefulVideoPlayedPV")),!r){var a=E.buildNexusMetric("ib.thumbnailClick",p,c.mediaObjectId,c.groupType,q,t,v);E.emitNexusMetric(a)}}},cuePoints:[{values:c.durationSeconds-1,type:"position",callback:function(a,b,h){g&&(M(0,k,m),l(n))}}],disabledViewIds:A})}function M(a,
b,e){b.fadeTo(500,0,function(){c(a,e);b.fadeTo(500,1)})}function l(a){a&&a.toggle()}function c(b,c){var e=c.find("img");q(e[b])&&a(e[b]).click()}function x(a,c){b[a]=c?c:b[a];return b[a]}function S(b,c,e){e=e||P;e=e.colorImages;if(1>e.length||!q(e[b])||!q(c))return-1;var d=-1;a.each(e[b],function(a,b){b.variant===c&&(d=a)});return d}function g(b,c,e){e=e||P;e=e.colorImages;return!(q(e)&&q(e[b])&&q(e[b][c])&&q(e[b][c].main))||1>a.map(e[b][c].main,function(a,b){return b}).length?-1:e[b][c]}function G(a,
b,c,d){d.parent().css("z-index",2);0!==c&&0!==b&&(b/=c,a>b?d.css("width",b/a*100+"%"):d.css("height",a/b*100+"%"))}function v(b,c){var e;if(e=b.useIV)e=b.colorImages&&b.colorImages[c]&&0<b.colorImages[c].length?!0:!1;H.isEnabled&&(H.IVApplicaple=e,L.logImmersiveViewApplicability(a,H));return e}function d(){return 0<a(".gridImageBlockViewLayoutIn2x4").length||0<a(".gridImageBlockViewLayoutIn2x5").length||0<a(".gridImageBlockViewLayoutIn1x7").length}var y,w,T,P=a.extend(!0,{},k,N),b={},p=0,Q=0,n=/gridAltImageViewLayoutIn(\d+)x(\d+)/g,
C={},R={};return{isDefined:q,isDefinedAndEmpty:function(a){return q(a)&&"object"===typeof a&&0===Object.keys(a).length},isUndefinedOrEmpty:function(a){return q(a)?"object"===typeof a&&0===Object.keys(a).length:!0},isDefinedAndNotEmpty:function(a){return q(a)?"object"===typeof a&&0<Object.keys(a).length:!1},isjQueryObjDefined:function(a){return 0!==a.length},getAspectRatio:z,getMaxHeightOfMainImage:r,getMaxWidthOfMainImage:A,getMaxDimensionsOfMainImage:function(a,b,c){if(c.acEnabled)return[b.height(),
b.width()];var d=r(a,b,c);b=A(a,b,c);a=z(a);c=b/a;b=Math.min(b,d*a);d=Math.min(d,c);return[d,b]},getContainerHeight:function(a,b,c){var d=a.get(0);a=0;if(q(d)){a=d.offsetWidth/b;a=Math.min(a,c);var f;b=P.mainImageHeightPartitions;c=P.mainImageMaxSizes;if(q(c)&&q(b)){for(var g=0,k=t.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,d=0;d<b.length;d++)k>b[d]&&(g=d+1);c.length>=g&&(f=c[g])}q(f)&&(a=Math.min(f[1],a))}return a},getColorFromState:function(b,c){if(b){c=c||P;
var e="";a.each(c.visualDimensions,function(a,c){b[c]&&(e+=" "+b[c])});return e&&e.substring(1)}},createThumbnail:function(a,b,c,f){var g=c.find(".template").clone().removeClass("template").addClass("item"),k=document.createElement("img");k.src=b;g.find(".placeHolder").replaceWith(k);(b=a.heroVideoVariant)&&"hero-image"===a.type&&a.variant===b&&g.addClass("heroImageThumbnail");q(f)&&g.addClass(f);d()&&g&&(f=document.createElement("div"),f.className="imageBlockThumbnailImageGrayOverlay",k.parentNode.insertBefore(f,
k));m.declarative.create(g,"thumb-action",a);g.attr&&(g.attr("data-ux-click",""),a.type&&a.type.match(/video/)?(g.attr("data-csa-c-type","uxElement"),g.attr("data-csa-c-element-type","navigational"),g.attr("data-csa-c-action","image-block-alt-image-clickToImmersiveVideos")):(g.attr("data-csa-c-type","uxElement"),g.attr("data-csa-c-element-type","navigational"),g.attr("data-csa-c-action","image-block-alt-image-hover")),g.attr("data-csa-c-posy",a.thumbnailIndex+1));c.append(g);return g},updateImageThumbnailOverlay:function(a,
b,c){a.find(".textMoreImages").append(c.length-b.thumbnailIndex+"+")},selectGivenThumbnail:function(a,b){var c=a.find(".a-button");b.find(".a-button").removeClass("a-button-selected").removeClass("a-button-focus");c.addClass("a-button-selected").addClass("a-button-focus")},createAiryInstanceForChromeful:function(a,b,c,d,f,g,k,l){J(a,b,c,d,f,g,k,l,0,1,"","","")},createAiryInstanceForChromefulNotUseTabbedImmersiveView:J,loadMediaIntoAiry:function(a,b,c,d){a&&a.getMediaSourceInfo()!==b.url&&(d?a.loadMedia?
(T={mediaSourceInfo:[b.url],contentId:b.mediaObjectId,refTag:"vse_ib_tablet_web"},a.loadMedia(T)):a.play({videoUrl:b.url,imageUrl:b.slateUrl,mimeType:"video/mp4",contentId:b.mediaObjectId,refTag:"vse_ib_tablet_web"}):a.loadMedia?a.loadMedia({mediaSourceInfo:b.url,contentId:b.mediaObjectId,contentMinAge:Number(b.minimumAge||"")||0,contentTitle:b.title,slateImages:{preloadSlate:b.slateUrl,postMediaSlate:b.slateUrl}}):a.setInitialData({videoUrl:b.url,mimeType:"video/mp4",contentId:b.mediaObjectId,imageUrl:b.slateUrl}))},
showUnavailable:function(b){b&&(a("#imageBlock .unvailableVariation").html(b),a("#imageBlock .variationUnavailable").show())},hideUnavailable:function(){a("#imageBlock .variationUnavailable").hide()},fadeToThumbnail:M,toggleVideoCaption:l,selectThumbnail:c,spinner:function(b,c){var e=a("#imageBlock .a-spinner").parent();0===e.length&&(e=a("\x3cdiv\x3e\x3c/div\x3e").append(a("\x3cspan\x3e\x3c/span\x3e").addClass("a-spinner").addClass("a-spinner-medium")),b.append(e),e.css({position:"absolute",left:"50%",
top:"50%",transform:"translate3d(-50%, -50%, 0)","-webkit-transform":"translate3d(-50%, -50%, 0)","z-index":"3",width:"48px",height:"48px",border:"8px solid #FFFFFF","-webkit-border-radius":"20px","-moz-border-radius":"20px","border-radius":"100%"}));c?e.show():e.hide();return e},rankedImagesReadyEvent:function(a){return"ranked-images-ready-for-"+a},ajaxState:x,getIndexForVariant:S,getImageHash:g,lazyLoadingRequired:function(a,b,c){b=Math.max(S(a.color,b.getCurrentItem().variant,c),0);b=-1!==g(a.color,
b,c);a=c.colorToAsin[a.color]&&c.colorToAsin[a.color].asin;a=!a||"success"!==x(a);return!c.lazyLoadExperienceDisabled&&!b&&a},lazyLoadOnHoverEnabled:function(a){return!a.lazyLoadExperienceOnHoverDisabled},updateAspectRatio:G,repositionVideoBanner:function(a,b,c,d){setTimeout(function(){var c=a.width()/a.height();G(c,16,9,b)},d||0)},getVideosCount:function(a,b){return b.useChildVideos&&b.colorToVideo[a]?b.colorToVideo[a].length:b.videos?b.videos.length:0},getVideoHash:function(a,b,c){if(c.useChildVideos){if(!q(c.colorToVideo))return-1;
a=c.colorToVideo[a]}else a=c.videos;return q(a)&&q(a[b])&&q(a[b].url)?a[b]:-1},isImmersiveViewEnabled:v,playVideoInImmersiveView:function(a,b){return v(a,b)&&a.useTabbedImmersiveView},useTabbedImmersiveView:function(a){return a.useTabbedImmersiveView},getMediaSourceInfo:function(){return q(T)?T.mediaSourceInfo[0]:""},getNilgiriServiceAjaxRequest:function(a,b,c){return{requester:"DetailPageTablet",marketplaceID:c.marketPlaceID,clientPrefix:"ImageBlock_tablet",locale:c.languageCode,page:"DetailPageTablet",
placement:"ImageBlock",metadata:{shouldPreload:!1},video:{videoURL:c.url,imageURL:c.slateUrl}}},addTag:function(a){t.ue&&t.ue.tag&&t.ue.tag(a)},isShoppableScenesEnabled:function(){return I.isEnabled&&0<a(".mirai-scene-image-block-template").length},isImageBlockGridViewDisplayEnabled:d,isImageBlockGridViewHoverDelayEnabled:function(){return 0<a(".gridImageBlockViewLayoutIn2x4").length||0<a(".gridImageBlockViewLayoutIn2x5").length},getHoveringDelayTimer:function(){return p},updateThumbnailHoverDelay:function(a){if(q(a)){p=
0;var b=a.closest("li"),b=b.parent().children("li").filter(":not(.aok-hidden, .template, .pos-360)").index(b);if(-1!==b){var c;c=Q;a=a.closest("ul").attr("class");a===W?c=!1:(a=n.exec(a),null===a||3!==a.length?c=!1:(a=a[2],c=Math.floor(c/a)>Math.floor(b/a)));c&&(p=100);Q=b}}},setDimensionIngressData:function(a,b,c){C[a]=b;R[a]=c},isDimensionIngressEnabled:function(a){return!!C[a]},getDimensionVariantList:function(a){return R[a]},logError:function(a,b,c,d){t.ueLogError&&t.ueLogError(d,{logLevel:a,
attribution:b,message:c})}}});"use strict";E.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","vse_ns_videoPlayer").register("ImageBlockVideoView",function(m,a,f,ha,k,N){function H(c,d,e,g){!b.autoplayVideo||ja||b.useChromelessVideoPlayer?!f.isjQueryObjDefined(c.find(".a-button-selected"))&&(e=p.getCurrentItem(),!g||b.prioritizeVideos||"chromeless-video"===e.type&&b.autoplayVideo)&&(g=f.getVideoHash(e.color,0,b),-1===g||e.thumbnailIndex>=b.maxAlts-1||(d+=0,Q.dispatch("updateModel",
{data:{index:0,thumbnailIndex:d,variant:g.variant,type:b.useChromelessVideoPlayer?"chromeless-video":"chromeful-video"}}),d=c.find(".item").get(d),f.selectGivenThumbnail(a(d),c))):(f.selectGivenThumbnail(c.find("img:last"),c),f.fadeToThumbnail(c.find("img").length-1,h,c))}function L(a){var c=p.getCurrentItem().color;if(b.useChildVideos&&!b.colorToVideo[c]){var d=function(){if(a){b.colorToVideo[c]=a;var d={type:"updatedData",data:p.getCurrentItem()};Q.dispatch("updateView",d)}};b.lazyLoadExperienceDisabled?
d():E.when(f.rankedImagesReadyEvent(b.colorToAsin[c].asin)).execute(function(){d()})}}function I(a){a&&(b.notShowVideoCount=a,a={type:"updatedData",data:p.getCurrentItem()},Q.dispatch("updateView",a))}function q(a){if(!b.useChildVideos)return f.lazyLoadingRequired(p.getCurrentItem(),p,b)?void 0:b.videos;if(b.colorToVideo[a])return b.colorToVideo[a];var c=b.colorToAsin[a];if(c&&c.asin){var d={};d.params={asin:c.asin,productGroupID:b.productGroupID,useAiryVideoPlayer:!0,useChromelessVideoPlayer:b.useChromelessVideoPlayer,
isUDP:b.isUDP};b.isDPXFeatureEnabled||(d.success=function(a){L(a)},ha.load("/gp/product/features/apparel-main-image/videos.html",d));return b.colorToVideo&&b.colorToVideo[a]}}function D(a){e&&null===a&&2!==b.unrolledImageBlockTreatment&&3!==b.unrolledImageBlockTreatment&&(e.hide(),C.parent().css("z-index",-1),R.hide())}function F(a,c,d){c=h.width()/h.height();var g=parseInt(a.videoWidth,10),k=parseInt(a.videoHeight,10);f.updateAspectRatio(c,g,k,C);if(e&&"unrolled-video-add"!==d)e.show(),f.loadMediaIntoAiry(e,
a,B,b.tabletWeb);else if(b.tabletWeb)e=K;else{if("unrolled-video-add"===d){e=K;return}if(null===K||K===W)X=setInterval(function(){e=K;e!==W&&null!==e&&(e.show(),f.loadMediaIntoAiry(e,a,B,b.tabletWeb),A(),l(e),clearInterval(X),X=null)},500);else if(e=K,e!==W&&null!==e){e.show();f.loadMediaIntoAiry(e,a,B,b.tabletWeb);A();l(e);return}}A();l(e)}function A(){if(2!==b.unrolledImageBlockTreatment&&3!==b.unrolledImageBlockTreatment)if(f.useTabbedImmersiveView(b)){if(1<f.getVideosCount(p.getCurrentItem().color,
b)){if(f.isDefined(u)){R.show();return}u=a('\x3ca class\x3d"more-videos"\x3e\x3c/a\x3e').attr("href","#").text(b.staticStrings.watchMoreVideos);R.find("#videoCaption").append(u);m.declarative.create(u,"videoIngressClick",O)}f.playVideoInImmersiveView(b,p.getCurrentItem().color)&&(m.declarative.create(C,"videoIngressClick",O),C.attr&&C.attr("data-ux-click",""),C.children().css("z-index","-1"),C.css("display","inline-block"))}else R.find("#videoCaption").text(b.staticStrings.playVideo),R.show()}function r(a,
c){if("chromeful-video"===a.type||"chromeless-video"===a.type||"unrolled-video-add"===c){var d=f.getVideoHash(a.color,a.index,b);if(-1===d)return-1;"chromeful-video"===a.type&&F(d,a.thumbnailIndex+1,c)}}function z(c,d,e){if((2===b.unrolledImageBlockTreatment||3===b.unrolledImageBlockTreatment)&&e)return c;var g=q(d);d=c;var h=a(".unrolledImg"),l=f.isDefined(g)&&0<g.length&&b.alwaysIncludeVideo?1:0;f.isDefined(g)&&0<g.length&&!b.alwaysIncludeVideo&&c===b.maxAlts&&k.postCountMetric("IBVideoDrop");h.length>
b.maxAlts&&h.each(function(c){c>=b.maxAlts&&a(this).remove()});l&&c===b.maxAlts&&(2===b.unrolledImageBlockTreatment||3==b.unrolledImageBlockTreatment?(a(".thumbItemUnrolled").last().remove(),a(".unrolledImg").last().remove()):n.find(".item:last").remove(),c--);f.isDefined(g)&&(a.each(g,function(d,e){if(c<b.maxAlts){if(2===b.unrolledImageBlockTreatment||3===b.unrolledImageBlockTreatment){var h=b.useChromelessVideoPlayer?"chromeless-video":"chromeful-video";a('\x3cli class\x3d"thumbItemUnrolled thumbType'+
h+" thumbIndex"+d+'"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-button a-button-thumbnail a-button-toggle" id\x3d"a-autoid-'+c+'"\x3e\x3cspan class\x3d"a-button-inner"\x3e\x3cinput class\x3d"a-button-input" type\x3d"submit" aria-labelledby\x3d"a-autoid-'+c+'-announce"\x3e\x3cspan class\x3d"a-button-text" aria-hidden\x3d"true" id\x3d"a-autoid-'+c+'-announce"\x3e \x3cimg alt\x3d"" src\x3d"'+e.thumb+'"\x3e \x3c/span\x3e\x3c/span\x3e\x3c/span\x3e \x3c/span\x3e\x3c/li\x3e').appendTo(a("ul.regularAltImageViewLayout"));
a('\x3cli data-csa-c-action\x3d"image-block-main-image-hover" data-csa-c-element-type\x3d"navigational" data-csa-c-posy\x3d"'+c+'" data-csa-c-type\x3d"uxElement" class\x3d"image item itemNo'+c+' unrolledImg videoMedia"\x3e\x3cspan class\x3d"a-list-item"\x3e \x3cspan class\x3d"a-declarative" data-action\x3d"main-image-click" data-csa-c-type\x3d"widget" data-csa-c-func-deps\x3d"aui-da-main-image-click" data-main-image-click\x3d"{}" data-ux-click\x3d"" \x3e \x3cdiv id\x3d"imgTagWrapperId" class\x3d"imgTagWrapper"\x3e\x3cdiv id\x3d"unrolledImgNo'+
c+'" class\x3d"videoIndex'+d+'"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/span\x3e\x3c/span\x3e\x3c/li\x3e').appendTo(a(".unrolledScrollBox .list-unrolled"));b.dp60InLastPositionUnrolledImageBlock||2!==b.dp60VideoPosition||J(a(".regularAltImageViewLayout"),b.dp60VideoPosition)}else{var h=b.useChromelessVideoPlayer?"chromeless-video":"chromeful-video",l={type:h,index:d,thumbnailIndex:c,variant:e.variant};O={type:"video-ingress",index:d,thumbnailIndex:c,variant:e.variant};f.useTabbedImmersiveView(b)&&("chromeful-video"===
h&&(ea+=" videoBlockIngress  videoBlockDarkIngress",e.thumb=e.thumb.replace("_PKmb-play-button-overlay-thumb","")),b.altsOnLeft||(ea+=" a-align-top"));f.isImageBlockGridViewDisplayEnabled()&&(ea+=" videoImageBlockGridView");f.createThumbnail(l,e.thumb,n,ea);2===b.dp60VideoPosition&&J(n,b.dp60VideoPosition);if(f.useTabbedImmersiveView(b)){M(n.find(".videoBlockIngress img"),b.videoIngressATFSlateThumbURL);var l=1<g.length?"multiple-videos":"one-video",m=!0===b.notShowVideoCount?b.staticStrings.multipleVideos:
1<g.length?g.length+" "+b.staticStrings.multipleVideos:b.staticStrings.singleVideo;m&&n.find(".videoBlockIngress").append(n.find("#videoCount_template").clone().text(m).attr("id","videoCount")).addClass(l)}l=k.buildNexusMetric("ib.thumbnailRender",c+1,e.mediaObjectId,e.groupType,Y,U,Z,aa);k.emitNexusMetric(l);ca||(ca=!0,k.postCountMetric("chromeless-video"===h?"dppc_chromelessVideoAvailable":"dppc_chromefulVideoAvailable"))}c++}if(f.useTabbedImmersiveView(b))return!1}),H(n,d,c,e),v(y),b.imageBlockRenderingStartTime&&
k.postTimeMetric("vse_desktop_ib_video_ingress_enable_duration",m.now()-b.imageBlockRenderingStartTime));return c}function J(c,d){if(0!==d)if(2===b.unrolledImageBlockTreatment||3===b.unrolledImageBlockTreatment){var e=b.useChromelessVideoPlayer?"chromeless-video":"chromeful-video",f=c.children(".thumbTypeimage"),e=c.children(".thumbType"+e);f&&e&&f[d-1]&&a(f[d-1]).before(e[0]);e=a(".unrolledScrollBox .list-unrolled");f=e.children(".unrolledImg.imgMedia");e=e.children(".unrolledImg.videoMedia");f&&
e&&f[d-1]&&a(f[d-1]).before(e[0]);a(".unrolledScrollBox .list-unrolled").children(".unrolledImg").each(function(b){for(var c=null,d=0;d<this.classList.length;d++)this.classList[d].includes("itemNo")&&(c=d);null!==c&&a(this).removeClass(this.classList[c]).addClass("itemNo"+b);this.querySelectorAll("div")[1].id="unrolledImgNo"+b})}else f=c.children(".imageThumbnail"),e=c.children(".videoBlockIngress"),f&&e&&f[d-1]&&a(f[d-1]).before(e[0])}function M(a,b){var c=a.attr("src");if(c&&b){a.attr("src",b);
var d=new Image;d.onload=function(b){a.attr("src",c)};d.src=c}}function l(a){b.autoplayVideo&&a&&!ja&&(f.toggleVideoCaption(R),a.setVolume(0),a.show(),a.play(),ja=!0)}function c(c){e&&e.pause();c.data=O;c.clickTimeStamp=c.$event.timeStamp;var d="a"===c.targetTag?"dpcc_videoIngressLink":"dpcc_videoIngressSlate";Q.dispatch("imageClick",c);k.postTimeMetric("dpcc_vse_videoingressclick",c.$event.timeStamp);c=k.buildNexusMetric("ib.thumbnailClick",c.data.thumbnailIndex+1,b.videos[0].mediaObjectId,b.videos[0].groupType,
Y,U,Z,aa);k.emitNexusMetric(c);k.postCountMetric(d);a("#main-video-container .vjs-control-bar").css("display","none");a("#main-video-container .vjs-poster").css("display","inline-block")}function x(b){null!==e&&e!==W&&(e.frame&&e.frame.remove(),e=null,K.frame&&K.frame.remove(),K=null);K=b.player;a("#main-video-container .vse-airy-container.vse-player-container").css("min-width","auto");K.hide=function(){K.pause();m.$("#main-video-container").find(".vse-player-container").hide()};K.show=function(){m.$("#main-video-container").find(".vse-player-container").show()};
K.getMediaSourceInfo=function(){return f.getMediaSourceInfo()}}function S(d,e,g,k,l,n){D(n);C=null!==n?a("#unrolledImgNo"+n.thumbnailIndex):k.find("#main-video-container");R=null!==n?"":C.parent().find("#video-canvas-caption");h=null!==n?a(".unrolledScrollBox"):a("#main-image-container");null===n&&f.isImageBlockGridViewDisplayEnabled()&&(C.addClass("videoCenter"),k.find("#video-outer-container").addClass("videoWrapperCenter"));Y=t.location.href;d=p.getCurrentItem().color;!0===l?U=b.mediaAsin:(U=b.colorToAsin[d]&&
b.colorToAsin[d].asin,U=f.isDefined(U)?U:b.mediaAsin);b.useChromelessVideoPlayer||C.addClass("chromeful-container");null!==n?r(n,"unrolled-video-add"):r(p.getCurrentItem(),"");f.useTabbedImmersiveView(b)&&m.declarative("videoIngressClick",["click"],c);if(-1!==w&&null!==n){d=p.getCurrentItem().color;var w=f.getVideoHash(d,n.index,b);N.get(m,"#unrolledImgNo"+n.thumbnailIndex,{requester:"MediaBlockSoftlines",marketplaceID:w.marketPlaceID,clientPrefix:"mbSoftlines"+n.thumbnailIndex,locale:w.languageCode,
page:"Detail",metadata:{placementcontext:"mb_sl",alwaysSetInitialVideo:!1},placement:"ImageBlock",video:{videoURL:w.url,imageURL:w.slateUrl}},function(){m.$("#unrolledImgNo"+n.thumbnailIndex).find(".vse-player-container").show()},function(){m.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()})}}function g(a,b){function c(a){a=Math.floor((n.width()-1)/g);a=d?a-1:a;b.slice(a).hide();b.slice(0,a).show();b.removeClass("overlayRestOfImages");a<b.length&&b.eq(a-1).addClass("overlayRestOfImages")}
var d=0!=n.find(".item.videoThumbnail").length,e=b.eq(0).width(),f=b.eq(1).position().left-b.eq(0).position().left-e,g=e+f;c();a.register("resize",c)}function G(a){var b=n.find(".item.imageThumbnail");if(!(1>=b.length)){var c=b.eq(0).find("img").get(0);c!==W&&c.decode().then(function(){g(a,b)})}}function v(a){try{if(!a)return!1;ka=a;ga=document.querySelectorAll("#imageBlock #altImages ul li.videoThumbnail");a={root:null,rootMargin:"0%",threshold:.75};null!==ia&&ia.disconnect();0<ga.length&&(ia=new IntersectionObserver(d,
a));ga.forEach(function(a){ia.observe(a)})}catch(b){k.postCountMetric("ib_dsktp_thumb_impr_intersection_obs_failed")}}function d(a){ka(a,la,na,ga,ma)}function y(b,c,d,e,f){try{a.each(b,function(b,f){var g=a(e).index(f.target);f.isIntersecting?(c=c.slice(),c.push(g)):c=c.filter(function(a){return a!==g});d=c.sort(function(a,b){return a-b})});var g=w(d,f);if(0!==g.length&&0!==d.length){var h=p.getCurrentItem().color,l=q(h);T(l,g)}}catch(n){k.postCountMetric("ib_dsktp_thumbnail_on_intersection_failed")}}
function w(a,b){var c=a.slice().filter(function(a){return 0>b.indexOf(a)});return b=c}function T(b,c){try{if(!b||!c||0===b.length||0===c.length)return!1;a.each(c,function(a,c){var d=1===ga.length?b[0]:b[c];d&&(d=k.buildNexusMetric("ib.thumbnailImpression",a+1,d.mediaObjectId,d.groupType,t.location.href,U,Z,aa),k.emitNexusMetric(d))})}catch(d){k.postCountMetric("ib_dsktp_thumbnail_impression_failed")}}var P,b,p,Q,n,C,R,h,u,e,B,O,ba,K,U,Y,Z,aa,da,fa,V,ca=!1,ja=!1,ea="videoThumbnail",X=null,ia=null,
na,ma=[],ga,la=[],ka=null;return function(c,d,e,g){P=this;b=c;p=d;Q=g;B=b.airyConfig;Z=b.contentWeblab&&b.contentWeblab+":"+b.contentWeblabTreatment;b.colorToVideo={};b.colorToVideo[b.landingAsinColor]=b.colorToVideo[b.defaultColor]=b.videos;b.tabletWeb?(da="tablet",aa="applicationType.ImageBlock.vse_ib_tablet_web"):m.capabilities.tablet?(da="tablet",m.capabilities.isAmazonApp&&(aa="applicationType.ImageBlock.vse_ib_tablet_app")):(da="desktop",aa="desktop_web.ImageBlock.vse_ib_iv");P.render=function(c,
d,e,g,h,k){null!==X&&(clearInterval(X),X=null,C.parent().css("z-index",-1),R.hide());var l=[];if(2===b.unrolledImageBlockTreatment||3===b.unrolledImageBlockTreatment){n=a("ul.regularAltImageViewLayout");ba=z(d,c,k);l=[];d=a(".thumbItemUnrolled").filter(function(){return this.classList.contains("thumbTypechromeful-video")||this.classList.contains("thumbTypechromeless-video")});for(var w=0;w<d.length;w++){var r=d[w].classList.contains("thumbTypechromeful-video")?"chromeful-video":"chromeless-video",
u=Number(d[w].classList[2].slice(10)),q=a(".thumbItemUnrolled").index(d[w]);l.push({color:c,thumbnailIndex:q,type:r,varient:"MAIN",index:u})}for(w=0;w<l.length;w++)S(c,e,g,h,k,l[w])}else n=g,ba=z(d,c,k),S(c,e,g,h,k,null),c=p.getCurrentItem().color,e=f.getVideoHash(c,0,b),-1!==e&&(c=b.tabletWeb?f.getNilgiriServiceAjaxRequest(b,c,e):{requester:"MediaBlockSoftlines",marketplaceID:e.marketPlaceID,clientPrefix:"mbSoftlines",locale:e.languageCode,page:"Detail",metadata:{placementcontext:"mb_sl",alwaysSetInitialVideo:!1},
placement:"ImageBlock",video:{videoURL:e.url,imageURL:e.slateUrl}},N.get(m,"#main-video-container",c,function(){m.$("#main-video-container").find(".vse-player-container").hide()},function(){m.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()}));b.collapsibleThumbnails&&G(Q);return ba};P.setupIntersectionObserverToWatchVideoThumbnail=v;P.emitMultipleImpressionMetric=T;f.isImageBlockGridViewHoverDelayEnabled()?P.update=function(a){null!==X&&(clearInterval(X),X=null,C.parent().css("z-index",
-1),R.hide());var c=a.data;"ingress"===c.type||"swatchHover"===a.type||f.lazyLoadingRequired(c,p,b)||(p.setToPreviousItem(),"mouseenter"===a.type?(V&&clearTimeout(V),V=setTimeout(function(){p.setToCurrentItem(c);D(null)},f.getHoveringDelayTimer())):"mouseleave"===a.type?V&&clearTimeout(V):"click"===a.type&&(p.setToCurrentItem(c),D(null)));if("swatchHover"===a.type)"ingress"===c.type||f.lazyLoadingRequired(c,p,b)||D(null),c.color===p.getCurrentItem().color?r(p.getCurrentItem(),""):a.captured||f.lazyLoadingRequired(c,
p,b)&&!f.lazyLoadOnHoverEnabled(b)&&r(p.getCurrentItem(),"");else if("chromeful-video"===c.type||"chromeless-video"===c.type){var d=f.getVideoHash(c.color,c.index,b);"mouseenter"===a.type?(k.postCountMetric("dpcc_videoThumbHovered_"+(c.thumbnailIndex+1)+"_"+ba),"chromeless-video"===c.type&&(d=k.buildNexusMetric("ib.thumbnailHover",c.thumbnailIndex+1,d.mediaObjectId,d.groupType,Y,U,Z,aa),k.emitNexusMetric(d)),fa&&clearTimeout(fa),fa=setTimeout(function(){r(c,"");!b.usePeekHover&&m.$(a.$currentTarget).closest("li").hasClass("videoThumbnail")&&
f.selectGivenThumbnail(a.$declarativeParent,n)},f.getHoveringDelayTimer())):"mouseleave"===a.type?fa&&clearTimeout(fa):"click"===a.type&&(r(c,""),m.$(a.$currentTarget).closest("li").hasClass("videoThumbnail")&&(f.selectGivenThumbnail(a.$declarativeParent,n),d=k.buildNexusMetric("ib.thumbnailClick",c.thumbnailIndex+1,d.mediaObjectId,d.groupType,Y,U,Z,aa),(!f.useTabbedImmersiveView(b)&&"chromeless-video"===c.type||"tablet"==da)&&k.emitNexusMetric(d),f.useTabbedImmersiveView(b)&&(k.emitNexusMetric(d),
k.postCountMetric("dpcc_videoThumbClicked_"+(c.thumbnailIndex+1)+"_"+ba),O.action="videoIngressClick",O.clickTimeStamp=a.$event.timeStamp,O.$event=a.$event,O.$currentTarget=a.$currentTarget,Q.dispatch("videoIngressClick",O),k.postTimeMetric("dpcc_vse_videoingressclick",a.$event.timeStamp))))}}:P.update=function(a){null!==X&&(clearInterval(X),X=null,C.parent().css("z-index",-1),R.hide());var c=a.data;"ingress"===c.type||f.lazyLoadingRequired(c,p,b)||D(null);if("swatchHover"===a.type)c.color===p.getCurrentItem().color?
r(p.getCurrentItem(),""):a.captured||f.lazyLoadingRequired(c,p,b)&&!f.lazyLoadOnHoverEnabled(b)&&r(p.getCurrentItem(),"");else if("chromeful-video"===c.type||"chromeless-video"===c.type){var d=f.getVideoHash(c.color,c.index,b);if("mouseenter"===a.type&&(k.postCountMetric("dpcc_videoThumbHovered_"+(c.thumbnailIndex+1)+"_"+ba),"chromeless-video"===c.type)){var e=k.buildNexusMetric("ib.thumbnailHover",c.thumbnailIndex+1,d.mediaObjectId,d.groupType,Y,U,Z,aa);k.emitNexusMetric(e)}r(c,"");b.usePeekHover&&
"click"!==a.type||!m.$(a.$currentTarget).closest("li").hasClass("videoThumbnail")||(f.selectGivenThumbnail(a.$declarativeParent,n),"click"===a.type&&(d=k.buildNexusMetric("ib.thumbnailClick",c.thumbnailIndex+1,d.mediaObjectId,d.groupType,Y,U,Z,aa),(!f.useTabbedImmersiveView(b)&&"chromeless-video"===c.type||"tablet"==da)&&k.emitNexusMetric(d),f.useTabbedImmersiveView(b)&&(k.emitNexusMetric(d),k.postCountMetric("dpcc_videoThumbClicked_"+(c.thumbnailIndex+1)+"_"+ba),O.action="videoIngressClick",O.clickTimeStamp=
a.$event.timeStamp,O.$event=a.$event,O.$currentTarget=a.$currentTarget,Q.dispatch("videoIngressClick",O),k.postTimeMetric("dpcc_vse_videoingressclick",a.$event.timeStamp))))}};b.isDPXFeatureEnabled&&(m.on("triggerVideoAjax",L),m.on("notShowVideoCountAjax",I));m.on("vsePlayer-imageblock_tablet",x);m.on("vsePlayer-mbsoftlines",x)}});"use strict";E.when("ImageBlockBTF","postMetric").register("ImageBlockInitViews",function(m,a){function f(a,f,H,L,I){function q(a){"click"===a.type&&L.postCountMetric("thumbClick");
"click"===a.type&&G.overrideAltImageClickAction?v.dispatch("thumbActionClick",a):v.dispatch("updateSelection",a)}function D(a){G.useClickZoom||v.dispatch("imageClick",a)}function F(a){G.useClickZoom||v.dispatch("imageHover",a)}function A(a){v.dispatch("button360Click",a)}function r(c){!H.isDefined(c)||"swatchClick"!==c.type&&"updatedData"!==c.type?(g.update(c),"swatchHover"!==c.type&&d.getPreviousItem().thumbnailIndex!==c.data.thumbnailIndex&&L.postCountMetric(c.data.type+"ThumbnailSelected"),a.trigger("image-block-thumbnail-selected",
c.data)):(g.render(c.data.color,!1,c.onload,c.type),c={hasComponents:!0,components:[{name:"mainimage"},{name:"thumbnail"}]},"function"===typeof t.markFeatureRender&&t.markFeatureRender("imageblock",c))}function z(a){v.dispatch("resize",a)}function J(a){H.selectThumbnail(a,y)}function M(){"function"===typeof t.markFeatureInteractive&&t.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["click"],alwaysInteractive:!0}]})}function l(){G.interactiveCallJSPEnabled||
("function"===typeof t.markFeatureInteractive&&t.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["hover"],alwaysInteractive:!0},{name:"thumbnail",events:["click","hover"],alwaysInteractive:!0}]}),1===m.useIV?E.when("a-modal").execute(function(){M()}):M());G.disableHoverOnAltImages||a.declarative("thumb-action",["mouseenter","mouseleave"],q);a.declarative("thumb-action",["click"],q);a.declarative("main-image-click",["click"],D);a.declarative("main-image-click",
["mouseenter","mouseleave"],F);a.declarative("button-360-click",["click"],A);a.on("resize",z)}function c(a){var c=a.data,d;c&&"ingress"!==c.type&&"click"===a.type&&(d=a);return d}function x(a){var c=d.getCurrentItem(),f={type:"click"};f.$declarativeParent=a;f.data=c;return f}function S(a){H.isImageBlockGridViewHoverDelayEnabled()&&"mouseenter"===a.type&&H.updateThumbnailHoverDelay(a.$target)}var g,G,v,d,y;return function(a,k,m){g=this;G=a;v=k;d=m;y=f("#imageBlock #altImages ul");var b=f("#imageBlock .canvas"),
p=f("#main-image-container"),q;g.subViews=[];for(k=0;k<I.length;k++)g.subViews.push(new I[k](a,m,g,v));g.render=function(a,c,k,h){var l=0;y.find(".item").remove();a=a||d.getCurrentItem().color;f.each(g.subViews,function(d,e){l=(2===G.unrolledImageBlockTreatment||3===G.unrolledImageBlockTreatment?e.render(a,l,b,y,p,c,k,h):e.render(a,l,b,y,p,c,k))||l});var e=y.find(".a-button-selected").closest(".a-declarative");q=x(e)};g.init=function(){y=f("#imageBlock #altImages ul");var a=y.find(".a-button-selected").closest(".a-declarative"),
b=a.data("action"),a=a.data(b)||{};a.color=G.landingAsinColor||G.defaultColor;v.dispatch("updateModel",{data:a});g.render(a.color,!0);G.isDebug&&t.console&&console.log(G);v.register("updateView",r);v.register("selectThumbnail",J);l()};g.update=function(a){S(a);f.each(g.subViews,function(b,c){c.update(a)});G.usePeekHover&&("mouseleave"===a.type?v.dispatch("updateSelection",q):"click"===a.type&&(q=c(a)||q))}}}var W=["A","jQuery","imageBlockUtils","postMetric"].concat(m.views);E.when.apply(E,W).register("ImageBlockView",
function(){for(var a=arguments[0],m=arguments[1],t=arguments[2],E=arguments[3],I=[],q=4,D=arguments.length;q<D;q++)I.push(arguments[q]);return f(a,m,t,E,I)})})});
/* ******** */
(function(D){var u=window.AmazonUIPageJS||window.P,pa=u._namespace||u.attributeErrors,e=pa?pa("DetailPageImageBlockSubAssets@immersiveViews","DetailPageImageBlockSubAssets"):u;e.guardFatal?e.guardFatal(D)(e,window):e.execute(function(){D(e,window)})})(function(D,u,pa){D.when("A","jQuery","imageBlockUtils","imageBlockImmersiveViewUtils","postMetric").register("ImageBlockImmersiveViewDimensionIngress",function(e,b,c,r,h){function sa(a,g){var f=b(a+" image").attr("data");b(a+" image")[0].setAttribute("href",
f);var c=new Image;c.src=f;c.onload=function(){g(this.width/this.height)}}function v(a){null!==b(a.euclidSvg)&&(new Promise(function(b,f){sa(a.euclidSvg,b)})).then(function(g){var f,c,d,k,m,e,p,l,aa,W,fa,n,r,q,v,ma,ha,H,x,A,ga,C,oa,B,da,I,sa,G,na,O,S,P,Hb,Ib,Jb,Kb,Lb,Mb,Nb,D,R,Z,F;if(null===b(a.featureDiv)||0===b(a.featureDiv).length||0>=g)F=null;else{var ea=b(a.featureDiv).width(),V=b(a.featureDiv).height(),J=2*(16+t(a.euclidHeightText,a.numberSpace)+10),K=ea-J,U=b(a.euclidHeightLine).data("euclid-height-startx");
0>U?J+=K*Math.abs(U)*2:1<U&&(J+=K*(U-1)*2);K=ea-J;0>K&&(J=152);var ba=b(a.euclidWidthLine).data("euclid-width-starty"),ca=1<ba?V*(ba-1)+50:50,ka=V-ca;if(K/ka>g)var pa=ka*g,Ob=ka,Pb=ka*g+J,Qb=V;else pa=K,Ob=K/g,Pb=ea,Qb=K/g+ca;F={imageWidth:pa,imageHeight:Ob,svgWidth:Pb,svgHeight:Qb}}if("undefined"===typeof F||null===F||10>=F.imageWidth||10>=F.imageHeight||10>=F.svgWidth||10>=F.svgHeight)h.postCountMetric("dpcc_dimensionIngressEuclidInvalid");else{var va=F,ja=a.euclidSvg;b(ja+" image").attr("width",
va.imageWidth);b(ja+" image").attr("height",va.imageHeight);b(ja).attr("width",va.svgWidth);b(ja).attr("height",va.svgHeight);var wc=(va.svgWidth-va.imageWidth)/2;b(ja+" image")[0].setAttribute("x",wc);b(ja+" image")[0].setAttribute("y",10);var Ua=va.imageWidth,Va=va.imageHeight,y=(va.svgWidth-va.imageWidth)/2,Ea=b(a.euclidLengthLine).data("euclid-length-startx")*Ua,Fa=b(a.euclidLengthLine).data("euclid-length-starty")*Va,Ga=b(a.euclidLengthLine).data("euclid-length-endx")*Ua,Ha=b(a.euclidLengthLine).data("euclid-length-endy")*
Va,Ia=b(a.euclidWidthLine).data("euclid-width-startx")*Ua,Ja=b(a.euclidWidthLine).data("euclid-width-starty")*Va,Ka=b(a.euclidWidthLine).data("euclid-width-endx")*Ua,La=b(a.euclidWidthLine).data("euclid-width-endy")*Va,Wa=b(a.euclidHeightLine).data("euclid-height-startx")*Ua,Xa=b(a.euclidHeightLine).data("euclid-height-starty")*Va,Ya=b(a.euclidHeightLine).data("euclid-height-endx")*Ua,Za=b(a.euclidHeightLine).data("euclid-height-endy")*Va,Rb=(La-Ja)/(Ka-Ia),Sb=0>=Rb?"leftInclined":"rightInclined",
ob=1/Rb,qa=Math.abs(Math.sqrt(Math.pow(16,2)/(1+Math.pow(ob,2)))),ta=0===qa?16:Math.abs(ob*qa),wa=Math.abs(Math.sqrt(Math.pow(3,2)/(1+Math.pow(ob,2)))),za=0===wa?3:Math.abs(ob*wa),Tb=(Ha-Fa)/(Ga-Ea),pb=1/Tb,ra=Math.abs(Math.sqrt(Math.pow(16,2)/(1+Math.pow(pb,2)))),ua=0===ra?16:Math.abs(pb*ra),xa=Math.abs(Math.sqrt(Math.pow(3,2)/(1+Math.pow(pb,2)))),Aa=0===xa?3:Math.abs(pb*xa),Ub=0>=Tb?"leftInclined":"rightInclined";if(.5<b(a.euclidHeightLine).data("euclid-height-startx")){var qb=Wa+y+16,rb=Xa+10,
sb=Ya+y+16,tb=Za+10,Vb=Wa+y+16-3,Wb=Xa+10,Xb=Wa+y+16+3,Yb=Xa+10,Zb=Ya+y+16-3,$b=Za+10,ac=Ya+y+16+3,bc=Za+10,cc=(qb+sb)/2+5,dc=(rb+tb)/2+8,Ma=Ka+y+qa,Na=La+ta+10,Oa=Ia+y+qa,Pa=Ja+ta+10,ec=Ka+y+qa-wa,fc=La+ta-za+10,gc=Ka+y+qa+wa,hc=La+ta+za+10,ic=Ia+y+qa-wa,jc=Ja+ta-za+10,kc=Ia+y+qa+wa,lc=Ja+ta+za+10,fb=(Ma+Oa)/2,gb=(Na+Pa)/2+15;"leftInclined"===Sb?(fb=(Ma+Oa)/2,gb=(Na+Pa)/2+15):(fb=(Ma+Oa)/2+5,gb=(Na+Pa)/2);var $a=Ea+y-ra,ab=Fa+ua+10,bb=Ga+y-ra,cb=Ha+ua+10,mc=Ea+y-ra-xa,nc=Fa+ua+Aa+10,oc=Ea+y-ra+xa,
pc=Fa+ua-Aa+10,qc=Ga+y-ra-xa,rc=Ha+ua+Aa+10,sc=Ga+y-ra+xa,tc=Ha+ua-Aa+10,xc=t(a.euclidLengthText,a.numberSpace);if("leftInclined"===Ub)var ub=($a+bb)/2,vb=(ab+cb)/2+15;else ub=($a+bb)/2-xc,vb=(ab+cb)/2+15}else{var qb=Wa+y-16,rb=Xa+10,sb=Ya+y-16,tb=Za+10,Vb=Wa+y-16-3,Wb=Xa+10,Xb=Wa+y-16+3,Yb=Xa+10,Zb=Ya+y-16-3,$b=Za+10,ac=Ya+y-16+3,bc=Za+10,yc=t(a.euclidHeightText,a.numberSpace),cc=(qb+sb)/2-yc-3,dc=(rb+tb)/2+8,Ma=Ka+y-qa,Na=La+ta+10,Oa=Ia+y-qa,Pa=Ja+ta+10,ec=Ka+y-qa-wa,fc=La+ta+za+10,gc=Ka+y-qa+wa,
hc=La+ta-za+10,ic=Ia+y-qa-wa,jc=Ja+ta+za+10,kc=Ia+y-qa+wa,lc=Ja+ta-za+10,uc=t(a.euclidWidthText,a.numberSpace);"leftInclined"===Sb?(fb=(Ma+Oa)/2-uc,gb=(Na+Pa)/2):(fb=(Ma+Oa)/2-uc,gb=(Na+Pa)/2+15);$a=Ea+y+ra;ab=Fa+ua+10;bb=Ga+y+ra;cb=Ha+ua+10;mc=Ea+y+ra+xa;nc=Fa+ua+Aa+10;oc=Ea+y+ra-xa;pc=Fa+ua-Aa+10;qc=Ga+y+ra+xa;rc=Ha+ua+Aa+10;sc=Ga+y+ra-xa;tc=Ha+ua-Aa+10;"leftInclined"===Ub?(ub=($a+bb)/2,vb=(ab+cb)/2+15):(ub=($a+bb)/2+15,vb=(ab+cb)/2)}f=$a;c=ab;d=bb;k=cb;m=mc;e=nc;p=oc;l=pc;aa=qc;W=rc;fa=sc;n=tc;
r=ub;q=vb;v=Ma;ma=Na;ha=Oa;H=Pa;x=ec;A=fc;ga=gc;C=hc;oa=ic;B=jc;da=kc;I=lc;sa=fb;G=gb;na=qb;O=rb;S=sb;P=tb;Hb=Vb;Ib=Wb;Jb=Xb;Kb=Yb;Lb=Zb;Mb=$b;Nb=ac;D=bc;R=cc;Z=dc;M(ja+" .hit-pd-euclid-height-line",na,O,S,P);M(ja+" .hit-pd-euclid-height-start",Hb,Ib,Jb,Kb);M(ja+" .hit-pd-euclid-height-end",Lb,Mb,Nb,D);u(ja+" .hit-pd-euclid-height-text",R,Z);M(ja+" .hit-pd-euclid-width-line",v,ma,ha,H);M(ja+" .hit-pd-euclid-width-start",x,A,ga,C);M(ja+" .hit-pd-euclid-width-end",oa,B,da,I);u(ja+" .hit-pd-euclid-width-text",
sa,G);M(ja+" .hit-pd-euclid-length-line",f,c,d,k);M(ja+" .hit-pd-euclid-length-start",m,e,p,l);M(ja+" .hit-pd-euclid-length-end",aa,W,fa,n);u(ja+" .hit-pd-euclid-length-text",r,q);Q("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&(a===Y&&"dimension-ingress-image"===w.getCurrentItem().type?(z(),b("#imageBlock #main-image-container #dimension-ingress-outer-container").addClass("a-declarative"),b("#imageBlock #main-image-container #dimension-ingress-outer-container").attr("data-action",
"dimension-hero-click"),h.postTimeMetric("dppc_loadDimensionHeroTime",Date.now()-E)):a===T&&(b("ivDimensionTab").css("display","block"),N(b("#iv-euclid"),b("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container")),h.postTimeMetric("dppc_loadDimensionImmersiveTime",Date.now()-la)))}});Q("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container")&&R(a===Y,w.getCurrentItem(),null)}function t(a,g){return b(a).text().replace(/[^0-9]/g,"").length*g+5}function M(a,
g,f,c,d){a=b(a)[0];a!==pa&&null!==a&&(a.setAttribute("x1",g),a.setAttribute("y1",f),a.setAttribute("x2",c),a.setAttribute("y2",d))}function u(a,g,f){var c=b(a)[0];c!==pa&&null!==c&&(c.setAttribute("x",g),c.setAttribute("y",f),a=b(a+" tspan"),a!==pa&&null!==a&&2===a.length&&(a[0].setAttribute("x",g),a[0].setAttribute("dy",LEFT_STRING_FIRST_LINE_BIAS),a[1].setAttribute("x",g),a[1].setAttribute("dy",LEFT_STRING_SECOND_LINE_BIAS)))}function F(a){if(!b("#imageBlock #main-image-container #dimension-ingress-outer-container").length||
b("#imageBlock #main-image-container #dimension-ingress-outer-container").hasClass("aok-hidden")){if(!b("#imageBlock #main-image-container #dimension-ingress-outer-container").length)if(a=k(a),a in O)Q("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&O[a].clone().appendTo(b("#imageBlock #main-image-container"));else{var g=b("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");g.length?(Q("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&
g.clone().appendTo(b("#imageBlock #main-image-container")),O[a]=g):ea(a)}v(Y)}}function ea(a){try{setTimeout(function(){J++;var g=b("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");g.length?(a in O||(O[a]=g),b("#imageBlock #main-image-container #dimension-ingress-outer-container")&&0>=b("#imageBlock #main-image-container #dimension-ingress-outer-container").length&&Q("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&
g.clone().appendTo(b("#imageBlock #main-image-container")),v(Y)):100>J&&ea(a)},100)}catch(g){console.log("ImageBlockImmersiveViewDimensionIngress lazy load loop:"+g)}}function Q(a){return"true"===b(a).attr("data-should-use-in-hero")}function R(a,g,f){var c=n.colorImages[g.color],d=b("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container #dimension-ingress-seller-image");d&&0<d.length?(c=K(c),U(c,a,g,f)):V(c,a,g,f)}function V(a,g,f,c){try{setTimeout(function(){aa++;
var d=b("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container #dimension-ingress-seller-image");d&&0<d.length?(d=K(a),U(d,g,f,c)):100>aa?V(a,g,f,c):(h.postCountMetric("dpcc_dimensionIngress_hero_data_not_found"),d=a[0],U(d,g,f,c))},100)}catch(d){console.log("ImageBlockImmersiveViewDimensionIngress lazy load seller image loop:"+d)}}function K(a){for(var g=b("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container #dimension-ingress-seller-image").attr("variant"),
c=a[0],d=0;d<a.length;d++){var w=a[d];w.variant===g&&(c=w)}c===a[0]&&h.postCountMetric("dpcc_dimensionIngress_no_image_data_found_for_seller_image_variant");return c}function U(a,g,f,d){g?((g=W.find(".item.dimensionItemNo"+f.thumbnailIndex))&&g.remove(),g=f.thumbnailIndex,d=G(a,d),f=W.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate"),f.addClass("image item dimensionItemNo"+g+" maintain-height").attr({"data-csa-c-type":"uxElement","data-csa-c-element-type":"navigational",
"data-csa-c-action":"image-block-main-image-hover","data-csa-c-posy":g+1}),f.find(".placeHolder").replaceWith(d),f.find(".a-declarative").attr("data-action","dimension-hero-click"),W.find(".list").append(f),e.loadImageManually(d),d=g=f,f=ma.css("height"),null!==f&&d.find(".imgTagWrapper").css("height",f),d.addClass("selected"),n.imgTagWrapperClasses&&d.find(".imgTagWrapper").addClass(n.imgTagWrapperClasses),fa.dispatch("loadMagnifier"),d=g,n.useIV&&c.isDefined(a.hiRes)&&d.css("cursor","pointer"),
e.trigger("dp:image-block:update",a)):(ba(a),N(b("#iv-seller"),b("#ivDimensionTab #ivLargeDimensions .imgTagWrapper")))}function ba(a){var g=b("#ivDimensionTab #ivLargeDimensions");if(0<g.find(".imgTagWrapper").length){var c=b("#ivDimensionTab #ivLargeDimensions .imgTagWrapper img");return D(g,c)}c=b("\x3cdiv\x3e\x3c/div\x3e");c.addClass("imgTagWrapper");var d=b("\x3cimg\x3e");c.html(d);g.append(c);c=b("#ivDimensionTab #ivLargeDimensions .imgTagWrapper img");c.attr("src",a.hiRes);return D(g,c)}function D(a,
b){var c=a.closest("#ivStageDimensions"),d=c.width(),c={height:"auto","max-height":c.height(),"max-width":d,"text-align":"center"};b.css(c);d=b.closest(".imgTagWrapper");d.css(c);return d}function G(a,g){var d="a-dynamic-image";if(!n.acEnabled){var w;b.each(a.main,function(a,b){c.isDefined(w)||(w=parseFloat(b[1]/b[0])<=parseFloat(n.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});d+=w}var ia=c.getMaxDimensionsOfMainImage(a.main,ma,n),k=ia[0],m=ia[1],ia=b("\x3cdiv\x3e\x3c/div\x3e"),k=
{"max-height":k,"max-width":m};ia.addClass(d).css(k).attr({"data-old-hires":a.hiRes,"data-a-manual-replacement":"true",onload:g}).data("a-dynamic-image",a.main);return ia}function p(){b("#image-canvas-caption #canvasCaption").html(n.dimensionIngressAtfData.initial.heroImageCaption)}function k(a){return H(a.color)}function H(a){a=n.colorToAsin[a].asin;a||(a=n.mediaAsin);return a}function C(){b("#imageBlock #main-image-container #dimension-ingress-outer-container").addClass("aok-hidden");b("#imageBlock #main-image-container #dimension-ingress-outer-container").css("z-index",
-1)}function z(){null!==b(Y.euclidSvg)&&0!==b(Y.euclidSvg).length?(b("#imageBlock #main-image-container #dimension-ingress-outer-container").removeClass("aok-hidden"),b("#imageBlock #main-image-container #dimension-ingress-outer-container").css("z-index",2)):R(Y,w.getCurrentItem(),null)}function I(a,b){n.usePeekHover&&"click"!==b.type||c.selectGivenThumbnail(b.$declarativeParent,a)}function A(a){a.action="dimensionIngressClick";a.data=ga;fa.dispatch("dimensionIngressClick",a)}function B(){la=Date.now();
if(na&&!b("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container").length){var a=k(w.getCurrentItem()),c=b("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container"),c=b("#ivDimensionTab #ivLargeDimensions").length;console.log("checkImmersiveViewContainer",c);a in O?O[a].clone().appendTo(b("#ivDimensionTab #ivLargeDimensions")):(c=b("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container"),c.length?(c.clone().appendTo(b("#ivDimensionTab #ivLargeDimensions")),
O[a]=c):ca(a));r.populateTitle(b("#ivDimensionTab #ivMainDimensions").find("#ivTitleDimensions"),160,n);r.populateVariationSelection(b("#ivDimensionTab #ivMainDimensions").find("#ivVariationSelectionDimensions"));da();na=!1;a=b("#iv-tab-view-container").find("#ivThumbsDimensions");a.find(".ivRow").not(".placeholder").remove();var c=a.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(a),d=0<b("#imageBlockDimensionIngress_feature_div #image-block-seller-dimension-image-container").length,
m=0<b("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container").length;if("true"===b("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container").attr("data-should-show-thumbnails-in-iv")){if(d){if(!b("#ivDimensionTab #ivLargeDimensions .imgTagWrapper").length){var ia=n.colorImages[w.getCurrentItem().color],ia=K(ia);ba(ia);b("#ivDimensionTab #ivLargeDimensions .imgTagWrapper").addClass("aok-hidden")}S(a,c,ia.thumb,b("#ivDimensionTab #ivLargeDimensions .imgTagWrapper"),
"iv-seller")}m&&(ia=b("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container image").attr("data"),S(a,c,ia,b("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container"),"iv-euclid"))}}Z()}function Z(){oa=b("#ivDimensionTab").height();if(0!==oa){r.detachImmersiveViewResizeHandler(B);var a=b("#ivDimensionTab #ivMainDimensions"),c=b("#ivDimensionTab").height(),d=b("#ivDimensionTab").width();a.css("height",c);a.css("width",d);var d=a.find("#ivTitleDimensions").outerHeight(!0),
w=a.find("#ivVariationSelectionDimensions").outerHeight(!0),k=a.find("#ivThumbsDimensions"),m=r.getDimension(k,"margin-top")+r.getDimension(k,"margin-bottom");k.css("height",c-d-w-m);d=a.find("#ivStageDimensions");a=(a[0]&&a[0].getBoundingClientRect&&Math.floor(a[0].getBoundingClientRect().width)||a.width())-r.getDimension(a,"padding-left")-r.getDimension(a,"padding-right")-a.find("#ivThumbColumnDimensions").width()-r.getDimension(d,"margin-left")-r.getDimension(d,"margin-right");d.css("width",a);
d.css("height",c);v(T)}}function S(a,b,c,d,w){a=a.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr({id:w}).appendTo(b);a.find(".ivThumbImage").css("background",'url("'+r.getResizedThumbnailURL(c)+'") center no-repeat');d.hasClass("aok-hidden")||a.addClass("selected");l(a,d)}function l(a,b){a.click(function(){N(a,b)})}function N(a,b){a.parent().find(".ivThumb").removeClass("selected");a.addClass("selected");b.hasClass("imgTagWrapper")&&D(b,b.find("img"));b.parent().find("#dimension-ingress-outer-container").addClass("aok-hidden");
b.parent().find(".imgTagWrapper").addClass("aok-hidden");b.removeClass("aok-hidden")}function ca(a){try{setTimeout(function(){d++;var c=b("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container");c.length?(a in O||(O[a]=c),b("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container")&&0>=b("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container").length&&c.clone().appendTo(b("#ivDimensionTab #ivLargeDimensions")),Z()):100>d&&ca(a)},100)}catch(c){console.log("ImageBlockImmersiveViewDimensionIngress lazy load IV loop:"+
c)}}function q(a,d){m&&clearTimeout(m);"mouseenter"===d.type&&(m=setTimeout(function(){F(a);b("#image-canvas-caption #canvasCaption").empty();p();I(ha,d)},c.getHoveringDelayTimer()));"mouseleave"===d.type&&p()}var x,n,w,fa,ha,W,ma,ga,na=!0,E,la,m,P,O={},J=0,d=0,aa=0,oa,Y={euclidSvgContainer:"#imageBlock #image-block-euclid-svg-container",euclidSvg:"#imageBlock #hit-pd-angled-front-svg",euclidHeightText:"#imageBlock #hit-pd-angled-front-svg .hit-pd-euclid-height-text",euclidWidthText:"#imageBlock #hit-pd-angled-front-svg .hit-pd-euclid-width-text",
euclidLengthText:"#imageBlock #hit-pd-angled-front-svg .hit-pd-euclid-length-text",featureDiv:"#imageBlock #main-image-container",euclidLengthLine:"#imageBlock .hit-pd-euclid-length-line",euclidWidthLine:"#imageBlock .hit-pd-euclid-width-line",euclidHeightLine:"#imageBlock .hit-pd-euclid-height-line",numberSpace:10},T={euclidSvg:"#ivDimensionTab #hit-pd-angled-front-svg",euclidHeightText:"#ivDimensionTab #hit-pd-angled-front-svg .hit-pd-euclid-height-text",euclidWidthText:"#ivDimensionTab #hit-pd-angled-front-svg .hit-pd-euclid-width-text",
euclidLengthText:"#ivDimensionTab #hit-pd-angled-front-svg .hit-pd-euclid-length-text",featureDiv:"#ivDimensionTab #ivStageDimensions",euclidLengthLine:"#ivDimensionTab .hit-pd-euclid-length-line",euclidWidthLine:"#ivDimensionTab .hit-pd-euclid-width-line",euclidHeightLine:"#ivDimensionTab .hit-pd-euclid-height-line",numberSpace:14},da=e.once(function(){r.attachImmersiveViewResizeHandler(B)});e.on.resize(function(){Q("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container #image-block-euclid-svg-container")&&
v(Y)});return function(a,g,f,m){x=this;n=a;w=g;fa=m;a=n.mediaAsin;g=[];n&&n.dimensionIngressAtfData&&n.dimensionIngressAtfData.initial&&(g=n.dimensionIngressAtfData.initial.dimensionVariantList);c.setDimensionIngressData(a,n.dimensionIngressEnabled,g);x.render=function(a,g,f,m,e,h){ha=m;W=2!==n.unrolledImageBlockTreatment&&3!==n.unrolledImageBlockTreatment?f:b(".unrolledScrollBox");ma=e;na=!0;b("#imageBlock #main-image-container #dimension-ingress-outer-container").remove();b("#ivDimensionTab #ivLargeDimensions #dimension-ingress-outer-container").remove();
b("#ivDimensionTab #ivLargeDimensions").empty();d=J=0;f=k(w.getCurrentItem());if(c.isDimensionIngressEnabled(f)&&n.dimensionIngressThumbURL&&n.dimensionIngressThumbURL.initial&&n.dimensionIngressThumbURL.initial.length){f=c.getDimensionVariantList(f);if(f.includes("DIMN")||f.includes("DCMN"))Array.isArray(f)||(f=JSON.parse(f.replace(/(\w+)/g,'"$1"'))),f.push("DIMN"),f.push("DCMN");if(f&&0<f.length){e=n.colorImages[a];h=m.find(".item.imageThumbnail");for(var p=0;p<h.length&&p<n.maxAlts-1;p++){var l=
e[p].variant;"MAIN"!=l&&f.includes(l)&&(l=h.eq(p))&&(l.remove(),g--)}}g===n.maxAlts&&(m.find(".item.imageThumbnail").last().remove(),g--);ga={type:"dimension-ingress-image",index:0,thumbnailIndex:g,variant:"Main"};c.createThumbnail(ga,n.dimensionIngressThumbURL.initial,m,"dimension-ingress-imageblock-thumbnail");m=n.dimensionIngressAtfData.initial.thumbnailCaption;m=b("\x3cspan /\x3e").html(m);m.addClass("a-size-mini a-color-secondary dimension-caption a-text-bold a-nowrap");m.attr("id","dimensionCaption");
b(".dimension-ingress-imageblock-thumbnail").addClass("a-align-top");b(".dimension-ingress-imageblock-thumbnail").append(m);g++;b("#ivDimensionTabHeading").removeClass("aok-hidden");H(a)!==n.mediaAsin&&0===b("#imageBlockDimensionIngress_feature_div #dimension-ingress-outer-container").length&&b("#imageBlock .dimension-ingress-imageblock-thumbnail").addClass("aok-hidden");return g}b("#ivDimensionTabHeading").addClass("aok-hidden")};x.update=function(a){var d=a.data;w.setCurrentEvent(a);"dimension-ingress-image"===
d.type?(d.interaction=a.type,d.isUserGenerated=!0,"mouseenter"===a.type&&(E=Date.now(),h.postCountMetric("dpcc_dimensionIngressHovered")),c.isImageBlockGridViewHoverDelayEnabled()?q(d,a):(F(d),b("#image-canvas-caption #canvasCaption").empty(),p(),I(ha,a)),"click"===a.type&&c.useTabbedImmersiveView(n)&&(A(a),h.postCountMetric("dpcc_dimensionIngressClicked"))):"swatchHover"===a.type?d.color===w.getCurrentItem().color&&"dimension-ingress-image"===w.getCurrentItem().type?z():C():c.isImageBlockGridViewHoverDelayEnabled()?
(w.setToPreviousItem(),"mouseenter"===a.type&&(P&&clearTimeout(P),P=setTimeout(function(){w.setToCurrentItem(d);C()},c.getHoveringDelayTimer())),"mouseleave"===a.type&&P&&clearTimeout(P),"click"===a.type&&(w.setToCurrentItem(d),C())):C()};r.attachTabSelectHandler("ivDimensionTab",B);e.declarative("dimension-hero-click",["click"],A)}});"use strict";D.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveViewImages",function(e,b,c,r,h){function sa(){h.populateTitle(k.find("#ivTitle"),
160,G)}function v(){var b=p.getCurrentItem().color;C=G.colorImages[b];H=G.heroImage[b];z=I=0;c.isDefined(H)&&(z=H.length);c.isDefined(C)&&(I=C.length)}function t(b){return b.hiRes||b.large||b.main[b.main.length-1]}function M(){var b=k.find("#ivStage").find("#ivLargeImage"),c=b.width(),p=b.height(),e=b.find(".fullscreen");e.removeAttr("style");var h=e.width(),n=e.height();0<e.length&&(e[0].naturalWidth&&(h=e[0].naturalWidth),e[0].naturalHeight&&(n=e[0].naturalHeight));b.css("cursor","auto");var h=
0===h?1:h,n=0===n?1:n,r=Math.min(c/h,p/n),q=n*r,v=h*r;1>r?(B?b.css("cursor","url('"+G.staticImages.zoomIn+"'), auto"):(b.css("cursor","-webkit-zoom-in"),b.css("cursor","-moz-zoom-in"),b.css("cursor","zoom-in")),l=!0):l=!1;h=Math.min(v,h);n=Math.min(q-20,n);e.css({"margin-top":(p-n)/2,"margin-left":(c-h)/2,height:n,width:h});b.css("visibility","visible");S=!1}function u(b){var c=k.find("#ivLargeImage");c.css("visibility","hidden");c.empty();h.animateStageIn(c);c.append(b);M()}function F(w){k.find("#ivLargeImage").css("display",
"none");k.find("#ivLargeImage").css("display","block");var p;"hero-image"===w?c.isDefined(H)&&(p=t(H[A.index])):c.isDefined(C)&&(p=t(C[A.index]));if(c.isDefined(p)){k.find(".fullscreen").remove();var l=b("\x3cimg\x3e").attr("src",p).addClass("fullscreen"),n=k.find("#ivLargeImage");h.animateStageOut(n,function(){l.load(function(){u(l);e.trigger("dp:image-block:imageBlockImmersiveImageLoad",A.index)});if(l[0].complete)u(l),e.trigger("dp:image-block:imageBlockImmersiveImageLoad",A.index);else{n.empty();
var c=(n.height()-104)/2,k=(n.width()-80)/2;b("\x3cimg\x3e").attr("src",G.staticImages.spinner).css({position:"relative",top:c+"px",left:k+"px"}).appendTo(n)}})}}function D(b){k.find(".ivThumb").removeClass("selected");b.addClass("selected");b.hasClass("ivHeroImage")?A.type="hero-image":A.type="image";A.index=b.attr("id").split("_")[1];F(A.type);r.postCountMetric("dpcc_iv_thumbCLick_"+(parseInt(A.index,10)+1)+"_"+(z+I))}function Q(){k.delegate(".ivThumb","click",function(){var c=b(this);D(c)})}function R(b,
c){return 0<c?c/2:Math.min(0,Math.max(c,b))}function V(b){var c=ca.top-(b.pageY-x[1])*q;b=R(ca.left-(b.pageX-x[0])*q,N.left);c=R(c,N.top);k.find(".fullscreen").css({left:b,top:c})}function K(){k.delegate("#ivLargeImage","click",function(b){if(S)M();else if(l){k.find(".fullscreen").removeAttr("style");if(l){var c=k.find("#ivLargeImage"),e=c.find(".fullscreen");B?c.css("cursor","url('"+G.staticImages.zoomOut+"'), auto"):(c.css("cursor","-webkit-zoom-out"),c.css("cursor","-moz-zoom-out"),c.css("cursor",
"zoom-out"));S=!0;var h=k.find("#ivLargeImage");N.left=h.width()-e.width();N.top=h.height()-e.height();var h=c.height()/2,p=c.width()/2;x=[c.offset().left+p,c.offset().top+h];ca.top=h-e.height()/2;ca.left=p-e.width()/2;e.css({position:"relative",left:ca.left,top:ca.top});q=Math.max(e.height()/c.height(),e.width()/c.width())}V(b);r.postCountMetric("dpcc_iv_largeImageCLick")}});k.delegate("#ivLargeImage","mousemove",function(b){S&&V(b)})}function U(){k.find("#ivLargeImage").empty()}function ba(e){if(Z){k=
b("#ivMain");v();A=p.getCurrentItem();sa();h.populateVariationSelection(k.find("#ivVariationSelection"));e=k.find("#ivThumbs");e.find(".ivRow").not(".placeholder").remove();var l=z+I,r=!1;G&&G.dimensionIngressAtfData&&G.dimensionIngressAtfData.initial&&(r=G.dimensionIngressAtfData.initial.immersiveViewDimensionSuppressionEnabled);for(var q=0,t=0;q<l;)for(var x=e.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(e),B=0;4>B&&q<l;B++,q++,t++)if(t<z){var E=H[q].thumb,u=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr({id:"ivHeroImage_"+
q,"data-csa-c-type":"item","data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-hero-image","data-csa-c-posy":q+1}).appendTo(x);u.find(".ivThumbImage").css("background",'url("'+h.getResizedThumbnailURL(E)+'") center no-repeat')}else if(t>=z&&t<I+z){E=G.colorToAsin[p.getCurrentItem().color].asin;E||(E=G.mediaAsin);if((u=c.isDimensionIngressEnabled(E))&&r){if((E=c.getDimensionVariantList(E))&&E.includes(C[q-z].variant)){B--;continue}}else if(u&&"DIMN"===C[q-z].variant){B--;
continue}E=C[q-z].thumb;u=e.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr({id:"ivImage_"+(q-z),"data-csa-c-type":"item","data-csa-c-component":"imageBlock","data-csa-c-content-id":"image-block-immersive-view-alt-image","data-csa-c-posy":q-z+1}).appendTo(x);u.find(".ivThumbImage").css("background",'url("'+h.getResizedThumbnailURL(E)+'") center no-repeat')}n();Z=!1}else sa();e=b("#ivImagesTab").height();k.css("height",e);l=k.find("#ivTitle").outerHeight(!0);r=k.find("#ivVariationSelection").outerHeight(!0);
q=k.find("#ivThumbs");t=h.getDimension(q,"margin-top")+h.getDimension(q,"margin-bottom");q.css("height",e-l-r-t);k.find("#ivLargeImage").css("height",e);e=k.find("#ivStage");l=k[0]&&k[0].getBoundingClientRect&&Math.floor(k[0].getBoundingClientRect().width)||k.width();e.css("width",l-h.getDimension(k,"padding-left")-h.getDimension(k,"padding-right")-k.find("#ivThumbColumn").width()-h.getDimension(e,"margin-left")-h.getDimension(e,"margin-right"));A=p.getCurrentItem();e="hero-image"===A.type?k.find("#ivHeroImage_"+
A.index):"image"===A.type?k.find("#ivImage_"+A.index):c.isDefined(H)?k.find("#ivHeroImage_"+A.index):k.find("#ivImage_"+A.index);c.isjQueryObjDefined(e)||(e=k.find("#ivImage_0"));D(e)}var ka,G,p,k,H,C,z,I,A,B=navigator.userAgent.match(/msie|trident/i),Z=!0,S=!1,l=!1,N={},ca={},q,x,Z=!0,n=e.once(function(){Q();K();h.attachImmersiveViewResizeHandler(ba);h.attachTabDeselectHandler("ivImagesTab",U)});return function(c,e,k,l){ka=this;G=c;p=e;ka.render=function(c,e,k,l,p,m){Z=!0;v();0===z+I?h.hideTabHeading("ivImagesTabHeading"):
h.unhideTabHeading("ivImagesTabHeading");1===z+I?b("#ivThumbs").hide():b("#ivThumbs").show()};ka.update=function(b){};h.attachTabSelectHandler("ivImagesTab",ba)}});"use strict";D.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockTabbedImmersiveView",function(e,b,c,r,h,sa,v){function t(){var c=Q.getImmersiveViewModalInstance().$container.find(".a-popover-wrapper"),k=c.find(".a-popover-inner"),c=c.height()-
v.getDimension(k,"padding-top")-v.getDimension(k,"padding-bottom");b("#iv-tab-view-container").css("height",c);K=b("#iv-tab-view-container ul.iv-tab-views li").filter(function(){return"none"!==b(this).css("display")}).length;1<K?(b("#iv-tab-view-container ul.iv-tab-views li").parent().show(),k=b("#iv-tab-view-container ul.iv-tab-views li").parent().height(),c-=k):b("#iv-tab-view-container ul.iv-tab-views li").parent().hide();b("#iv-tab-view-container .iv-tab-content").css("height",c);e.trigger("dp:image-block:immersive-view:resize")}
function M(){e.trigger("dp:image-block:immersive-view:reset")}function Ba(p){if(c.isImmersiveViewEnabled(ea,Q.getCurrentItem().color))if(ba){var k=p.$event.originalEvent;k.acknowledge&&k.acknowledge(p.$currentTarget[0]);h.isEnabled&&sa.logImmersiveViewRequestServed(h);r.postCountMetric("dppc_immersiveViewOpened");c.isDefined(p)&&("button-360-click"===p.action?b("#iv360TabHeading").click():"videoIngressClick"===p.action?(U=p.clickTimeStamp,b("#ivVideosTabHeading").click()):"showroomIngressClick"===
p.action?(U=p.clickTimeStamp,b("#ivShowroomTabHeading").click()):"dimensionIngressClick"===p.action?(U=p.clickTimeStamp,b("#ivDimensionTabHeading").click()):b("#ivImagesTabHeading").click());k=Q.getImmersiveViewModalInstance();if(c.isDefined(k))k.show();else{p=b("#auiImmersiveViewDiv");var k=Math.min(Math.max(b(u).height()-150,540),1080),t=Math.min(Math.max(b(u).width()-75,990),1980),k=ba.create(p,{name:"immersiveView",activate:"onclick",width:t,height:k,popoverLabel:"ImmersiveView",hideHeader:!0});
Q.setImmersiveViewModalInstance(k);p.click()}V&&(V=!1,ka(),e.trigger("dp:image-block:immersive-view:init"))}else u.performance&&performance.now&&u.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else r.postCountMetric("immersiveViewNotExistsClickCount")}var F,ea,Q,R,V=!0,K=0,U,ba;D.when("a-modal").execute(function(b){ba=b});var ka=e.once(function(){e.on("a:popover:afterUpdatePosition:immersiveView",t);e.on("a:popover:afterShow:immersiveView",
t);e.on("a:popover:afterHide:immersiveView",M)}),G=e.once(function(){var c=b("#iv-tab-view-container ul.iv-tab-views li");c.bind("click",function(k){var h=c.filter(".iv-active");h.attr("id")!==b(this).attr("id")&&e.trigger("dp:ivTabs:"+h.find("a").attr("data-iv-tab-view")+":deselect",k);c.removeClass("iv-active");b(this).addClass("iv-active");b("#iv-tab-view-container .iv-tab-content").hide();h=b(this).find("a").attr("data-iv-tab-view");b("#"+h).show();"ivVideosTab"===h&&(k.clickTimeStamp=U||k.timeStamp);
e.trigger("dp:ivTabs:"+h+":select",k);r.postCountMetric("dppc_"+h);return!1})});return function(b,k,t,v){F=this;ea=b;Q=k;h.refToModel=Q;R=v;F.render=function(b,c,e,h,k,p){r.postCountMetric("dpcc_altThumbs_"+c);V=!0};F.update=function(b){};F.getTitle=function(){};F.getVariationSelectionInfo=function(){};G();c.isImmersiveViewEnabled(ea,Q.getCurrentItem().color)||c.addTag("immersiveViewNotAvailable");R.register("imageClick",Ba);R.register("button360Click",Ba);ea.collapsibleThumbnails&&e.declarative("thumb-action",
["click"],function(b){b.$declarativeParent.hasClass("overlayRestOfImages")&&Ba(b)});c.useTabbedImmersiveView(ea)&&(R.register("videoIngressClick",Ba),R.register("showroomIngressClick",Ba),R.register("dimensionIngressClick",Ba))}});"use strict";D.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveView",function(e,b,c,r,h,sa,v,t){function M(a){return a.hiRes||a.large||a.main[a.main.length-
1]}function Ba(){d.find("#ivTitle").click(function(){J.hide()})}function F(){f=Fb?{type:"360-spin"}:P.getCurrentItem()}function ea(){var a=d.find("#ivStage"),b=J.$container.find(".a-popover-wrapper"),c=b.find(".a-popover-inner"),b=b.height()-t.getDimension(c,"padding-top")-t.getDimension(c,"padding-bottom");d.css("height",b);var c=d.find("#ivTitle").outerHeight(!0),g=d.find("#ivVariationSelection").outerHeight(!0),e=d.find("#ivMediaSelection").outerHeight(!0),f=d.find("#ivThumbs"),h=t.getDimension(f,
"margin-top")+t.getDimension(f,"margin-bottom");f.css("height",b-c-g-e-h);d.find("#ivLargeImage").css("height",b);a.css("width",d.width()-t.getDimension(d,"padding-left")-t.getDimension(d,"padding-right")-d.find("#ivThumbColumn").width()-t.getDimension(a,"margin-left")-t.getDimension(a,"margin-right"))}function Q(){d.find("#ivMediaSelect").change(function(){var a=b(this).val();"all"===a?(d.find("#ivVideoList").hide(),d.find("#ivThumbs").show(),d.find(".ivThumbVideo").show(),"chromeful-video"===f.type&&
d.find("#ivVideo_"+f.index).click()):"images"===a?(d.find("#ivVideoList").hide(),d.find("#ivThumbs").show(),d.find(".ivThumbVideo").hide(),"chromeful-video"===f.type&&(0===da&&0===T?d.find("#iv360").click():0===da?d.find("#ivHeroImage_0").click():d.find("#ivImage_0").click())):"videos"===a&&(d.find("#ivVideoList").show(),d.find("#ivThumbs").hide(),"chromeful-video"!==f.type?d.find("#ivVideoList_0").click():d.find("#ivVideoList_"+f.index).click())})}function R(){var a=d.find("#ivStage").find("#ivLargeImage"),
b=a.width(),c=a.height(),g=a.find(".fullscreen");g.removeAttr("style");var f=g.width(),e=g.height();0<g.length&&(g[0].naturalWidth&&(f=g[0].naturalWidth),g[0].naturalHeight&&(e=g[0].naturalHeight));a.css("cursor","auto");var f=0===f?1:f,e=0===e?1:e,h=Math.min(b/f,c/e),k=e*h,l=f*h;1>h?(Gb?a.css("cursor","url('"+m.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),kb=!0):kb=!1;f=Math.min(l,f);e=Math.min(k-20,e);g.css({"margin-top":(c-
e)/2,"margin-left":(b-f)/2,height:e,width:f});a.css("visibility","visible");jb=!1}function V(a){var b=d.find("#ivLargeImage");b.css("visibility","hidden");b.empty();t.animateStageIn(b);b.append(a);R()}function K(){L&&L.pause();d.find("#ivLarge360").css("display","none");d.find("#ivLargeVideo").css("display","none");d.find("#ivLargeImage").css("display","none");H()}function U(a){K();d.find("#ivLargeImage").css("display","block");var g;"hero-image"===a?c.isDefined(aa)&&(g=M(aa[f.index])):c.isDefined(oa)&&
(g=M(oa[f.index]));if(c.isDefined(g)){d.find(".fullscreen").remove();var e=b("\x3cimg\x3e").attr("src",g).addClass("fullscreen"),h=d.find("#ivLargeImage");t.animateStageOut(h,function(){e.load(function(){V(e)});if(e[0].complete)V(e);else{h.empty();var a=(h.height()-104)/2,c=(h.width()-80)/2;b("\x3cimg\x3e").attr("src",m.staticImages.spinner).css({position:"relative",top:a+"px",left:c+"px"}).appendTo(h)}})}}function ba(){var a=parseInt(f.index,10)+1;a>=Y.length||d.find("#ivVideo_"+a).click()}function ka(){var a;
c.isDefined(Y)&&(a=Y[f.index]);if(c.isDefined(a)){K();var b=d.find("#ivLargeVideo").css("display","block");L?(L.isDetached()&&L.attach(b[0]),c.loadMediaIntoAiry(L,a,ia,m.tabletWeb),L.show()):(L=c.createAiryInstanceForChromeful(b,a,ia,"ImmersiveView"),ia.enableContinuousPlay&&L.bind("ended",ba));L.play({isAsync:!0})}}function G(){F();var a;a="hero-image"===f.type?d.find("#ivHeroImage_"+f.index):"image"===f.type?d.find("#ivImage_"+f.index):"chromeful-video"===f.type||"chromeless-video"===f.type?d.find("#ivVideo_"+
f.index):"360-spin"===f.type?d.find("#iv360"):c.isDefined(aa)?d.find("#ivHeroImage_"+f.index):d.find("#ivImage_"+f.index);c.isjQueryObjDefined(a)||(a=d.find("#ivImage_0"));p(a)}function p(a){d.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivThumbVideo")?(f.type="chromeful-video",f.index=a.attr("id").split("_")[1],ka()):a.hasClass("ivHeroImage")?(f.type="hero-image",f.index=a.attr("id").split("_")[1],U(f.type)):a.hasClass("iv360Image")?(f.type="360-spin",f.index=0,k()):
(f.type="image",f.index=a.attr("id").split("_")[1],U(f.type))}function k(){K();d.find("#ivLarge360").css("display","block");B();var a=d.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});t.animateStageIn(a)},200);z();h.postCountMetric("dppc_click360");Ta=Date.now()}function H(){0<Ta&&(C("dppc_duration360",Date.now()-Ta),Ta=0)}function C(a,b){u.ue&&u.ue.count(a,b)}function z(){if(0<Ca){var a=d.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}
function I(a,c){if(Ca<a.length){var g=b("\x3cimg /\x3e").css({display:"block",width:6*ya+"px",height:Qa+"px"});g.hide();c.append(g);g.get(0).onload=function(){c.closest(document.documentElement).length&&(Ca++,1===Ca&&(z(),0<Ta&&C("dppc_loadTime360",Date.now()-Ta)),0<Ab&&C("dppc_perSpriteloadTime360",Date.now()-Ab),d.find("#iv360Spinner").hide(),g.show(),db=5*X.imageLocations[Math.floor(eb/X.imageLocations[0].length)][eb%X.imageLocations[0].length],I(a,c))};g.attr("src",a[Ca].replace(/(\._SP)\d+(,)\d+/,
"$1"+Sa+"$2"+Ra));Ab=Date.now()}}function A(a){if(c.isDefined(X.spriteWidthSizes)&&0<X.spriteWidthSizes.length){var b=X.spriteWidthSizes,d=b.length,g=b[0],e=b[d-1];if(a<=g)return g;if(a>e)return e;for(g=0;g<d;g++)if(a>b[g]&&a<=b[g+1])return b[g+1]}else return a}function B(){var a=d.find("#ivLarge360");a.children("#image-360-sprites").length||(a.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),a.css({"margin-left":0,"margin-top":0,width:a.parent().width(),height:a.parent().height(),overflow:"hidden",
position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),b("\x3cimg\x3e").attr("src",m.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(a),yb=!0,Z())}function Z(){if(c.isDefined(X.spriteURLs)&&c.isDefined(d)&&yb&&!zb){var a=d.find("#ivLarge360"),g=b("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,
display:"block"});c.isDefined(X.staticImages.hint360)&&b("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",X.staticImages.hint360).appendTo(g);b("\x3cdiv\x3e").css({"text-align":"center"}).text(m.staticStrings.dragToSpin).appendTo(g);g.appendTo(a);var g=X.imageWidth,e=X.imageHeight,f=a.parent().width(),h=a.parent().height(),k=0,n=0;g/e>f/h?(Sa=A(f),Ra=Math.round(e/g*Sa),ya=Math.ceil(f),Qa=Math.ceil(Ra/Sa*f),n=(h-Qa)/2):(Ra=A(h),Sa=Math.round(g/e*Ra),Qa=Math.ceil(h),
ya=Math.ceil(Sa/Ra*h),k=(f-ya)/2);a.css({"margin-left":k,"margin-top":n,width:ya+"px",height:Qa+"px",overflow:"hidden",position:"relative"});a.children("#image-360-sprites").css("width",6*ya+"px");I(X.spriteURLs,d.find("#image-360-sprites"),0);g=d.find("#ivLarge360");g.bind("mousedown",ca);g.bind("touchstart",S);g.bind("touchmove",l);g.bind("touchend",N);b(document).bind("mousemove",q);b(document).bind("mouseup",x);c.isDefined(m.staticImages.grab)&&a.css("cursor","url('"+m.staticImages.grab+"'), auto");
zb=!0}}function S(a){ib=!0;xb=a.originalEvent.targetTouches[0].clientX}function l(a){ib&&(n(a.originalEvent.targetTouches[0].clientX-xb),xb=a.originalEvent.targetTouches[0].clientX)}function N(a){ib&&(ib=!1)}function ca(a){hb=!0;wb=a.originalEvent.clientX;c.isDefined(m.staticImages.grabbing)&&(a=d.find("#ivLarge360"),a.css("cursor","url('"+m.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor","url('"+m.staticImages.grabbing+"'), auto"));return!1}function q(a){hb&&(n(a.originalEvent.clientX-
wb),wb=a.originalEvent.clientX)}function x(a){hb&&(hb=!1,c.isDefined(m.staticImages.grab)&&(a=d.find("#ivLarge360"),a.css("cursor","url('"+m.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function n(a){for(a=db-=a/ya*180;0>a;)a+=360;for(;360<a;)a-=360;db=a;var b;a=360;for(var g=0;g<Ca;g++)for(var e=0;e<X.imageLocations[g].length;e++){var f=Math.abs(db-5*X.imageLocations[g][e]);f<a&&(a=f,b=g*X.imageLocations[0].length+e)}b!==eb&&(a=Math.floor(b/X.imageLocations[0].length),
a!==Math.floor(eb/X.imageLocations[0].length)&&(c.isDefined(Bb)||(Bb=document.createElement("canvas").getContext("2d")),g=d.find("#image-360-sprites").children(),Bb.drawImage(g[a],0,0)),a=d.find(".iv360Hint").not(".iv360HintFaded"),c.isDefined(a)&&(a.addClass("iv360HintFaded"),a.animate({opacity:0},750)));eb=b;a=b%X.imageLocations[0].length*-1*ya;b=-1*Math.floor(b/X.imageLocations[0].length)*Qa;g=d.find("#ivLarge360").children("#image-360-sprites");g.css("-webkit-transform","translate3d("+a+"px, "+
b+"px, 0)");g.css("transform","translate3d("+a+"px, "+b+"px, 0)")}function w(){d.delegate(".ivThumb","click",function(){var a=b(this);p(a)});d.delegate(".ivThumbVideoListOuter","click",function(){d.find(".ivThumbVideoListOuter").removeClass("selected");var a=b(this);a.addClass("selected");f.type="chromeful-video";f.index=a.attr("id").split("_")[1];ka()})}function fa(){L&&!L.isDetached()&&(ia.volume=L.getVolume(),L.detach(),!document.all||u.atob||document.addEventListener||(L=null));d.find("#ivLargeImage").empty();
H()}function ha(a,b){return 0<b?b/2:Math.min(0,Math.max(b,a))}function W(a){var c=Da.left-(a.pageX-nb[0])*mb;e.capabilities.rtl&&(c=Da.left-(b(u).width()-a.pageX-nb[0])*mb);a=Da.top-(a.pageY-nb[1])*mb;c=ha(c,lb.left);a=ha(a,lb.top);d.find(".fullscreen").css({left:c,top:a})}function ma(){d.delegate("#ivLargeImage","click",function(a){if(jb)R();else if(kb){d.find(".fullscreen").removeAttr("style");if(kb){var b=d.find("#ivLargeImage"),c=b.find(".fullscreen");Gb?b.css("cursor","url('"+m.staticImages.zoomOut+
"'), auto"):(b.css("cursor","-webkit-zoom-out"),b.css("cursor","-moz-zoom-out"),b.css("cursor","zoom-out"));jb=!0;var g=d.find("#ivLargeImage");lb.left=g.width()-c.width();lb.top=g.height()-c.height();var g=b.height()/2,e=b.width()/2;nb=[b.offset().left+e,b.offset().top+g];Da.top=g-c.height()/2;Da.left=e-c.width()/2;c.css({position:"relative",left:Da.left,top:Da.top});mb=Math.max(c.height()/b.height(),c.width()/b.width())}W(a)}});d.delegate("#ivLargeImage","mousemove",function(a){jb&&W(a)})}function ga(f){if(c.isImmersiveViewEnabled(m,
P.getCurrentItem().color))if(Db){var k=f.$event.originalEvent;k.acknowledge&&k.acknowledge(f.$currentTarget[0]);Fb=c.isDefined(f)&&"button-360-click"===f.action;sa.isEnabled&&v.logImmersiveViewRequestServed(sa);h.postCountMetric("dppc_immersiveViewOpened");if(c.isDefined(J))J.show();else{f=b("#auiImmersiveViewDiv");var k=b(u).height()-150,l=b(u).width()-75;J=Db.create(f,{name:"immersiveView",activate:"onclick",width:l,height:k,popoverLabel:"ImmersiveView",hideHeader:!0});f.click()}if(Cb){d=b("#ivMain");
f=P.getCurrentItem().color;oa=m.colorImages[f];aa=m.heroImage[f];Y=m.useChildVideos?m.colorToVideo[f]:m.videos;Eb=E()&&m.spin360ColorEnabled[f];X=E()?m.spin360ColorData[f]:pa;F();g=T=a=da=0;c.isDefined(aa)&&(T=aa.length);c.isDefined(oa)&&(da=oa.length);c.isDefined(Y)&&(a=Y.length);Eb&&(g=1);t.populateTitle(d.find("#ivTitle"),45,m);t.populateVariationSelection(d.find("#ivVariationSelection"));f=d.find("#ivMediaSelect");0===da+g||0===a?(f.parent().hide(),d.find("#ivThumbs").addClass("noMediaSelection")):
(f.empty(),b("\x3coption/\x3e").attr("value","all").prop("selected",!0).text(m.staticStrings.allMedia+" ("+(T+da+g+a)+")").appendTo(f),b("\x3coption/\x3e").attr("value","images").text(m.staticStrings.images+" ("+(T+da+g)+")").appendTo(f),b("\x3coption/\x3e").attr("value","videos").text(m.staticStrings.videos+" ("+a+")").appendTo(f),f.parent().show(),f.val("all"));f=d.find("#ivThumbs");f.find(".ivRow").not(".placeholder").remove();for(var k=T+da+a+g,n=l=0;l<k;)for(var p=f.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(f),
q=0;3>q&&l<k;q++,l++,n++)if(n<T){var r=aa[l].thumb,L=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr("id","ivHeroImage_"+l).appendTo(p);L.find(".ivThumbImage").css("background",'url("'+t.getResizedThumbnailURL(r)+'") center no-repeat')}else if(n>=T&&n<da+T)r=oa[l-T].thumb,L=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr("id","ivImage_"+(l-T)).appendTo(p),L.find(".ivThumbImage").css("background",'url("'+t.getResizedThumbnailURL(r)+
'") center no-repeat');else if(n>=T+da&&n<da+T+g)L=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("iv360Image").attr("id","iv360").appendTo(p),L.find(".ivThumbImage").css("background",'url("'+(c.isDefined(m.staticImages.icon360)?t.getResizedThumbnailURL(m.staticImages.icon360,!0):"")+'") center no-repeat');else if(r=Y[l-da-T-g],L=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivThumbVideo").attr("id","ivVideo_"+(l-da-T-g)).appendTo(p),L.find(".ivThumbImage").css("background",
'url("'+r.thumbUrl+'") center no-repeat'),c.isDefined(r)){var w={position:"triggerTop"},x=d.find("#ivThumbs").find(".ivThumbVideoPopover.placeholder").clone().removeClass("placeholder");x.find(".ivVideoPopoverTitle").text(r.title);x.find(".ivVideoPopoverDuration").text(r.durationTimestamp);w.inlineContent=x[0];e.declarative.create(L,"a-tooltip",w)}f=d.find("#ivVideoList");f.find(".ivThumbVideoListOuter").not(".placeholder").remove();k=f.find(".placeholder");for(l=0;l<a;l++)n=Y[l],p=k.clone().removeClass("placeholder").appendTo(f),
p.attr("id","ivVideoList_"+l),p.find(".ivThumbImage").css("background",'url("'+n.thumbUrl+'") center no-repeat'),p.find(".ivThumbTitle").text(n.title),p.find(".ivThumbDuration").text(n.durationTimestamp);d.find("#ivLarge360").empty();Ca=0;zb=yb=!1;ia=m.airyConfig;Cb=!1;vc()}}else u.performance&&performance.now&&u.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else h.postCountMetric("immersiveViewNotExistsClickCount")}function na(a){var b=
m.colorToAsin[a],g={},f=500;if(b&&b.asin){g.params={asin:b.asin};var d="360"+b.asin,e=Date.now();g.success=function(b){C("dppc_asyncRequestTime360",Date.now()-e);b&&c.isDefined(b.spin360.spin360Model)?(c.ajaxState(d,"success"),m.spin360ColorData[a]=b.spin360.spin360Model,a===P.getCurrentItem().color&&(X=m.spin360ColorData[a],Z())):g.error()};g.error=function(){h.postCountMetric("dppc_asyncFailed360");C("dppc_asyncRequestTime360",Date.now()-e);f*=2;16E3>=f?setTimeout(function(){e=Date.now();r.load("/gp/product/features/apparel-main-image/360.html",
g)},f):c.ajaxState(d,"fail")};c.ajaxState(d)&&"fail"!==c.ajaxState(d)||(r.load("/gp/product/features/apparel-main-image/360.html",g),c.ajaxState(d,"sent"))}}function E(){return c.isDefined(m.spin360ConfigEnabled)&&m.spin360ConfigEnabled}var la,m,P,O,J,d,aa,oa,Y,T,da,a,g,f,L,ia,X,Eb,ya,Qa,Ra,Sa,wb,xb,Fb=!1,yb=!1,zb=!1,db=0,eb=0,Ta=0,Ab=0,hb=!1,ib=!1,Ca=0,Bb,Gb=navigator.userAgent.match(/msie|trident/i),Cb=!0,jb=!1,kb=!1,lb={},Da={},mb,nb,Db;D.when("a-modal").execute(function(a){Db=a});var vc=e.once(function(){Q();
w();ma();e.on("a:popover:afterUpdatePosition:immersiveView",ea);e.on("a:popover:afterShow:immersiveView",G);e.on("a:popover:afterHide:immersiveView",fa);Ba()});return function(a,g,f,d){la=this;m=a;P=g;sa.refToModel=P;O=d;E()&&(m.spin360ColorData[m.landingAsinColor]=m.spin360ColorData[m.defaultColor],m.spin360ColorEnabled[m.landingAsinColor]=m.spin360ColorEnabled[m.defaultColor]);c.isDefined(m.staticImages.icon360)&&b("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",
t.addStyleCodeToURL(m.staticImages.icon360,"_FMpng_RI_"));la.render=function(a,b,g,f,d,k){Cb=!0;E()&&m.spin360ColorEnabled[a]&&!c.isDefined(m.spin360ColorData[a])&&(m.spin360ColorData[a]={},na(a));c.isImmersiveViewEnabled(m,P.getCurrentItem().color)&&E()&&m.spin360ColorEnabled[a]&&(b===m.maxAlts&&(a=f.find(".item.imageThumbnail"),g=f.find(".item.videoThumbnail"),c.isDefined(g)&&1<g.length?g.last().remove():a.last().remove(),b--),a=f.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),
e.declarative.create(a,"button-360-click"),f.append(a),b++,h.postCountMetric("dppc_display360"));return b};la.update=function(a){};c.isImmersiveViewEnabled(m,P.getCurrentItem().color)||c.addTag("immersiveViewNotAvailable");O.register("imageClick",ga);O.register("button360Click",ga)}});"use strict";D.when("A","jQuery","imageBlockUtils","ImageBlockLoader","nexusLogger360","postMetric","imageBlockImmersiveViewUtils","hit-spin360-feature-data","hit-spin360-constants").register("ImageBlockImmersiveView360",
function(e,b,c,r,h,u,v,t,M){function D(){var a=b("#iv360Tab").height();q.css("height",a);var c=q.find("#ivTitle360").outerHeight(!0),f=q.find("#ivVariationSelection360").outerHeight(!0),d=q.find("#ivThumbs360"),e=v.getDimension(d,"margin-top")+v.getDimension(d,"margin-bottom");d.css("height",a-c-f-e);a=q.find("#ivStage360");c=q[0]&&q[0].getBoundingClientRect&&Math.floor(q[0].getBoundingClientRect().width)||q.width();a.css("width",c-v.getDimension(q,"padding-left")-v.getDimension(q,"padding-right")-
q.find("#ivThumbColumn360").width()-v.getDimension(a,"margin-left")-v.getDimension(a,"margin-right"))}function F(){V();var a=q.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});v.animateStageIn(a)},200);ea()}function ea(){if(0<d){var a=q.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function Q(a,c){if(d<a.length){var f=b("\x3cimg /\x3e").css({display:"block",width:6*n+"px",height:w+"px"});f.hide();c.append(f);f.get(0).onload=function(){c.closest(document.documentElement).length&&
(d++,1===d&&(ea(),0<m&&(h.time("dppc_loadTime360",Date.now()-m,l.mediaAsin),u.postTimeMetric("dppc_loadTime360",Date.now()-m))),0<P&&(h.time("dppc_perSpriteloadTime360",Date.now()-P,l.mediaAsin),u.postTimeMetric("dppc_perSpriteloadTime360",Date.now()-P)),q.find("#iv360Spinner").hide(),f.show(),E=5*x.imageLocations[Math.floor(la/x.imageLocations[0].length)][la%x.imageLocations[0].length],Q(a,c))};f.attr("src",a[d].replace(/(\._SP)\d+(,)\d+/,"$1"+ha+"$2"+fa));P=Date.now()}}function R(a){if(c.isDefined(x.spriteWidthSizes)&&
0<x.spriteWidthSizes.length){var b=x.spriteWidthSizes,d=b.length,e=b[0],h=b[d-1];if(a<=e)return e;if(a>h)return h;for(e=0;e<d;e++)if(a>b[e]&&a<=b[e+1])return b[e+1]}else return a}function V(){var a=q.find("#ivLarge360");a.children("#image-360-sprites").length||(a.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),a.css({"margin-left":0,"margin-top":0,width:a.parent().width(),height:a.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none",
"-mos-user-select":"none"}),b("\x3cimg\x3e").attr("src",l.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(a),ga=!0,K())}function K(){if(c.isDefined(x.spriteURLs)&&c.isDefined(q)&&ga&&!na){var a=q.find("#ivLarge360"),d=b("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,display:"block"});c.isDefined(x.staticImages.hint360)&&b("\x3cimg\x3e").css({"margin-left":"auto",
"margin-right":"auto",display:"block"}).attr("src",x.staticImages.hint360).appendTo(d);b("\x3cdiv\x3e").css({"text-align":"center"}).text(l.staticStrings.dragToSpin).appendTo(d);d.appendTo(a);var d=x.imageWidth,f=x.imageHeight,e=a.parent().width(),h=a.parent().height(),m=0,aa=0;d/f>e/h?(ha=R(e),fa=Math.round(f/d*ha),n=Math.ceil(e),w=Math.ceil(fa/ha*e),aa=(h-w)/2):(fa=R(h),ha=Math.round(d/f*fa),w=Math.ceil(h),n=Math.ceil(ha/fa*h),m=(e-n)/2);a.css({"margin-left":m,"margin-top":aa,width:n+"px",height:w+
"px",overflow:"hidden",position:"relative"});a.children("#image-360-sprites").css("width",6*n+"px");Q(x.spriteURLs,q.find("#image-360-sprites"),0);d=q.find("#ivLarge360");d.bind("mousedown",G);d.bind("touchstart",U);d.bind("touchmove",ba);d.bind("touchend",ka);b(document).bind("mousemove",p);b(document).bind("mouseup",k);c.isDefined(l.staticImages.grab)&&a.css("cursor","url('"+l.staticImages.grab+"'), auto");na=!0}}function U(a){J=!0;ma=a.originalEvent.targetTouches[0].clientX}function ba(a){J&&(H(a.originalEvent.targetTouches[0].clientX-
ma),ma=a.originalEvent.targetTouches[0].clientX)}function ka(a){J&&(J=!1)}function G(a){O=!0;W=a.originalEvent.clientX;c.isDefined(l.staticImages.grabbing)&&(a=q.find("#ivLarge360"),a.css("cursor","url('"+l.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor","url('"+l.staticImages.grabbing+"'), auto"));return!1}function p(a){O&&(H(a.originalEvent.clientX-W),W=a.originalEvent.clientX)}function k(a){O&&(O=!1,c.isDefined(l.staticImages.grab)&&(a=q.find("#ivLarge360"),a.css("cursor",
"url('"+l.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function H(a){E-=a/n*180;oa&&(h.count("dppc_360dragToSpin",l.mediaAsin),u.postCountMetric("dppc_360dragToSpin"));oa=!1;for(a=E;0>a;)a+=360;for(;360<a;)a-=360;E=a;var b;a=360;for(var f=0;f<d;f++)for(var e=0;e<x.imageLocations[f].length;e++){var k=Math.abs(E-5*x.imageLocations[f][e]);k<a&&(a=k,b=f*x.imageLocations[0].length+e)}b!==la&&(a=Math.floor(b/x.imageLocations[0].length),a!==Math.floor(la/x.imageLocations[0].length)&&
(c.isDefined(aa)||(aa=document.createElement("canvas").getContext("2d")),f=q.find("#image-360-sprites").children(),aa.drawImage(f[a],0,0)),a=q.find(".iv360Hint").not(".iv360HintFaded"),c.isDefined(a)&&(a.addClass("iv360HintFaded"),a.animate({opacity:0},750)));la=b;a=b%x.imageLocations[0].length*-1*n;b=-1*Math.floor(b/x.imageLocations[0].length)*w;f=q.find("#ivLarge360").children("#image-360-sprites");f.css("-webkit-transform","translate3d("+a+"px, "+b+"px, 0)");f.css("transform","translate3d("+a+
"px, "+b+"px, 0)")}function C(){if(T){q=b("#ivMain360");var a=N.getCurrentItem().color;I()&&A(a);x=I()?l.spin360ColorData[a]:pa;v.populateTitle(q.find("#ivTitle360"),160,l);v.populateVariationSelection(q.find("#ivVariationSelection360"));q.find("#ivLarge360").empty();d=0;na=ga=!1;la=E=0;da();T=!1}0!==b("#iv360Tab").height()&&(v.detachImmersiveViewResizeHandler(C),D(),F(),m=Date.now(),Y=oa=!0,h.count("dppc_click360",l.mediaAsin),u.postCountMetric("dppc_click360"))}function z(a,b,d){a=l.colorToAsin[d];
var e={},k=500;if(!a||!a.asin)if(d===l.defaultColor)a={asin:l.winningAsin};else return;e.params={asin:a.asin};var m="360"+a.asin,n=Date.now();e.success=function(a){h.time("dppc_asyncRequestTime360",Date.now()-n,l.mediaAsin);u.postTimeMetric("dppc_asyncRequestTime360",Date.now()-n);a&&c.isDefined(a.spin360)?((a=a.spin360.spin360Model)&&t.setData(a),c.ajaxState(m,"success")):e.error()};e.error=function(){h.count("dppc_asyncFailedTransient360",l.mediaAsin);u.postCountMetric("dppc_asyncFailedTransient360");
h.time("dppc_asyncRequestTime360",Date.now()-n,l.mediaAsin);u.postTimeMetric("dppc_asyncRequestTime360",Date.now()-n);k*=2;16E3>=k?setTimeout(function(){n=Date.now();r.load("/gp/product/features/apparel-main-image/360.html",e)},k):(h.count("dppc_asyncFailed360",l.mediaAsin),u.postCountMetric("dppc_asyncFailed360"),c.ajaxState(m,"fail"))};c.ajaxState(m)&&"fail"!==c.ajaxState(m)||(r.load("/gp/product/features/apparel-main-image/360.html",e),c.ajaxState(m,"sent"))}function I(){return l&&c.isDefined(l.spin360ConfigEnabled)&&
l.spin360ConfigEnabled}function A(a){return c.isDefinedAndNotEmpty(l.spin360ColorData[a])?!0:c.isDefined(l.spin360LazyLoadEnabled)&&l.spin360LazyLoadEnabled}function B(){Y&&(h.time("dppc_duration360",Date.now()-m,l.mediaAsin),u.postTimeMetric("dppc_duration360",Date.now()-m),Y=!1)}function Z(a){a=l.colorToAsin[a.color]&&l.colorToAsin[a.color].asin;a||(a=l.mediaAsin);return a}var S,l,N,ca,q,x,n,w,fa,ha,W,ma,ga=!1,na=!1,E=0,la=0,m=0,P=0,O=!1,J=!1,d=0,aa,oa=!0,Y=!1,T=!0,da=e.once(function(){v.attachImmersiveViewResizeHandler(C);
v.attachImmersiveViewResizeHandler(D);v.attachImmersiveViewResetHandler(B);v.attachTabDeselectHandler("iv360Tab",B)});return function(a,d,f,k){S=this;l=a;N=d;ca=k;a=l.landingAsinColor;d=l.defaultColor;c.isDefined(l.staticImages.icon360)&&b("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",v.addStyleCodeToURL(l.staticImages.icon360,"_FMpng_RI_"));I()&&(l.spin360ColorData||(l.spin360ColorData={}),a===d&&c.isDefinedAndEmpty(l.spin360ColorData[d])&&delete l.spin360ColorData[d]);
e.on(M.TWISTER_DATA_EVENT,function(a){Z(N.getCurrentItem())===a&&(x=t.getData(a),K(),a={type:"updatedData",data:N.getCurrentItem()},ca.dispatch("updateView",a))});S.render=function(a,d,f,g,k,m){T=!0;!I()||c.isDefinedAndEmpty(l.spin360ColorData[a])&&!t.getData(Z(N.getCurrentItem()))?v.hideTabHeading("iv360TabHeading"):(l.spin360ColorData[a]=t.getData(Z(N.getCurrentItem())),c.isDefinedAndNotEmpty(l.spin360ColorData[a])?(b("#ivThumbs360").hide(),v.unhideTabHeading("iv360TabHeading"),c.isImmersiveViewEnabled(l,
N.getCurrentItem().color)&&I()&&A(a)&&(d===l.maxAlts&&(a=g.find(".item.imageThumbnail"),d=g.find(".item.videoThumbnail"),c.isDefined(d)&&1<d.length?d.last().remove():a.last().remove()),a=g.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),e.declarative.create(a,"button-360-click"),g.append(a),h.count("dppc_display360",l.mediaAsin),u.postCountMetric("dppc_display360"))):c.isDefined(l.spin360LazyLoadEnabled)&&l.spin360LazyLoadEnabled?(l.spin360ColorData[a]=
{},v.hideTabHeading("iv360TabHeading"),z(g,d,a)):v.hideTabHeading("iv360TabHeading"))};S.update=function(a){};v.attachTabSelectHandler("iv360Tab",C)}});D.register("nexusLogger360",function(){return{count:function(e,b){u.ue&&u.ue.event({asin:b,metricName:e,metricValue:1},"hit-360","hit360.clientEvent.3")},time:function(e,b,c){u.ue&&u.ue.event({asin:c,metricName:e,metricValue:b},"hit-360","hit360.clientEvent.3")}}});D.register("hit-spin360-constants",function(){return{TWISTER_DATA_EVENT:"spin360TwisterData"}});
D.when("A","hit-spin360-constants").register("hit-spin360-feature-data",function(e,b){var c={};return{setData:function(r){var h=r.asin;c[h]||(c[h]=r,e.trigger(b.TWISTER_DATA_EVENT,h))},getData:function(b){return c[b]}}});"use strict";D.when("postMetric").register("ImageBlockImmersiveViewShowroom",function(e){function b(){this.render=function(){};this.update=function(){}}return function(c,r,h,u){var v=!1,t=new b;D.now("showroom-image-block-view").execute("showroom-image-block-view-decider",function(b){b!==
pa&&(v=!0,t=new b(c,r,h,u))});c&&!0===c.showroomEnabled&&!1===v&&e.postCountMetric("showroom:atf:imageBlock:hiddenDueToAssetsNotPresentInTime");return t}});"use strict";D.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils","vse_ns_preLoaderHook","vse_ns_lazyLoaderHook").register("ImageBlockImmersiveViewVideos",function(e,b,c,r,h,D,v){function t(){z.delegate(".ivThumb","click",function(){var c=b(this);z.find(".ivThumb").removeClass("selected");c.addClass("selected");c.hasClass("ivThumbVideo")&&
(I.type="chromeful-video",I.index=c.attr("id").split("_")[1])})}function M(){if(ga){var c=b("#ivVideosTab").height();z.css("height",c);var d=z.find(".vse-lb-container");A=c-h.getDimension(d,"padding-top")-h.getDimension(d,"padding-bottom");d.css({"max-height":c,overflow:"hidden"});if(fa){z.css({"max-width":Math.floor(1.77*A)});return}var c=z.find(".vse-player-container"),d=z.find(".vse-video-action-strip"),e=z.find(".vse-lb-video-metadata"),k=Math.floor(A-h.getDimension(e,"height")-h.getDimension(d,
"height")),l=Math.floor(1.77*k);c.css({"max-height":k,"max-width":l,marginLeft:"auto",marginRight:"auto"});e.css({"max-width":l,marginLeft:"auto",marginRight:"auto"});d.css({"max-width":l,marginLeft:"auto",marginRight:"auto"})}ha&&(c=z.find(".vse-vertical-scroll"),d=h.getDimension(c,"margin-top")+h.getDimension(c,"margin-bottom"),c.css("max-height",A-d))}function pa(){F();B&&B.pause();W=!1;n=!0;N=null;ma=!0;ga=!1}function F(){W=!1;B&&B.pause()}function ea(h){N=h.clickTimeStamp?h.clickTimeStamp:e.now();
c.isDefined(C)&&(C.eventTimestamp=N);W=!0;w&&(v.get(e,"#ivVideoBlock",H,J,d),z=b("#ivVideoBlock"),k.getCurrentItem(),I=k.getCurrentItem(),m(),ba());M();w=!1;V()}function Q(c){w&&(z=b("#ivVideoBlock"),k.getCurrentItem(),I=k.getCurrentItem(),m());W&&V();M()}function R(b){B=b.player;r.postTimeMetric("vse_ib_desktop_player_initialisation_duration",e.now()-la);p.imageBlockRenderingStartTime&&r.postTimeMetric("vse_ib_desktop_time_to_player_interactive",e.now()-p.imageBlockRenderingStartTime);ga&&(ba(),
V())}function V(){if(B&&W&&(z.find(".vse-lb-container").animate({opacity:1},200),B.play(C),r.postCountMetric("dpcc_vse_videoBlock_video_played"),n)){var b=u.ue;b&&(b=b.count("dpcc_vse_videoingressclick"),b=(new Date).getTime()-b,r.postTimeMetric("dpcc_vse_vitff",b),n=!1)}}function K(){e.trigger("vse:detailpage-imageblock:page:lightBoxClosed")}function U(b){Z=b.popover.$popover;ga=!0;ba()}function ba(){if(ga&&ma&&W&&B){Z.addClass(e.$(Z).find(".vse-lb-container").data("cssClass"));var b=C;na&&(b=E,
na=!1);e.trigger("vse:detailpage-imageblock:page:lightBoxOpened",{lightBoxId:"ivVideoBlock",assetSpec:b});M();ma=!1}}function ka(b){document.getElementsByClassName("videoBlockIngress")[0].click();E=b;na=!0}var G,p,k,H,C,z,I,A,B,Z,S,l,N,ca,q,x,n=!0,w=!0,fa=!1,ha=!1,W=!1,ma=!0,ga=!1,na=!1,E,la=0,m=e.once(function(){t();h.attachImmersiveViewResizeHandler(Q);h.attachTabDeselectHandler("ivVideosTab",F);h.attachImmersiveViewResetHandler(pa)}),P=function(d,e,h){b("#ivVideoBlockSpinner").addClass("aok-hidden");
r.postCountMetric("dpcc_vse_videoBlock_preload_failed_"+e.placement);d=k.getCurrentItem().color;d=c.getVideoHash(d,0,p);B||(B=c.createAiryInstanceForChromeful(b("#ivVideoBlock"),d,p.airyConfig,"ImmersiveView"));fa=!0;b("#ivVideoBlock").css({"max-width":1.77*A,margin:"0 auto"});W&&fa&&B.play({isAsync:!0})},O=function(c,e,h){w||v.get(c,"#ivVideoBlock",H,J,d);b("#ivVideoBlockSpinner").addClass("aok-hidden")},J=function(b,c,d){ha=!0;M()},d=function(b,c,d){r.postCountMetric("dpcc_vse_videoBlock_lazyload_failed_"+
c.pageContext.placement+"_"+c.configuration.type)};return function(b,d,m,n){G=this;p=b;k=d;G.render=function(b,a,d,f,m,n){b=k.getCurrentItem().color;a=c.getVideoHash(b,0,p);!0===n?S=p.mediaAsin:(S=p.colorToAsin[b]&&p.colorToAsin[b].asin,S=c.isDefined(S)?S:p.mediaAsin);l=null!==p.vseVideoDataSourceTreatment&&"T1"===p.vseVideoDataSourceTreatment?"ASIN":"physicalID";ca=p.contentWeblab;q=p.contentWeblabTreatment;x=p.parentAsin||"";w=!0;-1===a?h.hideTabHeading("ivVideosTabHeading"):(h.unhideTabHeading("ivVideosTabHeading"),
H={page:"DetailPage",placement:"ImageBlock",device:"Desktop",marketplaceID:a.marketPlaceID,locale:a.languageCode,product:{contentID:S,contentIDType:"ASIN",parentContentID:x,parentContentIDType:"ASIN"},video:{contentID:a.mediaObjectId,contentIDType:l,videoURL:a.url,imageURL:a.slateUrl},requestId:p.dpRequestId,weblabContext:[{name:ca,assignment:q,ignoreForG2S2Key:!0}],metadata:{ProductTitle:p.title}},C={videoUrl:H.video.videoURL,contentId:H.video.contentID,duration:0,vendorCode:"",eventTimestamp:c.isDefined(N)?
N:e.now(),imageUrl:H.video.imageURL,productAsin:H.product.contentID,index:0},c.isDefinedAndNotEmpty(B)&&(B.destroy(),B=null),la=e.now(),D.get(e,"#ivVideoBlock",H,O,P))};G.update=function(b){};h.attachTabSelectHandler("ivVideosTab",ea);e.on("vsePlayer-detailpage-imageblock",R);e.on("a:popover:afterShow:immersiveView",U);e.on("a:popover:beforeHide:immersiveView",K);e.on("detailpage-imageblock-leave-pip",ka)}})});
/* ******** */
(function(b){var f=window.AmazonUIPageJS||window.P,h=f._namespace||f.attributeErrors,a=h?h("DetailPageImageBlockSubAssets@logging","DetailPageImageBlockSubAssets"):f;a.guardFatal?a.guardFatal(b)(a,window):a.execute(function(){b(a,window)})})(function(b,f,h){b.when("A","postMetric","ready").execute("feature-bullets-tailoring-metrics",function(a,c){try{var d=a.$,e=d("#featurebullets_feature_div"),k=d("#productOverview_feature_div");if(e&&0<e.length&&(c.postCountMetric("FeatureBulletsRendered.GV"),k&&
0<k.length)){c.postCountMetric("FeatureBulletsRenderedWithPO.GV");var g=d("#featurebullets_feature_div .a-expander-container");g&&0<g.length&&"feature-bullets-expander"===g.data("aExpanderName")&&(c.postCountMetric("FeatureBulletsRenderedCollapsed.GV"),a.on("a:expander:feature-bullets-expander:toggle:expand",function(a){c.postCountMetric("FeatureBulletsInteraction.Expanded")}),a.on("a:expander:feature-bullets-expander:toggle:collapse",function(a){c.postCountMetric("FeatureBulletsInteraction.Collapsed")}))}}catch(l){b.log("Feature bullets metric logging failed with error: ( "+
l+" )","ERROR","FeatureBulletsTailoringMetrics")}});"use strict";b.when("A","ImageBlockATF","ImageBlockBTF","imageBlockUtils","postMetric").execute(function(a,c,d,e,k){var g=[0,50,100,500,1E3,2E3,3E3,3500];(function(){var a=d.colorImages,c=0,b;for(b in a)a[b]&&a[b].length&&(c+=a[b].length);a="image_size_bucket:gt"+g[g.length-1];for(b=1;b<g.length;b++)if(c<=g[b]){a="image_size_bucket:"+g[b-1]+"-"+g[b];break}k.postCountMetric(a);e.addTag(a)})();(function(){var a=c.colorImages;a&&a.initial&&a.initial.length&&
(a=a.initial.length,f.ue&&ue.count&&ue.count("altImageCount",a))})();(function(){var a=d.lazyLoadExperienceDisabled;e.isDefined(d.lazyLoadExperienceDisabled)&&!a&&(k.postCountMetric("lazyLoadingExperienceOnTwisterUpdateEnabled"),e.addTag("lazyLoadingExperienceOnTwisterUpdateEnabled"))})()});"use strict";b.register("logFailedInteractionMetric",function(){return{isEnabled:!1}});b.register("postEarlyMetric",function(){return null});"use strict";b.register("postMetric",function(){return{postCountMetric:function(a){if("undefined"!==
typeof a){var c=f.ue;if(c){var b=c.count(a)||0;c.count(a,b+1)}}},postTimeMetric:function(a,c){if("undefined"!==typeof a&&"undefined"!==typeof c){var b=f.ue;b&&b.count(a,c)}},emitNexusMetric:function(a){f.ue&&ue.event&&ue.event(a,"VSEImageBlockEvents","vse.VSEImageBlockEvents.3",{ssd:!1})},buildNexusMetric:function(a,b,d,e,k,g,f,h){return{eventSource:"IBCarousel",placementContext:h,clientId:"VSE",userAgentData:navigator.userAgent,titleSessionId:"0",eventName:a,intPayload:b,videoAsin:d,videoAsinList:"",
groupType:e,pageUrl:k,pageAsin:g,weblabIds:f}}}});b.when("A","get-resource-time","postMetric","afterLoad").execute(function(a,b,d){var e=a.state("desktop-landing-image-data");e&&(e=a.values(e),b=b.getResourceTimeByName("img",e),a.each(b,function(a){a&&(a.responseEnd!=h&&d.postCountMetric("ibDesktopLandingImageDownloadTime",f.parseInt(a.responseEnd)),a.transferSize!=h&&(0===a.transferSize?d.postCountMetric("ibDesktopLandingImageCached",1):(d.postCountMetric("ibDesktopLandingImageSizeInBytes",f.parseInt(a.transferSize)),
d.postCountMetric("ibDesktopLandingImageNotCached",1))))}))})});
/* ******** */
(function(l){var g=window.AmazonUIPageJS||window.P,m=g._namespace||g.attributeErrors,e=m?m("DetailPageImageBlockSubAssets@utils","DetailPageImageBlockSubAssets"):g;e.guardFatal?e.guardFatal(l)(e,window):e.execute(function(){l(e,window)})})(function(l,g,m){l.when("ImageBlockATF","atf").register("ImageBlockAiryLoader",function(e){function f(c){c&&(l.load.js(c),g.performance&&performance.now&&g.ue&&ue.count&&ue.count("DPAiryDownloadStartTime",g.parseInt(performance.now())))}function k(c){c&&l.load.css(c)}
var c=e.airyConfig;c===m?l.when("ImageBlockBTF").execute(function(e){c=e.airyConfig;f(c.jsUrl);k(c.cssUrl)}):(f(c.jsUrl),k(c.cssUrl))});"use strict";l.when("A","jQuery").execute(function(e,f){e.on("a:image:load:landingImage",function(){g.performance&&performance.now&&g.ue&&ue.count&&ue.count("DPLandingImageHighResDownloadTime",performance.now())});e.loadDynamicImage(f("#landingImage"))});"use strict";l.when("jQuery","imageBlockUtils").register("ImageBlockHeroUtils",function(e,f){function k(a,d){var b;
if(d.repositionHeroImage){b=a[1];var c=a[0];if(768>=(g.innerHeight||document.documentElement.clientHeight||document.body.clientHeight))b*=.7,c*=.7;else{var e=((g.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-1024)/256,e=Math.max(Math.min(e,1),0);b*=.7+.3*e;c*=.7+.3*e}b=[b,c]}return b}function c(a,d,b){var c;if(b.repositionHeroImage){var e=g.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;b=b.heroFocalPoint;if(f.isDefined(b)){c=Math.max((e-
Math.min(1500,a))/2,0);var k=Math.max((e-a)/2,0);c-=k;e=Math.max(Math.min(e,1500),1024);c=c+(e-420-23)/2-a/d[1]*b}}return c}function h(a,d,b){a=a.heroImage;return!(f.isDefined(a)&&f.isDefined(a[d])&&f.isDefined(a[d][b])&&f.isDefined(a[d][b].main))||1>e.map(a[d][b].main,function(a,b){return b}).length?-1:a[d][b]}return{getHeroImageHash:h,getHeroDimParams:function(a,d,b){if(a.repositionHeroImage){if(!f.isDefined(b)){b=h(a,d.color,d.index);if(-1===b)return;d=e.map(b.main,function(a,b){return b})[0];
b=b.main[d]}d=k(b,a);a=c(d[0],b,a);return{height:d[1],width:d[0],xPos:a,yPos:75}}}}});"use strict";l.when("A","jQuery","imageBlockUtils").register("imageBlockImmersiveViewUtils",function(e,f,k){function c(a,d){var b=e.copy(a);if(k.isDefined(a)&&a.length>d){try{for(var c=-1,h=0;h<a.length;h++){var f=a.charAt(h);if(" "===f||"."===f||"?"===f||";"===f||","===f||":"===f)c=h;if(h===d-4){b=a.substring(0,-1===c?h:c);break}}}catch(g){b=a.substring(0,d-3)}b+="..."}return b}function h(a,d){var b=a.lastIndexOf(".");
return a="_"===a.charAt(b-1)?a.substring(0,b-1)+d+a.substring(b):a.substring(0,b)+"."+d+a.substring(b)}return{getDimension:function(a,d){var b=parseInt(a.css(d),10);return isNaN(b)?0:b},attachTabSelectHandler:function(a,d){e.on("dp:ivTabs:"+a+":select",d)},attachTabDeselectHandler:function(a,d){e.on("dp:ivTabs:"+a+":deselect",d)},attachImmersiveViewResizeHandler:function(a){e.on("dp:image-block:immersive-view:resize",a)},detachImmersiveViewResizeHandler:function(a){e.off("dp:image-block:immersive-view:resize",
a)},attachImmersiveViewResetHandler:function(a){e.on("a:popover:afterHide:immersiveView",a)},hideTabHeading:function(a){f("#"+a).hide()},unhideTabHeading:function(a){f("#"+a).show()},addStyleCodeToURL:h,getResizedThumbnailURL:function(a,d){a=a.replace(/\._(AA|SS)\d+_/,"").replace(/\._SX\d+_SY\d+_CR,0,0,\d+,\d+_/,"");a=a.replace(/\._(US)\d+_/,"").replace(/\._SR\d+,\d+_/,"").replace(/\._SP[0-9,C]+_/,"");a=a.replace(/\._CB\d+_SS\d+_/,"");var b="_AA50_";d&&(b+="FMpng_RI_");return h(a,b)},populateVariationSelection:function(a){if(k.isDefined(g.DetailPage)&&
k.isDefined(g.DetailPage.StateController)){a.empty();var d=g.DetailPage.StateController.getState(),b=d.variation_label_order,c;for(c in b)if(b.hasOwnProperty(c)){var e=b[c],h=d.selected_variations[e],e=d.variation_display_labels[e];h&&f("\x3cdiv/\x3e").addClass("ivVariations").text(e+":"+h).appendTo(a)}}},populateTitle:function(a,d,b){a.html(b.title);a.attr("title",a.text());a.html(c(b.title,d))},animateStageIn:function(a){a.animate({opacity:1},200)},animateStageOut:function(a,c){a.animate({opacity:.4},
100,c)},logError:function(a,c,b,e){g.ueLogError&&g.ueLogError(e,{logLevel:a,attribution:c,message:b})}}});"use strict";l.when("A").register("ImageBlockLoader",function(e){return{load:function(f,k){k=k||{};k.timeout=k.timeout||4E3;e.ajax(f,k)}}});"use strict";l.when("postMetric","imageBlockImmersiveViewUtils").execute("vse-ns-ajax-calls",function(e,f){l.register("vse_ns_preLoaderHook",function(){function k(c,h){try{var a=c.A,d=c.block,b=c.request,g=c.handleFailure,l=c.handleSuccess,r=a.$;h--;var n=
3-h-1,p=a.now();a.ajax("/vap/ew/componentbuilder",{params:b,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:b.timeout||5E3,withCredentials:!0,success:function(c){var h=a.now()-p;e.postTimeMetric("vse_preLoaderHook:success:",h);e.postCountMetric("vse_preLoaderHook:success:"+b.page+":"+b.placement+":"+n);r(d).html(c);l(a,b,c)},error:function(d){e.postCountMetric("vse_preLoaderHook:error:"+b.page+":"+b.placement+":"+n);(0===d.http.status||500<=d.http.status&&599>=
d.http.status)&&0<h?k(c,h):(e.postCountMetric("vse_preLoaderHook:error:",1),g(a,b,d))}})}catch(q){f.logError("FATAL","vse_ns_desktop","[vse_ns_preLoaderHook] ",q)}}return{get:function(c,e,a,d,b){k({A:c,block:e,request:a,handleFailure:b,handleSuccess:d},3)}}});l.register("vse_ns_lazyLoaderHook",function(){function k(c,h,a){try{var d=c.A,b=c.context,g=c.handleFailure,l=c.handleSuccess;h.attr("data-configuration");var r=atob(h.attr("data-configuration")),n=JSON.parse(r),p={pageContext:b,configuration:n},
q=d.now();a--;var m=3-a-1;d.ajax("/vap/ew/subcomponent/"+n.type,{params:p,paramsFormat:"json",method:"post",contentType:"application/json",timeout:b.timeout||5E3,withCredentials:!0,success:function(a){var c=d.now()-q;e.postTimeMetric("vse_lazyLoaderHook:success:",c);e.postCountMetric("vse_lazyLoaderHook:success:"+b.page+":"+b.placement+":"+n.type+":"+m);h.html(a);l(d,p,a)},error:function(f){e.postCountMetric("vse_lazyLoaderHook:error:"+b.page+":"+b.placement+":"+n.type+":"+m);(0===f.http.status||
500<=f.http.status&&599>=f.http.status)&&0<a?k(c,h,a):(e.postCountMetric("vse_lazyLoaderHook:error:",1),g(d,p,f))}})}catch(u){f.logError("FATAL","vse_ns_desktop","[vse_ns_lazyLoaderHook] ",u)}}return{get:function(c,e,a,d,b){var f=c.$;f(e+" div[data-configuration]").each(function(){k({A:c,context:a,handleFailure:b,handleSuccess:d},f(this),3)})}}});l.register("vse_ns_videoPlayer",function(){function k(c,h,a){try{var d=c.A,b=c.block,g=c.request,l=c.handleFailure,m=c.handleSuccess,n=d.$;a--;var p=3-a-
1,q=d.now();d.ajax("/vap/ew/subcomponent/vseplayer",{params:g,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:g.timeout||5E3,withCredentials:!0,success:function(a){var c=d.now()-q;e.postTimeMetric("vse_lightPlayerLoaderHook:success:",c);e.postCountMetric("vse_lightPlayerLoaderHook:success:"+g.page+":"+g.placement+":"+p);n(b).html(a);m(d,g,a)},error:function(b){e.postCountMetric("vse_lightPlayerLoaderHook:error:"+g.page+":"+g.placement+":"+p);(0===b.http.status||
500<=b.http.status&&599>=b.http.status)&&0<a?k(c,a):(e.postCountMetric("vse_lightPlayerLoaderHook:error:",1),l(d,g,b))}})}catch(t){f.logError("FATAL","vse_ns_lightPlayer","[vse_ns_lightPlayerLoaderHook] ",t)}}return{get:function(c,e,a,d,b){k({A:c,block:e,request:a,handleFailure:b,handleSuccess:d},3)}}})})});
/* ******** */
(function(k){var d=window.AmazonUIPageJS||window.P,p=d._namespace||d.attributeErrors,b=p?p("DetailPageShowroomImageBlockAssets",""):d;b.guardFatal?b.guardFatal(k)(b,window):b.execute(function(){k(b,window)})})(function(k,d,p){k.when("A","imageBlockUtils","showroom-lite-atf-feature-data","showroom-image-block-detail-page-rendering","showroom-image-block-constants","showroom-image-block-metrics").register("showroom-image-block-view",function(b,f,m,g,e,a){function c(h){h.interaction===p.MOUSE_ENTER&&
h.type===e.SHOWROOM_THUMBNAIL_TYPE&&g.isShowroomMainImageHidden()&&a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_THUMBNAIL_HOVER)}function d(b,e){var d=new Date;b.interaction=e.type;b.isUserGenerated=!0;if(f.isImageBlockGridViewHoverDelayEnabled()){if("mouseenter"===e.type&&m.isDataValidForAsin(u(b))&&(c(b),q&&clearTimeout(q),q=setTimeout(function(){var a=m.getDataForAsin(u(b)).imageData;g.updateMainImage(h,a,r);g.showShowroomMainImage(h);n.usePeekHover||f.selectGivenThumbnail(e.$declarativeParent,
x)},f.getHoveringDelayTimer())),"mouseleave"===e.type&&q&&clearTimeout(q),"click"===e.type){if(m.isDataValidForAsin(u(b))){var l=m.getDataForAsin(u(b)).imageData;g.updateMainImage(h,l,r);g.showShowroomMainImage(h)}f.selectGivenThumbnail(e.$declarativeParent,x);f.useTabbedImmersiveView(n)&&g.handleShowroomThumbnailClick(e)}}else m.isDataValidForAsin(u(b))&&(c(b),l=m.getDataForAsin(u(b)).imageData,g.updateMainImage(h,l,r),g.showShowroomMainImage(h)),n.usePeekHover&&"click"!==e.type||(f.selectGivenThumbnail(e.$declarativeParent,
x),"click"===e.type&&f.useTabbedImmersiveView(n)&&g.handleShowroomThumbnailClick(e));a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE_HANDLE_THUMBNAIL_EVENT,new Date-d)}function u(a){a=n.colorToAsin[a.color].asin;a||(a=n.mediaAsin);return a}var k=void 0,n=void 0,l=void 0,r=void 0,x=void 0,h=void 0,y=void 0,q=void 0,v=void 0,p={SWATCH_HOVER:"swatchHover",MOUSE_ENTER:"mouseenter"};return function(c,q,t,z){t=new Date;k=this;n=c;l=q;r=z;b.on(e.TWISTER_DATA_EVENT,function(a){u(l.getCurrentItem())===
a&&(a={type:"updatedData",data:l.getCurrentItem()},r.dispatch("updateView",a))});k.render=function(e,f,c,d,k,q){e=new Date;x=d;h=k.find("#main-showroom-container");h.parent().find("#showroom-canvas-caption");b.$("#main-image-container");try{var w=u(l.getCurrentItem());if(m.isDataValidForAsin(w)){var p=new Date,t=m.getDataForAsin(w);g.refresh(r,t.asin,t.defaultStageId);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_GET_DATA_FOR_ASIN,new Date-p);if(!q){var B=new Date;g.updateMainImage(h,
t.imageData,r);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UPDATE_MAIN_IMAGE,new Date-B)}var v=new Date;f=g.createThumbnail(n,d,f,t.imageData);a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_CREATE_THUMBNAIL,new Date-v);var z=new Date;b.$("#ivShowroomTabHeading").removeClass("aok-hidden");a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UNHIDE_TAB_HEADING,new Date-z);if(w!==y){var A=new Date;a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_FEATURE_RENDERED);var C=
a.createShowroomAtfEvent(t.defaultStageId,w,a.EVENT_NAMES.IMAGEBLOCK_LOAD,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(C);y=w;a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_LOG_EVENT,new Date-A)}}else b.$("#ivShowroomTabHeading").addClass("aok-hidden")}catch(E){b.$("#ivShowroomTabHeading").addClass("aok-hidden")}a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_RENDER,new Date-e);return f};k.update=function(b){var r=new Date;try{var c=b.data;l.setCurrentEvent(b);c.type===e.SHOWROOM_THUMBNAIL_TYPE?
d(c,b):c.type!==e.SHOWROOM_MAIN_IMAGE_TYPE&&(b.type===p.SWATCH_HOVER?c.color===l.getCurrentItem().color&&l.getCurrentItem().type===e.SHOWROOM_THUMBNAIL_TYPE?g.showShowroomMainImage(h):g.hideShowroomMainImage(h):f.isImageBlockGridViewHoverDelayEnabled()?(l.setToPreviousItem(),"mouseenter"===b.type&&(v&&clearTimeout(v),v=setTimeout(function(){l.setToCurrentItem(c);g.hideShowroomMainImage(h)},f.getHoveringDelayTimer())),"mouseleave"===b.type&&v&&clearTimeout(v),"click"===b.type&&(l.setToCurrentItem(c),
g.hideShowroomMainImage(h))):g.hideShowroomMainImage(h))}catch(D){}a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE,new Date-r)};(c=document.getElementById("ivShowroomTabHeading"))&&c.addEventListener("click",function(b){a.addOne(a.COUNTER_NAMES.TAB_SELECT);b=m.getDataForAsin(y).defaultStageId;b=a.createShowroomAtfEvent(b,y,a.EVENT_NAMES.IMMERSIVE_VIEW_TAB_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(b)});a.logValue(a.TIMER_NAMES.SHOWROOM_IMAGEBLOCK_LATENCY_INVOKE,new Date-t)}});
"use strict";k.register("showroom-image-block-constants",function(){return{SHOWROOM_THUMBNAIL_TYPE:"showroom-image",SHOWROOM_MAIN_IMAGE_TYPE:"showroom-main-image",TWISTER_DATA_EVENT:"showroomTwisterData",STRING_IDS:{MAIN_IMAGE_OVERLAY_TEXT:"showroom_dp_imageblock_atf_main_image_overlay_text",MAIN_IMAGE_OVERLAY_BUTTON_TEXT:"showroom_dp_imageblock_atf_main_image_overlay_text_T2",MAIN_IMAGE_OVERLAY_ICON_URL:"showroom_dp_imageblock_atf_main_image_overlay_icon_url"}}});"use strict";k.when("A","jQuery",
"imageBlockUtils","showroom-lite-atf-feature-data","showroom-image-block-constants","showroom-image-block-metrics").register("showroom-image-block-detail-page-rendering",function(b,f,m,g,e,a){function c(b){a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_MAIN_IMAGE_SELECT);var c=a.createShowroomAtfEvent(n,k,a.EVENT_NAMES.IMAGEBLOCK_MAIN_IMAGE_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(c);d(b)}function d(a){a.action="showroomIngressClick";a.data=l;p.dispatch("showroomIngressClick",a)}var k,p,
n,l;return{createThumbnail:function(a,b,c,f){c===a.maxAlts&&(b.find(".item.imageThumbnail").last().remove(),c--);l={type:"showroomIngress",index:0,thumbnailIndex:c,variant:f.variant};m.createThumbnail({type:e.SHOWROOM_THUMBNAIL_TYPE,index:0,thumbnailIndex:c,variant:f.variant},f.thumb,b,"showroom-imageblock-thumbnail");c++;return c},updateMainImage:function(a,d){var h=a.find("#showroom-main-image");h.length?h.attr("src",d.hiRes):(h=f(('\x3cdiv id\x3d"showroom-main-image-container"\x3e                    \x3cimg src\x3d"'+
d.hiRes+'" id\x3d"showroom-main-image"/\x3e                \x3c/div\x3e').trim()),h.appendTo(a),b.declarative.create(a,"showroom-image-action",l),b.declarative("showroom-image-action",["click"],c),h.addClass("image-gradient-hue"),d=g.getStringValue(e.STRING_IDS.MAIN_IMAGE_OVERLAY_TEXT),h=g.getStringValue(e.STRING_IDS.MAIN_IMAGE_OVERLAY_BUTTON_TEXT),f(('\x3cdiv id\x3d"showroom-main-image-overlay-container"\x3e                    \x3cdiv style\x3d"padding-bottom: 7px;width: 40%;"\x3e                        \x3cspan id\x3d"showroom-main-image-overlay-subtext"\x3e'+
d+'\x3c/span\x3e                    \x3c/div\x3e                    \x3cspan class\x3d"a-button a-button-base"\x3e                        \x3cspan class\x3d"a-button-inner"\x3e                            \x3cinput class\x3d"a-button-input"\x3e                            \x3cspan class\x3d"a-button-text" id\x3d"showroom-main-image-overlay-button"\x3e                                \x3cimg id\x3d"showroom-main-image-overlay-icon" src\x3d"https://m.media-amazon.com/images/G/01/showroom/icon-lightbulb._CB628497379_.png"/\x3e'+
h+"\n                            \x3c/span\x3e                        \x3c/span\x3e                    \x3c/span\x3e                \x3c/div\x3e").trim()).appendTo(a))},hideShowroomMainImage:function(a){a.parent().css("z-index",-1);a.parent().addClass("aok-hidden")},showShowroomMainImage:function(a){a.parent().css("z-index",2);a.parent().removeClass("aok-hidden")},isShowroomMainImageHidden:function(){return f("#showroom-outer-container").hasClass("aok-hidden")},handleShowroomIngressClick:d,handleShowroomThumbnailClick:function(b){a.addOne(a.COUNTER_NAMES.SHOWROOM_IMAGEBLOCK_THUMBNAIL_SELECT);
var c=a.createShowroomAtfEvent(n,k,a.EVENT_NAMES.IMAGEBLOCK_THUMBNAIL_CLICK,a.STATUS_TYPES.SUCCESS);a.logShowroomAtfEvent(c);d(b)},handleShowroomMainImageClick:c,refresh:function(a,b,c){p=a;k=b;n=c}}});"use strict";k.when("A").register("showroom-image-block-metrics",function(b){return{EVENT_NAMES:{IMAGEBLOCK_LOAD:"srm_atf_imageBlock_load",IMAGEBLOCK_THUMBNAIL_CLICK:"srm_atf_thumbnail_click",IMAGEBLOCK_MAIN_IMAGE_CLICK:"srm_atf_main_image_click",IMMERSIVE_VIEW_TAB_CLICK:"srm_atf_iv_tab_click"},COUNTER_NAMES:{SHOWROOM_IMAGEBLOCK_FEATURE_RENDERED:"showroom:atf:imageBlock:feature:render",
SHOWROOM_IMAGEBLOCK_THUMBNAIL_HOVER:"showroom:atf:imageBlock:thumbnail:hover",SHOWROOM_IMAGEBLOCK_THUMBNAIL_SELECT:"showroom:atf:imageBlock:thumbnail:select",SHOWROOM_IMAGEBLOCK_MAIN_IMAGE_SELECT:"showroom:atf:imageBlock:mainImage:select",SHOWROOM_IMAGEBLOCK_FAILED_TO_INITIALIZED_WEBLAB_TRIGGER:"showroom:atf:imageBlock:failedToInitializeWeblabTrigger",TAB_SELECT:"showroom:atf:tab:select"},STATUS_TYPES:{SUCCESS:"success",ERROR:"error"},TIMER_NAMES:{SHOWROOM_IMAGEBLOCK_LATENCY_INVOKE:"showroom:atf:imageBlock:latency:invoke",
SHOWROOM_IMAGEBLOCK_LATENCY_LOAD:"showroom:atf:imageBlock:latency:load",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER:"showroom:atf:imageBlock:latency:render",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_GET_DATA_FOR_ASIN:"showroom:atf:imageBlock:latency:render:getDataForAsin",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UPDATE_MAIN_IMAGE:"showroom:atf:imageBlock:latency:render:updateMainImage",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_CREATE_THUMBNAIL:"showroom:atf:imageBlock:latency:render:createThumbnail",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UTIL_CREATE_THUMBNAIL:"showroom:atf:imageBlock:latency:render:utilCreateThumbnail",
SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_UNHIDE_TAB_HEADING:"showroom:atf:imageBlock:latency:render:unhideTabHeading",SHOWROOM_IMAGEBLOCK_LATENCY_RENDER_LOG_EVENT:"showroom:atf:imageBlock:latency:render:logEvent",SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE:"showroom:atf:imageBlock:latency:update",SHOWROOM_IMAGEBLOCK_LATENCY_UPDATE_HANDLE_THUMBNAIL_EVENT:"showroom:atf:imageBlock:latency:update:handleThumbnailEvent"},addOne:function(b){try{if(d.ue&&b){var f=(d.ue.count(b)||0)+1;d.ue.count(b,f)}}catch(g){}},logValue:function(b,
m){try{d.ue&&b&&"number"===typeof m&&d.ue.count(b,m)}catch(g){}},createShowroomAtfEvent:function(f,d,g,e){var a={};a.showroomId=f;a.asin=d;a.eventType=g;a.status=e;a.device=b.capabilities?b.capabilities.isAmazonApp?"AmazonApp":b.capabilities.mobile?"mobile":b.capabilities.tablet?"tablet":"desktop":"";a.userAgent=navigator?navigator.userAgent:"";a.producerId="showroom_atf";a.schemaId="com.amazon.showroom.ingress.clientEvent.3";return a},logShowroomAtfEvent:function(b){try{d.ue&&d.ue.event&&b&&d.ue.event(b,
"showroom_atf","com.amazon.showroom.ingress.clientEvent.3")}catch(m){}}}});"use strict";k.when("A","showroom-image-block-constants").register("showroom-lite-atf-feature-data",function(b,d){function f(){return e[a]}function g(a){return a in e}var e={},a;return{setData:function(c){c&&c.asin&&c.imageDomain&&c.defaultCollageUrl&&c.defaultStageId&&Array.isArray(c.itemMainImagePhysicalIds)&&(a=c.asin,g(c.asin)||(e[c.asin]=c,b.trigger(d.TWISTER_DATA_EVENT,c.asin)))},getDataForCurrentAsin:f,getDataForAsin:function(a){return e[a]},
getStringValue:function(a){return f().displayStrings?f().displayStrings[a]:""},isDataValidForAsin:g}})});
/* ******** */
