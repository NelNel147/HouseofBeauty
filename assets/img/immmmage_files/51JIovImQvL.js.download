(function(y){var D=window.AmazonUIPageJS||window.P,F=D._namespace||D.attributeErrors,d=F?F("DPTwisterPlusDesktopConfiguratorAssets",""):D;d.guardFatal?d.guardFatal(y)(d,window):d.execute(function(){y(d,window)})})(function(y,D,F){y.when("A","desktop-configurator-view","desktop-configurator-widgets-factory","desktop-configurator-slot-manager","twister-dynamic-style","desktop-configurator-logger","desktop-configurator-dimension-handler","desktop-configurator-side-sheet-view","desktop-configurator-popover-factory",
"twister-js-init-dpx-data","twister-plus-desktop-configurator-mark-render").register("desktop-configurator-view-initialiser",function(d,g,q,l,m,f,r,z,w,k){var u=k?k.inlineTwisterData||{}:{};u.inlineTwisterEnabled&&(f=new f,new g(k,q.Row,l,m,f,r,z,w),!u.shouldDelayRegistrationWithTwisterCore&&d.trigger("desktop-configurator-view-initialized"))});"use strict";y.when("A").register("desktop-configurator-dimension-handler",function(d){function g(d){this.numberOfDimensionsExpandedOnLanding=d.numberOfDimensionsExpanded||
0;this.expandAllDimensions=-1===this.numberOfDimensionsExpandedOnLanding;this.dimensionKeyRowMap={};this.expandedDimensionList=[];this.maxNumberOfDimensionsExpanded=d.maxNumberOfDimensionsExpanded||1}g.prototype={registerDimension:function(d,g){this.dimensionKeyRowMap[d]=g;(this.expandAllDimensions||this.expandedDimensionList.length<this.numberOfDimensionsExpandedOnLanding)&&this.expandedDimensionList.push(d)},init:function(){-1===this.maxNumberOfDimensionsExpanded&&(this.maxNumberOfDimensionsExpanded=
Object.keys(this.dimensionKeyRowMap).length)},expandDimension:function(d){-1===this.expandedDimensionList.indexOf(d)&&this.expandedDimensionList.push(d);if(this.maxNumberOfDimensionsExpanded<this.expandedDimensionList.length)for(var g=0;g<this.expandedDimensionList.length&&(this.expandedDimensionList[g]!==d&&this.dimensionKeyRowMap[this.expandedDimensionList[g]].collapse(),this.maxNumberOfDimensionsExpanded!==this.expandedDimensionList.length);g++);},collapseDimension:function(d){d=this.expandedDimensionList.indexOf(d);
-1!==d&&this.expandedDimensionList.splice(d,1)}};return g});"use strict";y.when("A","desktop-configurator-constants","3p-promise").register("desktop-configurator-view",function(d,g,q){function l(f,r,l,w,k,u,C,x){function c(){"function"===typeof D.markFeatureInteractive&&D.markFeatureInteractive("twister",{hasComponents:!0,components:[{name:"twister-desktopConfigurator"}]})}function b(){if(!E)return 0===f.unselectedDimCount;var a=e();return!!E.util.getAsinFromSelectionInfo(a)}function a(e,a,b,c,p,
n,d,t,v,f,B,m){return{text:e,image:a||"",popoverImage:b||"",name:c,id:B+"_"+c,selected:p,slotHtm:n,showSlot:d,isVisible:t,unavailable:v,defaultSlotUnavailable:U,isCirclularImageSwatch:h.inlineTwisterData&&"CIRCLE"===h.inlineTwisterData.swatchShape,asin:f,pageUrl:m}}function p(e){V[e]||null===J[e]||(e=h.rows[e],e.toggleSwatch&&e.toggleSwatch.removeMisplacedSwatch())}function t(e,a){var b=O.unselectedDimensionPrompt||"",c=f&&f.variationDisplayLabels?f.variationDisplayLabels[e]:"",p=f&&f.variationValues?
f.variationValues[e][a]:"";return{dimKey:e,titleSelectorPrefix:"inline-twister-dim-title-",titleValueSelector:"inline-twister-dim-title-value",mainText:c,subText:-1!==a?p:b.replace("###dimension",c||"")}}function e(){if(!E){var e=[];d.each(h.dimList,function(a){e.push({dimKey:a,val:f.selectedVariationValues?f.selectedVariationValues[a]:-1})});return e}return E.state()}function n(){return d.map(h.dimList,function(e,a){if(!h.isSingletonMap[e])return new q(function(b){v(h.rows[e],e,a);b()})})}function v(e,
c,p){var n=h.inlineTwisterData.slotsEnabledDimensions,t=!!((h.dimList.length===n.length?n[p]:n[0])&&b(c));p=f.variationValues[c];var v=e.getInitialVisibleSwatchList(),B=[];d.each(p,function(e,b){e=a(e,W[c+"::"+b],X[c+"::"+b],b,h.initSelectionState[c].val===b,v[b]?v[b].slotHtm:"",t,v[b]&&v[b].isVisible,v[b]&&v[b].unavailable,F,c,N[c]?N[c][e]:null);B.push(e)});h.swatches[c]=B}function B(){d.each(h.rows,function(e){h.isSingletonMap[e.dimKey]||(e.createDisplaySwatches(),h.textSwatchMap[e.dimKey]&&e.toggleSwatch.alignTextSwatches())})}
function A(){function n(e,b,c){var p,t,v,B=e.expanderContent.find(".inline-twister-swatch:not(.aok-hidden):not(.swatch-prototype)"),m=f.variationValues[b]||[],k=h.inlineTwisterData.inlineVariationsSize,r=-1,g=k,I=[],A=null;-1===k&&(r=parseInt(e.expanderContent.attr("data-swatchCountPerRow"))||B.length,g=r*P[b]);d.each(B,function(n,h){var d=parseInt(n.getAttribute("data-idxInToggleSwatchList")),B="true"===n.getAttribute("data-initiallySelected"),f="true"===n.getAttribute("data-initiallyUnavailable");
p=n.getAttribute("data-asin");t=d;v=m[d]||"";var q,H,l;q=W[b+"::"+t];H=X[b+"::"+t];l=v;f=a(l,q,H,t,B,"",c,!0,f,p,b,N[b]?N[b][l]:null);e.toggleSwatch&&(q=e.toggleSwatch.createSwatch(f,n),f.isVisible=q.isVisible);I.push(f);B&&h>=g&&(J[b]=d);-1!==k&&-1===r&&(n=n.getBoundingClientRect().top,null===A?A=n:n!==A&&(r=h))});-1!==k&&(-1===r&&(r=B.length),P[b]=Math.ceil(B.length/r));h.inlineVariationsSize[b]=B.length;e.toggleSwatch&&e.toggleSwatch.setNumberOfSwatchesPerRow(r);return I}function v(e,a,c){var p=
!(!e||!b(a)),n=h.rows[a].getInitialVisibleSwatchList();p&&d.each(n,function(b){if(!b.unavailable){var p=x.updateIfCurrentlyActive.bind(x,b.id),p=h.slotManager.get(b.asin,a,h.noOfLoadingIndicator,!1,Z,p,c);b.updateSlotNode({showSlot:e,slotHtm:p},!1,a)}})}function B(a,b,c){a={dimIndex:h.dimIndexMap[a],dimValueIndex:b};b=g.DP_STATE_VIEW_SUBTYPE;var p=h.dimensionsMap,n;n=e();for(var d=g.CHAR_UNDERSCORE,t=[],v=0;v<h.dimensionsMap.length;v++){var f=n[v].val;-1===f&&(f=g.CHAR_ASTERISK);t.push(String(f))}n=
d?t.join(d):t;return{divMetadata:a,eventType:c,subType:b,dimensionsMap:p,currDimCombId:n}}var k=e(),A=0,l={},q=h.inlineTwisterData.slotsEnabledDimensions,u=h.inlineTwisterData.popoverSlotsEnabledDimensions;m.each(k,function(e,a){l[a.dimKey]=a;h.dimIndexMap[a.dimKey]=e;h.dimensionsMap[e]=a.dimKey});h.initSelectionState=l;m.each(h.dimList,function(a,b){var c=l[b].val;a=H(b);var c=t(b,c),p=!(!Q&&(h.dimList.length===q.length?q[A]:q[0])),n=-1!==R.indexOf(b);h.textSwatchMap[b]=a;a=new r("inline-twister-row-",
c,{showSlot:!1,dimKey:b,inlineTwisterData:h.inlineTwisterData},{handleDimensionExpansion:function(a,c,d){b=a.dimKey;if(d){h.dimensionHandler.expandDimension(b);a=F;d={};S[b]?(d=I(h.swatches[b],c,b,e(),!1,!n,p),h.indexTranslationMap[b]=d,a={swatches:h.swatches[b]}):(v(c,b,p),S[b]=!0);var t=h.rows[b];t.setState(a,d,K,null,!1);M(c,t,b);h.logger.logDimensionExpanded(b);n||(J[b]=null)}else h.dimensionHandler.collapseDimension(b),h.logger.logDimensionCollapsed(b)}},h.logger);h.rows[b]=a;A+=1});0===h.inlineTwisterData.numberOfDimensionsExpanded&&
(c(),aa=!0);A=0;m.each(h.dimList,function(a,c){function t(e,a,b){if(a){var p=parseInt(a.buttonName,10),n=e[p]&&e[p].id?e[p].id:"";c=a.buttonGroupName;e[p]&&e[p].selected&&h.logger.logSelectedSwatchClick();n&&x.exists(n)&&x.hide(n);K=c;e={dimKey:c,val:p};D.newTwisterInteractionStartTime=new Date;h.twister.metaData(B(c,p,g.viewEvents.CLICK));h.twister.dimensionChanged(e);h.logger.logDimensionValueClick();b&&h.logger.logDimValueClickAfterAutoUpdate()}}function v(a,c){var p=c.data,n=c.type;c=c.$currentTarget;
var d=p.id,t=!!b(a),t=L&&t&&C,t=p.showImageInPopOver||t,f=!C,k=[];if(p){if(n===g.viewEvents.MOUSE_ENTER){var r=parseInt(p.name,10);k.push({dimKey:a,val:r});t&&x.show(d,c,p,f)}else t&&x.hide(d),k=e();E&&(h.twister.metaData(B(a,r,n)),h.twister.dimensionPeek(k));K=a}}function k(e,a){var b=parseInt(e.buttonName,10),c=h.swatches[a];(c?c[b]:F)?(G.setUserInteracting(!0),d.delay(function(){t(c,e)},350),h.logger.logSecViewSwatchClick()):y.log("Selected swatch not found on side sheet toggle button click. Value clicked: "+
b+" ; Swatch length: "+h.swatches[a].length,ba.ERROR,ba.ATTRIBUTION)}function r(e,a){h.isSideSheetOpen=a;h.isWindowResizedAfterSideSheetOpen&&!a&&m.each(h.dimList,function(e,a){h.textSwatchMap[a]&&(H(a),(e=h.rows[a])&&e.toggleSwatch&&(e.toggleSwatch.alignTextSwatches(),e.toggleSwatch.alignTextSwatchNodesInLastRow()))});h.isWindowResizedAfterSideSheetOpen=!1}function l(a,b,c){var n=O.desktopConfiguratorAllOptionsString||"",t=h.swatches[a].length,v={dimensionDisplayText:c.mainText,displayValueText:c.subText,
dimKey:a,getSwatchInfo:G.getSwatch.bind(G),destroyPopover:x.destroy,optionsText:n,totalValueCount:t,isTextSwatch:w};h.sideSheet.open(v);var f={swatches:h.swatches[a]};d.delay(function(){var c=I(h.swatches[a],b,a,e(),!0,!1,T);Y&&p(a);G.setState(f,c,K,null,!0,!0);h.sideSheet.update(v);V[a]=!0;d.delay(function(){w&&M(b,G,a,!0);w&&G.toggleSwatch&&t<g.TEXT_ALIGNMENT_LIMIT&&G.toggleSwatch.alignTextSwatches(!1,!0)})},1E3);h.isSideSheetOpen=!0;h.isWindowResizedAfterSideSheetOpen=!1;h.logger.logSeeAllLinkClick("Dimension"+
(h.dimIndexMap[a]+1))}function H(e){E&&(h.isWindowResizedAfterSideSheetOpen=!0,h.isSideSheetOpen||M(h.showSlotMap[e],h.rows[e],e,!1))}var w=h.textSwatchMap[c];a=[];var z=!Q&&(h.dimList.length===q.length?q[A]:q[0]),C=h.dimList.length===u.length?u[A]:u[0],T=!z,L=z||C,Y=-1!==R.indexOf(c),G=h.rows[c];h.showSlotMap[c]=L;P[c]=h.inlineTwisterData.numOfRowsPerDimension;z=-1!==f.singletonDimensionKeys.indexOf(c);h.isSingletonMap[c]=z;A+=1;!z&&G&&(z=!(!L||!b(c)),J[c]=null,a={name:c,swatches:a,isTextSwatch:w,
onChange:t,onHover:v,hideSlotsFromMainView:T,totalSwatchCount:(f.variationValues[c]||[]).length,preserveNaturalSwatchOrder:Y},h.sideSheet.registerToggleButtonGroup(c,k,r),G.initializeComponents(a,L,{showSideSheet:l,handleWindowResize:H}),h.dimensionHandler.registerDimension(c,G),a=n(G,c,z),h.swatches[c]=a)});aa||c()}function H(e){var a=!0;(h.inlineTwisterData.disableImageSwatch===F?0:h.inlineTwisterData.disableImageSwatch)||(a=!h.inlineTwisterData.imageDimensionKeysMap[e]);return a}function I(e,a,
c,n,t,v,f,B){var k=!(!a||!b(c));a=E.util.getDimAvailability(c,n);var r=-1!==R.indexOf(c),g=d.state("filteredAvailability");if(g!==F&&!0===g.filterApplicable&&1===n.length){for(var I={},A=0;A<g.asins.length;++A)I[g.asins[A]]=1;for(var g=[],H=[],A=0;A<a.available.length;++A){var q=a.available[A];q.asin in I?g.push(q):H.push(q)}a.available=g;a.unavailable=H}var l={},u=0,z=x.updateIfCurrentlyActive,w=-1,C=-1;m.each(n,function(e,a){a.dimKey===c&&(w=a.val,C=e)});-1!==w&&(v&&(l[w]=u),u++);var y=h.rows[c];
d.each(a.available,function(a){e[a.index]=e[a.index]||{};var b=e[a.index];b.unavailable=!1;b.selected&&(w=a.index,b.isVisible||(null!==J[c]&&e[J[c]]&&(e[J[c]].isVisible=!1,r&&p(c)),J[c]=a.index),b.isVisible=!0);v&&(b.isVisible=u<h.inlineVariationsSize[c]||b.selected);var n=b.isVisible||t,g=t?b.id+"_sec":b.id;k&&n?b.slotHtm=h.slotManager.get(a.asin,c,h.noOfLoadingIndicator,t,Z,z.bind(x,g),f,B):(b.slotHtm=b.slotHtm||"",z(g,b.slotHtm));t&&y&&y.toggleSwatch&&(n=y.toggleSwatch.getSwatch(a.index),d.objectIsEmpty(n)&&
(l[a.index]=u));v&&w!==a.index&&(l[a.index]=u);b.showSlot=k;b.selected||u++});d.each(a.unavailable,function(a){e[a.index]=e[a.index]||{};var b=e[a.index];b.unavailable=!0;v&&(b.isVisible=u<h.inlineVariationsSize[c]);var p=d.state("filteredAvailability"),n=U;p!==F&&!0===p.filterApplicable&&(a.index in p.variations[C]||(n='\x3cspan class\x3d"a-size-small default-slot-unavailable"\x3e'+ca+"\x3c/span\x3e"),b.defaultSlotUnavailable=n);b.slotHtm=k?n:"";v&&(l[a.index]=u);b.showSlot=k;u++});S[c]=!0;r&&(l=
{});return l}function M(a,e,b,c){var p=h.textSwatchMap[b];a&&p&&(!c||h.isSideSheetOpen)&&(h.slotManager.resetMinSlotHeight(b),a=e.toggleSwatch.getSlotNodes(c),L(a,b,c),h.slotManager.updateSlotHeight(b,c))}function L(a,e,b){h.slotManager.resetSlotHeight(e,b);d.each(a,function(a,b){d.each(a,function(a){h.slotManager.setState(a,e,b)})})}function Z(a,e){e&&!h.isSideSheetOpen||M(!0,h.rows[a],a,e)}var h=this,E=F;this.isWindowResizedAfterSideSheetOpen=!1;this.data=f;this.noOfLoadingIndicator=1;this.dimList=
f.reorderedDimensionListKeys||[];this.dimensionsMap=[];this.logger=k;this.inlineTwisterData=f?f.inlineTwisterData||{}:{};this.swatches={};this.sideSheet=new C;var J={},O=this.inlineTwisterData&&this.inlineTwisterData.stringTranslationMap?this.inlineTwisterData.stringTranslationMap:{},U='\x3cspan class\x3d"a-size-small default-slot-unavailable"\x3e'+(O.defaultSlotUnavailableString||"")+"\x3c/span\x3e",W=f.imageHashMap||{},X=f.desktopConfiguratorPopoverImageMap||{},N=f.dimensionPageLoadUrls||{},ca=
"pwASINs"in f&&f.pwASINs instanceof Array&&0<f.pwASINs.length?f.pwUnavailableMessage:"",P={},Q=!!f.isAssemblyVariationsEnabled;this.rows={};this.dimensionHandler=new u(h.inlineTwisterData);this.isSingletonMap={};this.indexTranslationMap={};this.textSwatchMap={};var K,ba=g.loggingConstants;this.initSelectionState={};x.setVisibleSlotConfig(this.inlineTwisterData&&this.inlineTwisterData.desktopConfiguratorSlotsInPopover?this.inlineTwisterData.desktopConfiguratorSlotsInPopover:[]);this.inlineVariationsSize=
{};this.dimIndexMap={};this.isSideSheetOpen=!1;this.showSlotMap={};var R=h.inlineTwisterData.dimsWithSwatchReorderingDisabled||[],V={},S={},aa=!1;(function(){var a=h.logger.createFunctionTimerInstance("desktopConfiguratorInitTime");a.start();A();a.stop()})();d.on("register-desktop-configurator-with-twisterCore",function(a,b){E=a;h.logger.registerTwisterCore(E);h.sideSheet.init(h.logger);a=e();var c=h.inlineTwisterData.slotsEnabledDimensions,p=h.inlineTwisterData.popoverSlotsEnabledDimensions,v={};
m.each(a,function(a,e){v[e.dimKey]=e});E.slotsDimSum.addDefaultQueryParameter("showFancyPrice",h.inlineTwisterData.showFancyPrice);E.slotsDimSum.addDefaultQueryParameter("twisterFlavor",g.DESKTOP_CONFIGURATOR_FLAVOR);h.slotManager=new l(E,w,h.logger,h.inlineTwisterData);h.dimensionHandler.init();var f=0;d.each(h.rows,function(a){function e(c){var p,v={},f;p=c.selected().selectionInfo();m.each(p,function(a,e){v[e.dimKey]=e});f=v[b].val;c=h.swatches[b];c[f]=c[f]||{};c[n]=c[n]||{};c[n].selected=!1;c[f].selected=
!0;var k=t(b,n);n===f||B||a.setThumbnailImage(c[f].image);n=f;I(c,A,b,p,!1,!1,g,A);p=t(b,f);f={swatches:c};var r=d.filter(c,function(a){return a.isVisible});c.length===r.length&&(a.hideSideSheetLink(),h.inlineVariationsSize[b]=c.length);a.setExpanderHeaderAriaLabel(k,p);a.setState(f,{},K,p,!1);M(A,a,b)}if(!h.isSingletonMap[a.dimKey]){a.postInitialize();var b=a.dimKey,n=v[b].val,B=H(b),k=h.dimList.length===p.length?p[f]:p[0],r=!Q&&(h.dimList.length===c.length?c[f]:c[0]),g=!r,A=r||k,k={viewAttribution:"DetailPage",
viewName:"DesktopConfiguratorRowView_"+b};d.on("update-desktop-configurator-view",function(a){e(a)});h.twister=E.registerActive(k,{updateView:function(c,p){var n={};"VARIATION_CHANGE"===c?e(p):"VARIATION_PEEK"===c&&(c=p.peek().selectionInfo(),m.each(c,function(a,e){n[e.dimKey]=e}),c=n[b].val,c=t(b,c),K===b&&a.title.setState(c),h.sideSheet.activeDimKey===b&&h.sideSheet.updateDimVal(c))}})}f++});d.trigger("desktop-configurator-twisterCore-initialized",h);q.all(n()).then(function(){B()});b.then(function(){d.each(h.rows,
function(a){a.activatePageRefresh()})})})}var m=d.$;l.prototype={updateView:function(f){d.trigger("update-desktop-configurator-view",f.tsm.currentState())}};return l});"use strict";y.when("A").register("desktop-configurator-constants",function(d){return{AJAX_CALL_TIMEOUT:2E4,DIMENSION_VALUE:"DimensionValue###",DISPLAY_VALUE:"DisplayValue###",SWATCH_DATA:"SwatchData###",DESKTOP_CONFIGURATOR_FLAVOR:"twisterPlusDesktopConfigurator",MAX_DIMENSION_FLAVOUR_CAP:3,POPOVER_DELAY:500,MAX_INLINE_ROWS:7,SIDE_SHEET_ANIMATION_SPEED:300,
SIDE_SHEET_PADDING:32,TEXT_SWATCH_MARGIN_RIGHT:6,CONFIGURED_SLOTS:["price","ms3","twisterPrimeWardrobe","twisterAvailability","deliveryPromise"],SIZE_DIMENSION_NAME:"size_name",DP_STATE_VIEW_SUBTYPE:"DETAILPAGE_STATE_VIEW_METADATA",CHAR_UNDERSCORE:"_",CHAR_ASTERISK:"*",DEFAULT_SCROLLER_WIDTH:20,BORDER_WIDTH:2,TEXT_ALIGNMENT_LIMIT:400,ABS_PACK_DESCRIPTION_RENDERED:"absPackDescriptionRendered",DEFAULT_TEXT_SWATCH_SPACING:16,DEFAULT_IMAGE_SWATCH_SPACING:8,REDUCED_IMAGE_SWATCH_SPACING:4,viewEvents:{MOUSE_ENTER:"mouseenter",
MOUSE_LEAVE:"mouseleave",CLICK:"click"},sideSheetSelectors:{EXPANDER_CONTENT_PREFIX:"#inline-twister-expander-content-",SEC_VIEW_DIMENSION_VALUE_LIST:" #tp-inline-twister-dim-values-container",DIMENSION_VALUES_LIST:" .dimension-values-list",DIMENSION_VALUES_LIST_ODD_CHILD:" .dimension-values-list \x3e :nth-child(odd)",DIMENSION_VALUES_LIST_EVEN_CHILD:" .dimension-values-list \x3e :nth-child(even)",LIST_ITEM_CIRCULAR_IMAGE:".dimension-value-list-item-circular-image",CIRCULAR_IMAGE_SWATCH_BUTTON:".circle-image-swatch-button",
LIST_ITEM_SQUARE_IMAGE:".dimension-value-list-item-square-image",SQUARE_IMAGE_SWATCH_BUTTON:".image-swatch-button",TEXT_LIST_ITEM:".swatch-list-item-text",TEXT_SWATCH_BUTTON:".text-swatch-button",TEXT_SWATCH_BUTTON_WITH_SLOTS:".text-swatch-button-with-slots",IMAGE_SELECTOR:".swatch-image",SEC_VIEW_TOGGLE_BUTTON_PREFIX:"sec_",DELAY:200},widgetSelectors:{EXPANDER_CONTENT_PREFIX:"#inline-twister-expander-content-",EXPANDER_HEADER_PREFIX:"#inline-twister-expander-header-",DIMENSION_EXPANDER_ICON_PREFIX:"#dimension-expander-icon-",
DIMENSION_EXPANDER_ICON_WRAPPER:".dimension-expander-icon-wrapper",EXPANDED_DIMENSION_TEXT_PREFIX:"#inline-twister-expanded-dimension-text-",COLLAPSED_DIMENSION_TEXT_PREFIX:"#inline-twister-collapsed-dimension-text-",AUTO_NOTIFICATION_EXPANDED:"#inline-twister-auto-notification-expanded",AUTO_NOTIFICATION_COLLAPSED:"#inline-twister-auto-notification-collapsed",IMAGE_THUMBNAIL:".dimension-collapsed-image-thumbnail",SWATCH_NODE_SELECTOR:".inline-twister-swatch",SLOT_NODE_SELECTOR:".dimension-slot-info",
TOGGLE_BUTTON_SELECTOR:".a-button-toggle",IMAGE_SELECTOR:".swatch-image",DIMENSION_VALUES_LIST:".dimension-values-list"},classes:{A_COLOR_ATTAINABLE:"a-color-attainable",AOK_HIDDEN:"aok-hidden",DIMENSION_EXPANDER_CONTENT_EXPAND:"dimension-expander-content-expand",ROTATE:"rotate",A_BUTTON_UNAVAILABLE:"a-button-unavailable",A_BUTTON_SELECTED:"a-button-selected",A_BUTTON_FOCUS:"a-button-focus",ROW_IDENTIFIER_PREFIX:"desktop-configurator-dim-row-"},cssConstants:{BG_COLOR:"background-color",GREEN_BG_COLOR:"#D9EED9",
WHITE_BG_COLOR:"white"},loggingConstants:{ATTRIBUTION:"TwisterPlusDesktopConfigurator",ERROR:"ERROR"}}});"use strict";y.when("A").register("desktop-configurator-logger",function(d){function g(){if(!(this instanceof g))return new g;m||(m=this);return m}function q(d){if("undefined"!==typeof D.csa){var g=D.csa("Events",{producerId:"dp-rpcx"}),m=f.count(d)||0;g("log",{schemaId:"dpRpcx.CSALoggingSchema.5",eventName:d,valueToLog:m},{ent:"all"})}}var l=d.$,m,f=D.ue;g.prototype={registerTwisterCore:function(d){this.twisterCore=
d},logCSMDataOnLanding:function(){var d=0,g=0,m=0,k=this.twisterCore.util,u=k.tvm.dimensionInfo,C=this.twisterCore.state().length,x=Object.keys(k.tvm.dimCombinations).length;l.each(u,function(c,b){c=b.dimKey;k.isRequiredDim(c)&&m++;k.isSingletonDim(c)?g++:d++});f&&f.count&&(f.count("dpMobileTwisterDropdownPresent",d),q("dpMobileTwisterDropdownPresent"),f.count("dpMbileTwisterSingletonDim",g),q("dpMbileTwisterSingletonDim"),f.count("dpMobileTwisterRequiredDim",m),q("dpMobileTwisterRequiredDim"),f.count("dpMobileTwisterDimSize",
C),q("dpMobileTwisterDimSize"),f.count("dpMobileTwisterFamilySize",x),q("dpMobileTwisterFamilySize"),f.count("twisterPlus.inlineTwisterGV",1),q("twisterPlus.inlineTwisterGV"))},logCSMTagsOnLanding:function(f){function g(a,b,c){var p=[];if(b===c)p.push(""),a=a[b],d.$.isArray(a)?d.each(a,function(a,e){p.push(a)}):p.push(a);else{var t=Math.floor((b+c)/2);b=g.call(this,a,b,t);var f=g.call(this,a,t+1,c);d.each(b,function(a,e){d.each(f,function(e,b){p.push(""===a?e:""===e?a:a+":"+e)})})}return p}function m(a){a&&
l.push(a)}var k=this,l=[],q=!0,x=!0,c=[0,3,8,25,50,100,1E3,5E3],b=Object.keys(this.twisterCore.util.tvm.dimCombinations).length,a,p;f.dimensionList&&(a="variation_dimension:"+f.dimensionList.length,d.each(f.dimensionList,function(a,b){k.addCSMTag(a)}));for(var t=1;t<c.length;t++)if(b<=c[t]){p="family_size_bucket:"+c[t-1]+"-"+c[t];break}else t===c.length-1&&(p="family_size_bucket:gt"+c[t]);f.dimensionInfo&&d.each(f.dimensionInfo,function(a,b){a.isSingleton||(q=!1)});c=q?"SingletonFamily":"DesktopConfigurator";
f.initDimCombination&&d.each(f.initDimCombination,function(a,b){-1===a.val&&(x=!1)});m(a);m(p);m(c);x&&m("defaultSelection");f=g.call(this,l,0,l.length-1);(function(a){var b=this;d.each(a,function(a,e){a&&b.addCSMTag(a)})}).call(this,f)},createFunctionTimerInstance:function(d){var f=this;return{eventType:d,start:function(){this.startTime=Date.now()},stop:function(){this.startTime&&f.logCounter(this.eventType,Date.now()-this.startTime)}}},addCSMTag:function(d){D.ue&&D.ue.tag&&D.ue.tag(d)},logCounter:function(d,
g){f&&f.count&&(g===F?f.count(d,(f.count(d)||0)+1):f.count(d,g),q(d))},logBottomSheetPageUpdate:function(d){this.logCounter("twisterPlus.inlineTwisterPageUpdate")},logSelectedSwatchClick:function(){this.logCounter("twisterPlus.inlineTwister.selectedSwatchClick")},logDimensionValueClick:function(){this.logCounter("dpmobiletwisterclickOndimval")},logSecViewTotalCount:function(d){this.logCounter("twisterPlus.inlineTwister.secondaryViewCount."+d)},logSecViewGV:function(d){this.logCounter("twisterPlus.inlineTwister.secondaryViewGV."+
d)},logSecViewClosed:function(d){this.logCounter("twisterPlus.inlineTwister.secondaryViewClosed."+d)},logDimensionCollapsed:function(d){this.logCounter("twisterPlus.inlineTwister.dimCollapse."+d)},logDimensionExpanded:function(d){this.logCounter("twisterPlus.inlineTwister.dimExpand."+d)},logSecViewSwatchClick:function(){this.logCounter("twisterPlus.inlineTwister.secViewSwatchClick")},logDimExpansionAfterAutoUpdate:function(){this.logCounter("twisterPlus.inlineTwister.dimExpansionAfterAutoUpdate")},
logDimValueClickAfterAutoUpdate:function(){this.logCounter("twisterPlus.inlineTwister.dimValueClickAfterAutoUpdate")},logAvailabilitySlotRender:function(){this.logCounter("twisterPlus.inlineTwister.availabilitySlotRender")},logPPUSlotRender:function(){this.logCounter("twisterPlus.inlineTwister.ppuSlotRender")},logPrimeSlotRender:function(){this.logCounter("twisterPlus.inlineTwister.primeSlotRender")},logPriceSlotRender:function(){this.logCounter("twisterPlus.inlineTwister.priceSlotRender")},logDeliverySlotRender:function(){this.logCounter("twisterPlus.inlineTwister.deliverySlotRender")},
logReviewsSlotRender:function(){this.logCounter("twisterPlus.inlineTwister.reviewsSlotRender")},logSeeAllLinkClick:function(d){this.logCounter("twisterPlus.inlineTwister.seeAllLinkClick."+d)}};return g});"use strict";y.when("A").register("twister-dynamic-style",function(d){function g(d,f){this.name=d;this.styleNode;this.rules=f||[];this.pendingRefresh}var q=d.$,l={};g.prototype={refresh:function(){var d=q("\x3cdiv /\x3e",{html:"\x26shy;\x3cstyle\x3e"+this.rules.join(" ")+"\x3c/style\x3e"});this.styleNode?
(this.styleNode.replaceWith(d),delete this.styleNode,this.styleNode=d):(this.styleNode=d,this.styleNode.appendTo("body"))}};return{addCSSRules:function(d,f){l[d]?l[d].rules=f||[]:l[d]=new g(d,f);l[d].refresh()}}});"use strict";y.when("A","desktop-configurator-constants","desktop-configurator-twister-register","3p-promise").register("desktop-configurator-slot-manager",function(d,g,q,l){function m(a,b,c,e){this.twisterCore=a;this.batch={};this.currentBatch;this.maxSlotHeight={};this.minSlotHeight={};
this.dynamicStyle=b;this.slotIdentifierMap={};this.logger=c;this.auiPriceSize=e&&e.auiPriceSize?e.auiPriceSize:"m";this.currentlyUnavailableMessage=e&&e.stringTranslationMap?e.stringTranslationMap.currentlyUnavailableMessage:"";this.desktopConfiguratorSlotsInMainView=e&&e.desktopConfiguratorSlotsInMainView?e.desktopConfiguratorSlotsInMainView:[]}function f(a,b,t,e,n){var f=this.batch,k=this;f[a]=f[a]||[];f[a].push(t);clearTimeout(this.currentBatch);this.currentBatch=setTimeout(function(){var a=d.map(k.batch,
function(a,e){return e});k.twisterCore.slotsDimSum.get(a,function(a){var t=k.batch[a.ASIN];t&&(c.each(t,function(e,b){b(a)}),delete k.batch[a.ASIN]);u(k.batch)&&(t=Object.keys(k.maxSlotHeight),d.each(t,function(a){e(a,n&&a===b)}))})},0)}function r(a,b,d,e){d[b]=d[b]||{};d[b].uniqueCount=d[b].uniqueCount||0;var n="inline-twister-dimsum-loading-"+b+"-"+d[b].uniqueCount;d[b].uniqueCount+=1;return{loadingHtm:'\x3cdiv class\x3d"'+n+(a?" loading-indicator-1":"")+(e?" aok-hidden":"")+'"\x3e\x3cdiv\x3e\x3c/div\x3e\x3c/div\x3e',
promise:function(a,e){var b=c("."+n+":not(.loading-indicator-in-popover)").parent();b.length&&(b.html(a),e(b))}}}function z(a){return a.replace(/\n/g,"").replace(/[\t ]+\</g,"\x3c").replace(/\>[\t ]+\</g,"\x3e\x3c").replace(/\>[\t ]+$/g,"\x3e")}function w(a,c,d){return z(b.default.call(this,a.content.twisterSlotDiv,c,d))}function k(a,b){if(!a||0===a.length)return b;if(0<a.find(".loading-indicator-1").length)return a[0].scrollHeight;if(0===a.find(".defaultSlotUnavailable").length)return b;a=a[0].scrollHeight;
b<a&&(b=a);return b}function u(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}function C(){var a=x("PageRefresh:ATF"),b=x("PageRefresh:AjaxCallCompletedButCFMarkingNotDone");return[a,b]}function x(a){return new l(function(b,c){d.on(a,function(){b()})})}var c=d.$,b={default:function(a,b,d){a=c("\x3cdiv\x3e"+a+"\x3c/div\x3e");var e=a.find(".price_slot_ppu"),n=a.find("#ms3slot"),f=a.find("#twisterAvailability"),k=a.find("#deliveryPromisePrefix"),g=a.find(".variationReviewsSection"),m=d?[]:
this.desktopConfiguratorSlotsInMainView,l=a.find(".twister_swatch_price");f.length&&((l.length||d)&&-1===m.indexOf("twisterAvailability")&&f.parent().addClass("aok-hidden"),f.parent().append("\x3cdiv class\x3d'js-dummy-twister-availability'\x3e\x3c/div\x3e"),f.parent().find(".a-size-medium").removeClass("a-size-medium").addClass("a-size-small"),f.parent().find(".a-size-mini").removeClass("a-size-mini").addClass("a-size-small"),f.parent().find(".a-size-large").removeClass("a-size-large").addClass("a-size-small"),
b&&this.logger.logAvailabilitySlotRender());0<l.length?(-1===m.indexOf("price")&&l.addClass("aok-hidden"),l.addClass("inline-twister-swatch-price"),d=a.find(".a-price"),0<d.length?d[0].dataset&&(d[0].dataset.aSize=this.auiPriceSize):(l.find(".a-size-small").removeClass("a-size-small").addClass("a-size-base").addClass("a-color-base"),l.find(".a-size-mini").removeClass("a-size-mini").addClass("a-size-base").addClass("a-color-base"),l.find(".a-size-large").removeClass("a-size-large").addClass("a-size-base").addClass("a-color-base")),
d="a-size-small",l.find(".olpWrapper").removeClass("a-size-mini a-size-micro a-size-medium a-size-large a-size-base a-color-base").addClass(d),e.length&&(d="twister-plus-inline-twister-ppu a-size-micro",e.removeClass("a-size-mini a-size-small a-size-medium a-size-large a-size-base a-color-base").addClass(d),b&&this.logger.logPPUSlotRender()),b&&this.logger.logPriceSlotRender()):(l=a.find("#sndbox-mobile-twister-price"),0<l.length&&b&&this.logger.logPriceSlotRender());n.length&&(n.find(".a-icon-mini").removeClass("a-icon-mini").addClass("a-icon-small"),
-1===m.indexOf("ms3")&&n.addClass("aok-hidden"),b&&this.logger.logPrimeSlotRender());0<k.length&&(k.removeClass("a-size-small a-color-secondary").addClass("a-color-base"),-1===m.indexOf("deliveryPromise")&&k.parent().addClass("aok-hidden"),k.find("br").remove(),e=k.find("b"),0===e.length&&(e=k.find("span")),e.length&&(n=" "+z(e.text()),e.addClass("aok-hidden"),k.append('\x3cspan style\x3d"font-weight: bold;"\x3e'+n+"\x3c/span\x3e")),b&&this.logger.logDeliverySlotRender());0<g.length&&(g.removeClass("a-spacing-micro a-spacing-top-micro").addClass("a-spacing-none a-spacing-top-none"),
-1===m.indexOf("variationReviews")&&g.addClass("aok-hidden"),b&&this.logger.logReviewsSlotRender());q.executeModifiers(a);return a.html()}};m.prototype={get:function(a,b,c,e,d,k,g,m){var q=this,u=this.twisterCore.slotsDimSum.get([a]);if(u[a])return w.call(q,u[a].Value,!1,g);var x=r(c,b,q.slotIdentifierMap,g);m?(c=C.call(this),l.any(c).then(function(){f.call(q,a,b,function(a){x.promise(w.call(q,a.Value,!0,g),k)},d,e)})):f.call(this,a,b,function(a){x.promise(w.call(q,a.Value,!0,g),k)},d,e);return x.loadingHtm},
setState:function(a,b,c){this.minSlotHeight[b]||(this.minSlotHeight[b]=[]);this.maxSlotHeight[b]||(this.maxSlotHeight[b]=[]);this.minSlotHeight[b][c]=this.minSlotHeight[b][c]||0;this.minSlotHeight[b][c]=k(a,this.minSlotHeight[b][c]);this.maxSlotHeight[b][c]=this.maxSlotHeight[b][c]||0;var e=this.maxSlotHeight[b];var d=this.maxSlotHeight[b][c];!a||0===a.length||0<a.find(".loading-indicator-1").length||(a=a[0].scrollHeight,d<a&&(d=a));e[c]=d;this.maxSlotHeight[b][c]=this.maxSlotHeight[b][c]>this.minSlotHeight[b][c]?
this.maxSlotHeight[b][c]:this.minSlotHeight[b][c]},updateSlotHeight:function(a,b){var c=[],e;d.each(this.maxSlotHeight[a],function(d,f){b?(c.push("#desktop-configurator-side-sheet #"+a+"dim_list .desktop-configurator-dim-row-"+f+" .dimension-slot-info {height: "+d+"px;}"),e="twister-plus-desktop-configurator-side-sheet-slot-height-"):(c.push("#inline-twister-expander-content-"+a+" .desktop-configurator-dim-row-"+f+" .dimension-slot-info {height: "+d+"px;}"),e="twister-plus-desktop-configurator-slot-height-")});
this.dynamicStyle.addCSSRules(e+a,c)},resetMinSlotHeight:function(a){this.minSlotHeight[a]||(this.minSlotHeight[a]=[]);this.minSlotHeight[a]=d.map(this.minSlotHeight[a],function(){return 0})},resetSlotHeight:function(a,b){this.maxSlotHeight[a]||(this.maxSlotHeight[a]=[]);this.dynamicStyle.addCSSRules((b?"twister-plus-desktop-configurator-side-sheet-slot-height-":"twister-plus-desktop-configurator-slot-height-")+a,[]);this.maxSlotHeight[a]=d.map(this.maxSlotHeight[a],function(){return 0})}};return m});
"use strict";y.when("A","desktop-configurator-constants","detail-page-side-sheet").register("desktop-configurator-side-sheet-view",function(d,g,q){function l(){this.sideSheetData=this.activeDimKey=null;this.swatchList=[];this.mainViewDimContainer=this.keyDownEventHandler=this.dimValContainer=null;this.updateSideSheetStatus={}}function m(){this.sideSheetData=this.activeDimKey=null;this.swatchList=[];this.mainViewDimContainer=this.keyDownEventHandler=this.dimValContainer=null}function f(c,b){d.each(c,
function(a){var c="desktop-configurator-swatch-hover:"+b+"_sec";try{d.declarative.remove(a,c),d.declarative.create(a,c,{})}catch(f){y.log("Hover event subscribe failed with error: "+this.name,x.ERROR,x.ATTRIBUTION)}})}function r(c){c=Array.prototype.slice.call(c);var b=u(c[0]).find("input");c=u(c[c.length-1]).find("input");this.keyDownEventHandler=w.bind(this,b,c);document&&document.addEventListener("keydown",this.keyDownEventHandler);d.delay(function(){b&&b.focus()})}function z(){if(this.mainViewDimContainer){var c=
this.mainViewDimContainer.parent().find(".tp-side-sheet-link-container a")[0];document&&document.removeEventListener("keydown",this.keyDownEventHandler);c&&c.focus()}}function w(c,b,a){a.code&&"tab"===a.code.toLowerCase()&&(a.shiftKey?document&&document.activeElement===c[0]&&(a.preventDefault(),b.focus()):document&&document.activeElement===b[0]&&(a.preventDefault(),c.focus()))}function k(c){var b=u("#desktop-configurator-side-sheet-content-header").clone();b.removeClass("aok-hidden");b.find(".dim-name").text(c.dimensionDisplayText+
":");b.find(".dim-value").text(c.displayValueText);var a=c.optionsText;a&&b.find(".dim-options").text(a.replace("###options",c.totalValueCount));return b}var u=d.$,C=g.sideSheetSelectors,x=g.loggingConstants;l.prototype={init:function(c){var b=this,a=u("#twister-plus-inline-twister-container");0!==a.length&&(a=a[0].getBoundingClientRect().width,this.scrollbarWidth=this.getScrollbarWidth(),this.sideSheet=new q({id:"desktop-configurator-side-sheet",shouldRenderHTMLString:!0,animationDuration:g.SIDE_SHEET_ANIMATION_SPEED,
width:a+g.SIDE_SHEET_PADDING+b.scrollbarWidth,onAfterHide:function(){c.logSecViewClosed(b.activeDimKey);d.each(b.swatchList,function(a){var c=parseInt(a.getAttribute("data-idxInToggleSwatchList"),10),c=b.sideSheetData.getSwatchInfo(c);d.declarative.remove(a,"desktop-configurator-swatch-hover:"+b.activeDimKey+"_sec");b.sideSheetData.destroyPopover(c.id+"_sec")});z.call(b);b.updateSideSheetStatus[b.activeDimKey]&&b.updateSideSheetStatus[b.activeDimKey](b.activeDimKey,!1);m.call(b)}}))},open:function(c){this.activeDimKey=
c.dimKey;this.sideSheetData=c;var b=u("#inline-twister-row-"+c.dimKey+" #tp-inline-twister-dim-values-container").find(".desktop-configurator-dim-row-0"),a=u("#side-sheet-loader-container").clone().removeClass("aok-hidden"),p=a.find(".loader-container"),f=a.find("#side-sheet-loader").clone().removeClass("aok-hidden"),e,n,v=g.DEFAULT_TEXT_SWATCH_SPACING;c.isTextSwatch?(e=b.width()-g.BORDER_WIDTH,n=b.height()-g.BORDER_WIDTH):(n=b.find(".swatch-image-container"),v=0<n.closest(".reduced-image-swatch-margin").length,
e=n.outerWidth(),n=n.outerHeight(),v=v?g.REDUCED_IMAGE_SWATCH_SPACING:g.DEFAULT_IMAGE_SWATCH_SPACING,f.css({marginLeft:v/2+"px",marginRight:v/2+"px"}));f.width(e);f.height(n);d.each(b,function(){p.append(f.clone().addClass("side-sheet-loader-1"))});e=p.clone();e.find(".side-sheet-loader-1").removeClass("side-sheet-loader-1").addClass("side-sheet-loader-2");a.append(e);c=k(c);a.prepend(c);a=a[0].outerHTML;this.sideSheet.updateWidth(this.getWidth(b,v));this.sideSheet.open(a)},update:function(c){this.mainViewDimContainer=
u("#inline-twister-row-"+c.dimKey+" #tp-inline-twister-dim-values-container");var b=this.mainViewDimContainer.clone(),a=b.find(C.DIMENSION_VALUES_LIST);a.attr("id",c.dimKey+"dim_list");var d=k(c);b.prepend(d);a.children().slice(1).removeClass("aok-hidden");a.attr("data-a-button-group",'{"name":"sec_'+c.dimKey+'"}');this.sideSheet.updateContent(b[0].outerHTML);c=this.sideSheet.container;this.swatchList=c.find(C.DIMENSION_VALUES_LIST).children().slice(1);f(this.swatchList,this.activeDimKey);this.dimValContainer=
c.find(".desktop-configurator-side-sheet-content-header .dim-value");r.call(this,this.swatchList)},close:function(){this.sideSheet.close()},registerToggleButtonGroup:function(c,b,a){var f=C.SEC_VIEW_TOGGLE_BUTTON_PREFIX+c,k=this;this.updateSideSheetStatus[c]=a;d.on("a:button-group:"+f+":toggle",function(a){k.sideSheet.close();a.selectedButton.buttonGroupName=c;b(a.selectedButton,c)})},updateDimVal:function(c){this.dimValContainer&&this.dimValContainer.length&&this.dimValContainer.text(c.subText)},
getScrollbarWidth:function(){if(this.scrollbarWidth)return this.scrollbarWidth;var c=document.body?D.innerWidth-document.body.clientWidth:-1;0>c&&(c=g.DEFAULT_SCROLLER_WIDTH);return c},getWidth:function(c,b){var a=0;d.each(c,function(c){a+=c.getBoundingClientRect().width+b});return a+g.SIDE_SHEET_PADDING+this.scrollbarWidth}};return l});"use strict";y.when("A","a-popover","desktop-configurator-constants").register("desktop-configurator-popover-factory",function(d,g,q){function l(a){var b=w("\x3cdiv /\x3e"),
c=w("\x3cspan /\x3e"),d=a.title,f=a.showImageInPopOver,p=!a.hideSlots;b.addClass("desktop-configurator-popover-content");c.addClass("desktop-configurator-title-block a-size-base a-color-base a-text-bold");c.text(d);b.append(c);f&&(c=w("\x3cdiv /\x3e"),f=w("\x3cimg /\x3e"),f.attr("src",a.image),f.attr("data-a-image-source",a.image),f.attr("alt",d),c.append(f),b.addClass("visual-dimension"),c.addClass("desktop-configurator-image-block"),b.prepend(c));p&&m(b,a.slotNode);return b}function m(a,b){b="string"===
typeof b?b:b.clone();var c=w("\x3cdiv /\x3e");a.find(".desktop-configurator-slot-block").remove();c.addClass("desktop-configurator-slot-block");c.html(b);f(c);a.append(c)}function f(b){var c=b.find(".price_slot_ppu"),f=b.find("#ms3slot"),k=b.find(".twister_swatch_price"),g=b.find("#twisterAvailability"),m=b.find("#deliveryPromisePrefix"),l=b.find(".variationReviewsSection"),q=b.find(".default-slot-unavailable"),u=b.find(".loading-indicator-1");b=b.find(".twisterPrimeWardrobe");var r={variationReviews:l,
price:k,ms3:f,twisterAvailability:g.parent(),deliveryPromise:m.parent(),ppu:c,twisterPrimeWardrobe:b};u.length&&(u.addClass("loading-indicator-in-popover"),0===a.length?u.addClass("aok-hidden"):u.removeClass("aok-hidden"));d.each(p,function(b){r[b]&&(-1===a.indexOf(b)?r[b].addClass("aok-hidden"):(r[b].removeClass("aok-hidden"),b=t[b+"_styleSlot"],"function"===typeof b&&b.call(this,r)))});q.length&&q.removeClass("a-size-small").addClass("a-size-base")}function r(a,b,c,f){c=l({slotNode:c.slotNode,title:c.title,
showImageInPopOver:c.showImageInPopOver,image:c.image,hideSlots:f});b=g.create(b,{name:a,inlineContent:c,closeButton:!1,padding:"none",activate:"none",restoreFocusOnHide:!1});k[a]=b;u[a]||(d.on("a:popover:afterShow:"+a,function(a){d.delay(function(){w(x.DIMENSION_VALUES_LIST).removeClass("stop-scrolling-dc")})}),u[a]=!0);return b}function z(a,b,c){if(a=k[a])b=l({slotNode:b.slotNode,title:b.title,showImageInPopOver:b.showImageInPopOver,image:b.image,hideSlots:c}),a.update({content:b});return a}var w=
d.$,k={},u={},C=q.POPOVER_DELAY,x=q.sideSheetSelectors,c=null,b=null,a=[],p=q.CONFIGURED_SLOTS,t={price_styleSlot:function(a){var b=a.ppu;a=a.price;a.length&&(a.find(".a-size-base").removeClass("a-size-base").addClass("a-size-large"),b.length&&b.removeClass("a-size-micro").addClass("a-size-small"))},ms3_styleSlot:function(a){a=a.ms3;a.length&&a.find(".a-icon-mini").removeClass("a-icon-mini").addClass("a-icon-small")},twisterAvailability_styleSlot:function(a){var b=a.twisterAvailability;b.length&&
(a=a.ms3,b.find(".a-size-small").removeClass("a-size-small").addClass("a-size-base"),a.length&&a.after(b))},deliveryPromise_styleSlot:function(a){a=a.deliveryPromise;a.length&&a.addClass("a-size-base")}};return{show:function(a,f,p,k){c=this.exists(a)?z.call(this,a,p,k):r.call(this,a,f,p,k);clearTimeout(b);var g=this;b=d.delay(function(){w(x.DIMENSION_VALUES_LIST).addClass("stop-scrolling-dc");c&&c.show();g.updateIfCurrentlyActive(a,p.slotNode)},C)},exists:function(a){return!!k[a]},hide:function(a){(a=
k[a])&&a.hide();c=null;clearTimeout(b)},updateIfCurrentlyActive:function(a,b){c&&c.$container&&c.attributes.name===a&&(a=c.$container.find(".desktop-configurator-popover-content"),m(a,b))},destroy:function(a){k[a]&&g.remove(a);delete k[a];clearTimeout(b)},setVisibleSlotConfig:function(b){a=b}}});"use strict";y.when("A").register("desktop-configurator-twister-register",function(){var d=[];return{registerModifier:function(g){d.push(g)},executeModifiers:function(g){d.forEach(function(d){d.modify&&"function"===
typeof d.modify&&d.modify(g)})}}});"use strict";y.when("A","desktop-configurator-constants").register("desktop-configurator-widgets-factory",function(d,g){var q=d.$,l=g.widgetSelectors,m=g.classes,f=g.cssConstants,r=g.loggingConstants;g=function(){function f(){var c=q(l.IMAGE_THUMBNAIL).attr("src");return c&&c.length&&(c=c.split("."),2<c.length)?c[c.length-2]:!1}function k(c,b,a,d){d=d&&0<d.length?d:c.find(".a-button");b&&!a?(d.addClass("text-swatch-button-with-slots").removeClass("text-swatch-button"),
c.find("hr").show(),c.find("hr").removeClass("aok-hidden")):(d.removeClass("text-swatch-button-with-slots").addClass("text-swatch-button"),c.find("hr").hide(),c.find("hr").addClass("aok-hidden"))}return{alignTextSwatches:function(c,b,a){var f=0,k,e;d.each(c,function(c){c.domNode&&(c.isVisible||b||a)&&(k=c.domNode.attr("data-idxInToggleSwatchList"),e=a?q("#desktop-configurator-side-sheet").find("[data-idxInToggleSwatchList\x3d"+k+"]"):c.domNode,c=e.find(".swatch-title-text-display"),c.length&&c[0].style.removeProperty("height"),
c=c?c.height():0,f<c&&(f=c))});d.each(c,function(c){c.domNode&&(c.isVisible||b||a)&&(k=c.domNode.attr("data-idxInToggleSwatchList"),e=a?q("#desktop-configurator-side-sheet").find("[data-idxInToggleSwatchList\x3d"+k+"]"):c.domNode,e.find(".swatch-title-text-display").height(f))})},createSwatch:function(c,b,a,d,f,e,n){var g=!b.unavailable,m=b.isVisible,l=b.selected,q=b.showSlot,u=b.slotHtm;a="#"+a;if(e.length)return e=e.clone(),e.removeClass("swatch-prototype"),f&&e.addClass("slots-hidden"),e.attr("data-idxInToggleSwatchList",
d),d=e.find(a).attr("id",b.id),e.find(a+"-announce").attr("id",b.id+"-announce"),e.find("input").attr({name:b.name,"aria-labelledby":b.id+"-announce"}),e.find("text"===c?".swatch-title-text-display":"square_image"===c?".swatch-title-text":".swatch-text").text(b.text),g||d.addClass("a-button-unavailable"),l&&d.addClass("a-button-selected"),"text"!==c&&(l=e.find(".swatch-image"),l.addClass("inline-twister-manual-load"),l.attr({"data-a-image-source":b.image||"",id:"inline-twister-image-"+b.name,alt:b.text})),
l=e.find(".dimension-slot-info"),l.length&&(l.attr("id","dimension-slot-info-"+b.name),q?g?0<u.length&&l.html(u):l.html(b.defaultSlotUnavailable):e.find("text"===c?".slots-padding":".dimension-slot-info").addClass("aok-hidden"),"text"===c&&k(e,q,f,d)),n.append(e),m||e.addClass("aok-hidden"),e},getThumbnailImageUrlForPhysicalId:function(c){return c&&c.length&&(c=c.split("."),2<c.length)?(c.splice(-2,1,f()),c.join(".")):!1},updateSlotSectionInTextSwatch:k}}();var z=function(f){function k(c,b,a,d,g,
e,n,l){this.id=c.id;this.unavailable=!!c.unavailable;this.selected=!!c.selected;this.showSlot=c.showSlot;this.slotHtm=c.slotHtm;this.isImageSwatch=!b;this.asin=c.asin;this.pageUrl=c.pageUrl;this.hideSlotsFromMainView=g;var m=b?"text":c.isCirclularImageSwatch?"circular_image":"square_image";this.domNode=l?q(l):f.createSwatch(m,c,a,d,g,e,n);this.isVisible=c.isVisible;this.imageUrl=c.image;this.popoverImage=c.popoverImage;this.isSlotVisible=!0;this.slotNodeIdentifier=b?".slots-padding":".dimension-slot-info";
this.title=c.text;this.name=c.name;this.subscribeToHoverEvent(a)}k.prototype={setState:function(c,b,a,d){this.selected=!!c.selected;this.updateAvailablity(c);this.updateSlotNode(c,b,a);this.updateVisibility(c);this.updateSwatchIndexInDomNode(d);return this},getSlotNode:function(c){this.slotNode||(this.slotNode=this.domNode.find(l.SLOT_NODE_SELECTOR));if(!c)return this.slotNode;c=this.slotNode?this.slotNode.attr("id"):"";return q("#desktop-configurator-side-sheet").find("#"+c)},updateSlotNode:function(c,
b,a){this.slotNode||(this.slotNode=this.domNode.find(l.SLOT_NODE_SELECTOR));this.showSlot!==c.showSlot&&((this.showSlot=c.showSlot)?this.domNode.find(this.slotNodeIdentifier).removeClass("aok-hidden"):this.domNode.find(this.slotNodeIdentifier).addClass("aok-hidden"),this.isImageSwatch||f.updateSlotSectionInTextSwatch(this.domNode,this.showSlot,this.hideSlotsFromMainView));this.slotHtm!==c.slotHtm&&(b&&q("#tp-inline-twister-sec-view-"+a+" #"+this.slotNode.attr("id")).html(c.slotHtm),this.slotNode.html(c.slotHtm),
this.slotHtm=c.slotHtm)},updateAvailablity:function(c){this.toggleButton||(this.toggleButton=this.domNode.find(l.TOGGLE_BUTTON_SELECTOR));(this.unavailable=c.unavailable)?this.toggleButton.addClass(m.A_BUTTON_UNAVAILABLE):this.toggleButton.removeClass(m.A_BUTTON_UNAVAILABLE)},updateSelection:function(){this.toggleButton||(this.toggleButton=this.domNode.find(l.TOGGLE_BUTTON_SELECTOR));this.selected?(this.toggleButton.addClass(m.A_BUTTON_SELECTED),this.toggleButton.removeClass(m.A_BUTTON_UNAVAILABLE)):
(this.toggleButton.removeClass(m.A_BUTTON_SELECTED),this.toggleButton.removeClass(m.A_BUTTON_FOCUS))},updateVisibility:function(c){c.isVisible?this.domNode.removeClass(m.AOK_HIDDEN):this.domNode.addClass(m.AOK_HIDDEN);this.isVisible=c.isVisible},subscribeToHoverEvent:function(c){c="desktop-configurator-swatch-hover:"+c;try{d.declarative.remove(this.domNode,c),d.declarative.create(this.domNode,c,{})}catch(b){y.log("Hover event subscribe failed with error: "+this.name,r.ERROR,r.ATTRIBUTION)}},updateSwatchIndexInDomNode:function(c){this.domNode&&
this.domNode.attr("data-idxInToggleSwatchList",c)},getTopPosition:function(){var c=this.domNode.position();return this.topPosition=c?c.top:0}};return k}(g),w=function(f,k){function c(b,a,c,f){var e=this;this.isTextSwatch=b.isTextSwatch;this.name=b.name;this.domNode=q(l.EXPANDER_CONTENT_PREFIX+b.name);this.title=f;this.selectedSwatch=null;this.swatches={};this.orderedSwatchList=[];this.initialVisibleSwatchList={};this.swatchIdxOrder=[];this.isPageRefreshActive=!1;this.totalSwatchCount=b.totalSwatchCount||
0;this.onChange=b.onChange;this.hoverHandler=b.onHover;this.isUserInteracting=!1;this.autoNotificationCallback=a.autoNotificationCallback;this.rowContainer=c;this.swatchListContainer=this.domNode.find(l.DIMENSION_VALUES_LIST);this.markAutoUpdated=!1;this.hideSlotsFromMainView=b.hideSlotsFromMainView;this.windowResizeCallback=a.windowResizeCallback;this.preserveNaturalSwatchOrder=b.preserveNaturalSwatchOrder;this.displaySwatches=[];this.numberOfSwatchesPerRow=0;this.swatchPrototypeNode=q("#"+b.name).closest(l.SWATCH_NODE_SELECTOR);
this.swatchPrototypeNodeParent=this.swatchPrototypeNode.parent();d.on("a:button-group:"+this.name+":toggle",function(a){var b=parseInt(a.selectedButton.buttonName,10),c=e.swatches[b];c?e.isPageRefreshActive?(e.isUserInteracting=!0,b=c.unavailable,c.updateSelection(),e.autoNotificationCallback&&e.autoNotificationCallback(b,!0),e.onChange&&e.onChange(e.swatches,a.selectedButton,e.markAutoUpdated),e.setAutoUpdated(!1)):c.pageUrl&&(D.location.href=c.pageUrl):(a="Selected swatch not found on toggle button click. Value clicked: "+
b+" ; Swatch length: "+Object.keys(e.swatches).length,y.log(a,r.ERROR,r.ATTRIBUTION))});this.registerHoverDeclarative("desktop-configurator-swatch-hover:"+b.name);this.registerHoverDeclarative("desktop-configurator-swatch-hover:"+b.name+"_sec",!0);if(this.isTextSwatch)d.on("resize",function(){0<e.displaySwatches.length&&(e.repopulateDisplaySwatches(),e.alignTextSwatches(),e.alignTextSwatchNodesInLastRow(),"function"===typeof e.windowResizeCallback&&e.windowResizeCallback(e.name))})}c.prototype={setState:function(b,
a,c,f){var e=this,g,l=[],m=[],q=[];d.objectIsEmpty(a)||(d.each(a,function(a,d){if(!e.swatches[d]&&(b.swatches[d].isVisible||c)){var f=new k(b.swatches[d],e.isTextSwatch,e.name,d,e.hideSlotsFromMainView,e.swatchPrototypeNode,e.swatchPrototypeNodeParent);f.subscribeToHoverEvent(e.name);e.swatches[d]=f;!e.isTextSwatch&&e.swatches[d]&&e.swatches[d].domNode&&q.push(e.swatches[d].domNode.find(".inline-twister-manual-load")[0])}m[a]=d}),this.swatchIdxOrder=m,f||(this.resetToggleSwatchContainer(),this.displaySwatches=
[]),d.each(this.swatchIdxOrder,function(a,b){if(a=e.swatches[a])a&&e.swatchListContainer.append(a.domNode),a&&a.subscribeToHoverEvent(e.name),e.addToDisplaySwatches(a,e.displaySwatches)}));d.each(b.swatches,function(a,b){if(e.swatches[b])g=a.selected?e.swatches[b]:g,e.swatches[b].selected=!!a.selected,l.push({index:b,data:a});else{if(a.isVisible||c)e.swatches[b]=new k(a,e.isTextSwatch,e.name,b,e.hideSlotsFromMainView,e.swatchPrototypeNode,e.swatchPrototypeNodeParent),e.swatches[b].subscribeToHoverEvent(e.name),
e.addToDisplaySwatches(e.swatches[b],e.displaySwatches),!e.isTextSwatch&&e.swatches[b]&&e.swatches[b].domNode&&q.push(e.swatches[b].domNode.find(".inline-twister-manual-load")[0]);a.selected&&(g=e.swatches[b])}});this.selectedSwatch&&this.selectedSwatch.updateSelection();g&&g.updateSelection();d.each(l,function(a,b){e.swatches[a.index].setState(a.data,c,e.name,a.index)});this.isTextSwatch&&(d.objectIsEmpty(a)?this.alignTextSwatchNodesInLastRow():this.alignTextSwatches());e.selectedSwatch&&g&&e.selectedSwatch!==
g&&!e.isUserInteracting&&e.autoNotificationCallback(!0);e.selectedSwatch=g;e.isUserInteracting=!1;q.length&&d.loadImageManually(q);return this},getSlotNodes:function(b){return d.map(this.displaySwatches,function(a){return d.map(a,function(a){return a.getSlotNode(b)})})},setUserInteracting:function(b){this.isUserInteracting=b},alignTextSwatches:function(b,a){d.each(this.displaySwatches,function(c){f.alignTextSwatches(c,b,a)})},alignTextSwatchNodesInLastRow:function(){var b=this.domNode.find(".inline-twister-swatch:not(.aok-hidden):not(.swatch-prototype)");
if(1<b.length){var a=b[b.length-1],c=b[b.length-2];a&&c&&a.getBoundingClientRect().top===c.getBoundingClientRect().top&&(b=d.map(b.slice(b.length-(b.length%this.numberOfSwatchesPerRow||this.numberOfSwatchesPerRow),b.length),function(a){return this.swatches[a.getAttribute("data-idxInToggleSwatchList")]},this),f.alignTextSwatches(b))}},resetToggleSwatchContainer:function(){var b=q(this.domNode.find(".a-button-list").children()[0]);this.swatchListContainer.html("");this.swatchListContainer.append(b)},
getVisibleSwatchesSize:function(){var b=0;d.each(this.swatches,function(a,c){a.isVisible&&(b+=1)});return b},setAutoUpdated:function(b){this.markAutoUpdated=b},getInitialVisibleSwatchList:function(){return this.initialVisibleSwatchList},getNumberOfSwatchesPerRow:function(){return this.numberOfSwatchesPerRow},setNumberOfSwatchesPerRow:function(b){b&&(this.numberOfSwatchesPerRow=b)},createSwatch:function(b,a){a=new k(b,this.isTextSwatch,this.name,b.name,this.hideSlotsFromMainView,this.swatchPrototypeNode,
this.swatchPrototypeNodeParent,a);this.swatches[b.name]=a;this.initialVisibleSwatchList[b.name]=a;this.selectedSwatch=b.selected?a:this.selectedSwatch;this.orderedSwatchList.push(a);return a},activatePageRefresh:function(){this.isPageRefreshActive=!0;this.domNode.find(".page-load-link").remove()},getSwatch:function(b){return this.swatches[b]?this.swatches[b]:{}},registerHoverDeclarative:function(b,a){var c=this;d.declarative(b,"mouseenter mouseleave",function(b){var e=b.$currentTarget[0].getAttribute("data-idxInToggleSwatchList"),
e=c.getSwatch(e);b.data={slotNode:b.$currentTarget.find(e.slotNodeIdentifier),showImageInPopOver:e.isImageSwatch&&!!e.popoverImage,unavailable:e.unavailable,showSlot:e.showSlot,selected:e.selected,title:e.title,name:e.name,id:a?e.id+"_sec":e.id,image:e.popoverImage};c.hoverHandler(c.name,b)})},addToDisplaySwatches:function(b,a){var c=m.ROW_IDENTIFIER_PREFIX;if(0===a.length)a.push([b]);else{var d=a[a.length-1];d&&d.length===this.numberOfSwatchesPerRow?a.push([b]):d.push(b)}this.removeSwatchRowIdentifier(b);
b.domNode&&b.domNode.addClass(c+(a.length-1).toString())},repopulateDisplaySwatches:function(){if(0!==this.displaySwatches.length){var b=[],a=0,c,f=this;d.each(this.displaySwatches,function(e,k){d.each(e,function(e,d){0===b.length?b.push([e]):0===a?(c=b[0][b[0].length-1],e.getTopPosition()!==c.getTopPosition()?(a=b[0].length,f.numberOfSwatchesPerRow=a,f.addToDisplaySwatches(e,b)):(b[0].push(e),f.removeSwatchRowIdentifier(e),e.domNode&&e.domNode.addClass(m.ROW_IDENTIFIER_PREFIX+(0).toString()))):f.addToDisplaySwatches(e,
b)})});0===a&&(this.numberOfSwatchesPerRow=a=b[0].length);this.displaySwatches=b}},removeSwatchRowIdentifier:function(b){b.domNode&&b.domNode.removeClass(function(a,b){return(b.match(/(^|\s)desktop-configurator-dim-row-\S+/g)||[]).join(" ")})},createDisplaySwatches:function(){var b=this;d.each(this.orderedSwatchList,function(a){b.addToDisplaySwatches(a,b.displaySwatches)})},removeMisplacedSwatch:function(){var b=this.displaySwatches[this.displaySwatches.length-1],a=b[b.length-1],c=a.name;a.domNode&&
a.domNode.remove();delete this.swatches[c];this.selectedSwatch&&this.selectedSwatch.name===c&&(this.selectedSwatch=null);1<b.length?b.pop():this.displaySwatches.pop()},removeInitiallyHiddenSwatches:function(){for(var b=this.domNode.find(".inline-twister-swatch.aok-hidden:not(.swatch-prototype)"),a=b.length-1;0<=a;a--){var c=b[a];c.parentNode.removeChild(c)}}};return c}(g,z),k=function(f){function k(c){this.mainText=c.mainText;this.subText=c.subText;this.dimKey=c.dimKey;this.titleSelectorPrefix=c.titleSelectorPrefix;
this.titleValueSelector=c.titleValueSelector;this.domNode=q("#"+this.titleSelectorPrefix+this.dimKey)}k.prototype={refresh:function(){this.domNode.find("."+this.titleValueSelector).text(this.subText);this.domNode.removeClass("twister-plus-inline-twister-dim-required twister-plus-inline-twister-dim-required-delay")},setState:function(c){return d.equals(c,q.extend({},this))?this:(q.extend(this,c),this.refresh())},getData:function(){return{mainText:this.mainText,subText:this.subText}}};return k}(g),
u=function(k,g,c){function b(a,b,c,e,k){function u(){w=w||r.domNode.find(".dimension-heading");w.css(f.BG_COLOR,f.GREEN_BG_COLOR);d.delay(function(){d.animate(w,{"background-color":f.WHITE_BG_COLOR},200)},1E3)}var r=this;this.disableCollapseFunctionality=c.inlineTwisterData?c.inlineTwisterData.disableCollapseFunctionality:!1;this.stringTranslationMap=c.inlineTwisterData?c.inlineTwisterData.stringTranslationMap:{};this.title=b?new g(b):null;this.dimKey=c.dimKey;this.domNode=q("#"+a+this.dimKey);this.showSlot=
c.showSlot;this.logger=k;this.isTwisterCoreInitialized=this.markAutoUpdated=!1;this.expanderContent=r.domNode.find(l.EXPANDER_CONTENT_PREFIX+this.dimKey);this.expanderHeader=r.domNode.find(l.EXPANDER_HEADER_PREFIX+this.dimKey);this.icon=r.domNode.find(l.DIMENSION_EXPANDER_ICON_PREFIX+this.dimKey);this.expandedText=r.domNode.find(l.EXPANDED_DIMENSION_TEXT_PREFIX+this.dimKey);this.collapsedText=r.domNode.find(l.COLLAPSED_DIMENSION_TEXT_PREFIX+this.dimKey);this.rowCallbacks=e;this.autoNotificationExpanded=
r.domNode.find(l.AUTO_NOTIFICATION_EXPANDED);this.autoNotificationExpandedText=r.autoNotificationExpanded.text();this.imageThumbnail=r.domNode.find(l.IMAGE_THUMBNAIL);this.sideSheetLink=this.domNode.find(".tp-side-sheet-link-container");this.isExpanded=this.expanderContent.hasClass("dimension-expander-content-expand");var w;this.autoNotificationCallback=function(a,b){var c=r.autoNotificationExpandedText;a?r.isExpanded&&b?(r.autoNotificationExpanded.find("."+m.A_COLOR_ATTAINABLE).html(c),r.autoNotificationExpanded.removeClass(m.AOK_HIDDEN)):
(u(),r.setAutoUpdated(!0)):r.hideAutoNotification()};this.disableCollapseFunctionality||d.declarative("toggle-dimension-expander-"+this.dimKey,"click",function(a){r.isExpanded?r.collapse():r.expand();r.hideAutoNotification()})}b.prototype={setState:function(a,b,c,e,d,f){this.toggleSwatch&&c!==this.dimKey&&this.autoNotificationExpanded.addClass(m.AOK_HIDDEN);a&&this.toggleSwatch&&this.toggleSwatch.setState(a,b,d,f);d||e&&this.title&&this.title.setState(e)},expand:function(){this.expanderContent&&this.expanderContent.css("visibility",
"");this.expanderContent&&this.expanderContent.addClass(m.DIMENSION_EXPANDER_CONTENT_EXPAND);this.icon&&this.icon.addClass(m.ROTATE);this.expandedText&&this.expandedText.removeClass(m.AOK_HIDDEN);this.collapsedText&&this.collapsedText.addClass(m.AOK_HIDDEN);this.imageThumbnail.addClass(m.AOK_HIDDEN);this.isExpanded=!0;var a={dimKey:this.dimKey};"function"===typeof this.rowCallbacks.handleDimensionExpansion&&this.isTwisterCoreInitialized&&this.rowCallbacks.handleDimensionExpansion(a,this.showSlot,
!0);if(this.expanderHeader){var a=this.stringTranslationMap?this.stringTranslationMap.expanderHeaderAriaLabel:"",b=this.title.getData(),a=a.replace("###dimension",b.mainText).replace("###value",b.subText),a=a+" "+(this.stringTranslationMap?this.stringTranslationMap.tapToCollapse:"");this.expanderHeader.attr("aria-label",a);this.expanderHeader.find(l.DIMENSION_EXPANDER_ICON_WRAPPER).attr("aria-label",a)}this.markAutoUpdated&&(this.logger.logDimExpansionAfterAutoUpdate(),this.markAutoUpdated=!1)},collapse:function(){this.expanderContent&&
this.expanderContent.removeClass(m.DIMENSION_EXPANDER_CONTENT_EXPAND);this.expanderContent&&this.expanderContent.css("visibility","hidden");this.icon&&this.icon.removeClass(m.ROTATE);this.expandedText&&this.expandedText.addClass(m.AOK_HIDDEN);this.collapsedText&&this.collapsedText.removeClass(m.AOK_HIDDEN);this.imageThumbnail.removeClass(m.AOK_HIDDEN);this.isExpanded=!1;var a={dimKey:this.dimKey};"function"===typeof this.rowCallbacks.handleDimensionExpansion&&this.isTwisterCoreInitialized&&this.rowCallbacks.handleDimensionExpansion(a,
this.showSlot,!1);this.autoNotificationExpanded.addClass(m.AOK_HIDDEN);if(this.expanderHeader){var a=this.stringTranslationMap?this.stringTranslationMap.expanderHeaderAriaLabel:"",b=this.title.getData(),a=a.replace("###dimension",b.mainText).replace("###value",b.subText),a=a+" "+(this.stringTranslationMap?this.stringTranslationMap.tapToExpand:"");this.expanderHeader.attr("aria-label",a);this.expanderHeader.find(l.DIMENSION_EXPANDER_ICON_WRAPPER).attr("aria-label",a)}},setUserInteracting:function(a){this.toggleSwatch&&
this.toggleSwatch.setUserInteracting(a)},setExpanderHeaderAriaLabel:function(a,b){a=this.expanderHeader.attr("aria-label").replace(a.subText,b.subText);this.expanderHeader.attr("aria-label",a);this.expanderHeader.find(l.DIMENSION_EXPANDER_ICON_WRAPPER).attr("aria-label",a)},setThumbnailImage:function(a){(a=k.getThumbnailImageUrlForPhysicalId(a))&&this.imageThumbnail.attr("src",a)},setAutoUpdated:function(a){this.markAutoUpdated=a;this.toggleSwatch&&this.toggleSwatch.setAutoUpdated(a)},getInitialVisibleSwatchList:function(){return this.toggleSwatch?
this.toggleSwatch.getInitialVisibleSwatchList():{}},getSwatch:function(a){return this.toggleSwatch?this.toggleSwatch.getSwatch(a):{}},activatePageRefresh:function(){this.toggleSwatch&&this.toggleSwatch.activatePageRefresh()},showSideSheetLink:function(){this.sideSheetLink.removeClass("aok-hidden")},hideSideSheetLink:function(){this.sideSheetLink.addClass("aok-hidden")},setMaxHeight:function(a){this.expanderContent.css("max-height",a)},triggerExpandOrCollapseAnimation:function(a,b,c){var e=this;this.expanderContent.animate({"max-height":a+
"px"},b,function(){e.setMaxHeight("");c&&c()})},getDisplaySwatches:function(){return this.toggleSwatch?this.toggleSwatch.displaySwatches:[]},createDisplaySwatches:function(){this.toggleSwatch&&this.toggleSwatch.createDisplaySwatches()},hideAutoNotification:function(){this.autoNotificationExpanded.addClass(m.AOK_HIDDEN)},initializeComponents:function(a,b,f){if(!this.toggleSwatch&&a){var e=this.title.getData();this.toggleSwatch=new c(a,{windowResizeCallback:f.handleWindowResize,autoNotificationCallback:this.autoNotificationCallback},
this.domNode,e.mainText)}this.isTextSwatch=a?a.isTextSwatch:!0;this.rowCallbacks=d.extend(this.rowCallbacks,f);this.totalSwatchCount=a?a.totalSwatchCount:0;this.showSlot=b;var k=this;d.declarative("open-desktop-configurator-side-sheet:"+this.dimKey,"click",function(){"function"===typeof k.rowCallbacks.showSideSheet&&k.isTwisterCoreInitialized&&(k.rowCallbacks.showSideSheet(k.dimKey,k.showSlot,k.title.getData()),k.hideAutoNotification())})},postInitialize:function(){this.isTwisterCoreInitialized=!0;
var a={dimKey:this.dimKey};this.toggleSwatch&&this.toggleSwatch.removeInitiallyHiddenSwatches();this.isExpanded&&this.rowCallbacks.handleDimensionExpansion(a,this.showSlot,!0)}};return b}(g,k,w);return{Swatch:z,ToggleSwatch:w,Title:k,Row:u,utils:g}});"use strict";y.when("A","detail-page-side-sheet-handlers").register("detail-page-side-sheet",function(d,g){function q(d){var f=d.id&&"string"===typeof d.id,l=1===z("#"+d.id).length;if(f&&l)this.id=d.id,this.shouldRenderHTMLString=!!d.shouldRenderHTMLString,
this.animationDuration=d.animationDuration||300,this.container=g.getContainer(d.id),this.onBeforeShow=d.onBeforeShow,this.onAfterHide=d.onAfterHide,f=d.width||580,(l=this.container)&&l.width(f),r(d.id,f),m.call(this);else throw d="Side sheet initialisation failed: "+(f?"Side sheet not present in DOM, or multiple instances of side sheet ID "+d.id+" exist":"Invalid Side sheet ID"),y.log(d,"ERROR","DetailPageSideSheet"),d;}function l(d){var f=this.container;d=this.shouldRenderHTMLString?z(d):z(d).clone();
f.html(d);d.css("display","block");f.removeClass("aok-hidden")}function m(){var f=this;d.declarative("close-detail-page-side-sheet:"+this.id,"click",function(){f.close()});d.declarative("open-detail-page-side-sheet:"+this.id,"click",function(d){f.open(d&&d.data?d.data.content:null)})}function f(d){d.code&&"escape"===d.code.toLowerCase()&&(this.close(),document&&document.removeEventListener("keydown",w))}function r(d,f){d=z("#"+d+"-background .close-button");d.length&&(d[0].style.marginRight=f+10+
"px")}var z=d.$,w=null;q.prototype={open:function(d){if(d&&"string"===typeof d){l.call(this,d);if(this.onBeforeShow)this.onBeforeShow();g.showSideSheet(this.id,this.animationDuration);w=f.bind(this);document&&document.addEventListener("keydown",w)}else y.log("Invalid side sheet content. Side sheet ID: "+this.id,"ERROR","DetailPageSideSheet")},close:function(){g.closeSideSheet(this.id,this.animationDuration);g.resetSideSheetContainer(this.container);if(this.onAfterHide)this.onAfterHide()},updateWidth:function(d){var f=
this.container;f&&f.width(d);r(this.id,d)},updateContent:function(d){d&&"string"===typeof d?l.call(this,d):y.log("Invalid side sheet content. Side sheet ID: "+this.id,"ERROR","DetailPageSideSheet")}};return q});"use strict";y.when("A").register("detail-page-side-sheet-handlers",function(d){function g(d,g){m("#"+d+" .detail-page-side-sheet-content").show(function(){l({right:"0px"},d,g)})}function q(d,g){m("#"+d+" .detail-page-side-sheet-content").show(function(){l({right:"-600px"},d,g)})}function l(f,
g,l){d.animate(m("#"+g+" .detail-page-side-sheet-content"),f,l)}var m=d.$;return{showSideSheet:function(d,l){m("body").css("overflow","hidden");m(".detail-page-side-sheet-darken-bg").removeClass("aok-hidden");m("#"+d).removeClass("aok-hidden");g(d,l)},closeSideSheet:function(d,g){q(d,g);m(".detail-page-side-sheet-darken-bg").addClass("aok-hidden");m("#"+d).addClass("aok-hidden");m("body").css("overflow","scroll")},getContainer:function(d){return m("#"+d).find(".detail-page-side-sheet-content")},resetSideSheetContainer:function(d){d.html("")}}})});